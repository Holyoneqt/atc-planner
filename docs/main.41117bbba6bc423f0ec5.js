(self.webpackChunkatc_planner=self.webpackChunkatc_planner||[]).push([[179],{255:Do=>{function wr(Xn){return Promise.resolve().then(()=>{var Jt=new Error("Cannot find module '"+Xn+"'");throw Jt.code="MODULE_NOT_FOUND",Jt})}wr.keys=()=>[],wr.resolve=wr,wr.id=255,Do.exports=wr},676:function(Do,wr){!function(Xn){"use strict";function Jt(F){return Array.prototype.slice.call(F)}function Io(F){return new Promise(function(te,ue){F.onsuccess=function(){te(F.result)},F.onerror=function(){ue(F.error)}})}function Pt(F,te,ue){var Re,de=new Promise(function(K,ki){Io(Re=F[te].apply(F,ue)).then(K,ki)});return de.request=Re,de}function Ri(F,te,ue){var Re=Pt(F,te,ue);return Re.then(function(de){if(de)return new me(de,Re.request)})}function Jn(F,te,ue){ue.forEach(function(Re){Object.defineProperty(F.prototype,Re,{get:function(){return this[te][Re]},set:function(de){this[te][Re]=de}})})}function Mi(F,te,ue,Re){Re.forEach(function(de){de in ue.prototype&&(F.prototype[de]=function(){return Pt(this[te],de,arguments)})})}function hs(F,te,ue,Re){Re.forEach(function(de){de in ue.prototype&&(F.prototype[de]=function(){return this[te][de].apply(this[te],arguments)})})}function zp(F,te,ue,Re){Re.forEach(function(de){de in ue.prototype&&(F.prototype[de]=function(){return Ri(this[te],de,arguments)})})}function An(F){this._index=F}function me(F,te){this._cursor=F,this._request=te}function hn(F){this._store=F}function Dr(F){this._tx=F,this.complete=new Promise(function(te,ue){F.oncomplete=function(){te()},F.onerror=function(){ue(F.error)},F.onabort=function(){ue(F.error)}})}function gl(F,te,ue){this._db=F,this.oldVersion=te,this.transaction=new Dr(ue)}function ye(F){this._db=F}Jn(An,"_index",["name","keyPath","multiEntry","unique"]),Mi(An,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),zp(An,"_index",IDBIndex,["openCursor","openKeyCursor"]),Jn(me,"_cursor",["direction","key","primaryKey","value"]),Mi(me,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(F){F in IDBCursor.prototype&&(me.prototype[F]=function(){var te=this,ue=arguments;return Promise.resolve().then(function(){return te._cursor[F].apply(te._cursor,ue),Io(te._request).then(function(Re){if(Re)return new me(Re,te._request)})})})}),hn.prototype.createIndex=function(){return new An(this._store.createIndex.apply(this._store,arguments))},hn.prototype.index=function(){return new An(this._store.index.apply(this._store,arguments))},Jn(hn,"_store",["name","keyPath","indexNames","autoIncrement"]),Mi(hn,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),zp(hn,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),hs(hn,"_store",IDBObjectStore,["deleteIndex"]),Dr.prototype.objectStore=function(){return new hn(this._tx.objectStore.apply(this._tx,arguments))},Jn(Dr,"_tx",["objectStoreNames","mode"]),hs(Dr,"_tx",IDBTransaction,["abort"]),gl.prototype.createObjectStore=function(){return new hn(this._db.createObjectStore.apply(this._db,arguments))},Jn(gl,"_db",["name","version","objectStoreNames"]),hs(gl,"_db",IDBDatabase,["deleteObjectStore","close"]),ye.prototype.transaction=function(){return new Dr(this._db.transaction.apply(this._db,arguments))},Jn(ye,"_db",["name","version","objectStoreNames"]),hs(ye,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(F){[hn,An].forEach(function(te){F in te.prototype&&(te.prototype[F.replace("open","iterate")]=function(){var ue=Jt(arguments),Re=ue[ue.length-1],de=this._store||this._index,K=de[F].apply(de,ue.slice(0,-1));K.onsuccess=function(){Re(K.result)}})})}),[An,hn].forEach(function(F){F.prototype.getAll||(F.prototype.getAll=function(te,ue){var Re=this,de=[];return new Promise(function(K){Re.iterateCursor(te,function(ki){ki?(de.push(ki.value),void 0===ue||de.length!=ue?ki.continue():K(de)):K(de)})})})}),Xn.openDb=function(F,te,ue){var Re=Pt(indexedDB,"open",[F,te]),de=Re.request;return de&&(de.onupgradeneeded=function(K){ue&&ue(new gl(de.result,K.oldVersion,de.transaction))}),Re.then(function(K){return new ye(K)})},Xn.deleteDb=function(F){return Pt(indexedDB,"deleteDatabase",[F])},Object.defineProperty(Xn,"__esModule",{value:!0})}(wr)},645:(Do,wr,Xn)=>{"use strict";function Jt(n){return"function"==typeof n}let Io=!1;const Pt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else Io&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Io=n},get useDeprecatedSynchronousErrorHandling(){return Io}};function Ri(n){setTimeout(()=>{throw n},0)}const Jn={closed:!0,next(n){},error(n){if(Pt.useDeprecatedSynchronousErrorHandling)throw n;Ri(n)},complete(){}},Mi=Array.isArray||(n=>n&&"number"==typeof n.length);function hs(n){return null!==n&&"object"==typeof n}const An=(()=>{function n(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,r)=>`${r+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n})();class me{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof me)t.remove(this);else if(null!==t)for(let o=0;o<t.length;++o)t[o].remove(this);if(Jt(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(o){e=o instanceof An?hn(o.errors):[o]}}if(Mi(s)){let o=-1,a=s.length;for(;++o<a;){const l=s[o];if(hs(l))try{l.unsubscribe()}catch(c){e=e||[],c instanceof An?e=e.concat(hn(c.errors)):e.push(c)}}}if(e)throw new An(e)}add(e){let t=e;if(!e)return me.EMPTY;switch(typeof e){case"function":t=new me(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof me)){const s=t;t=new me,t._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=t;if(null===r)t._parentOrParents=this;else if(r instanceof me){if(r===this)return t;t._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return t;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[t]:i.push(t),t}remove(e){const t=this._subscriptions;if(t){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}}}var n;function hn(n){return n.reduce((e,t)=>e.concat(t instanceof An?t.errors:t),[])}me.EMPTY=((n=new me).closed=!0,n);const Dr="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class ye extends me{constructor(e,t,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Jn;break;case 1:if(!e){this.destination=Jn;break}if("object"==typeof e){e instanceof ye?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new Nu(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new Nu(this,e,t,r)}}[Dr](){return this}static create(e,t,r){const i=new ye(e,t,r);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class Nu extends ye{constructor(e,t,r,i){super(),this._parentSubscriber=e;let s,o=this;Jt(t)?s=t:t&&(s=t.next,r=t.error,i=t.complete,t!==Jn&&(o=Object.create(t),Jt(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;Pt.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:r}=Pt;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):Ri(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;Ri(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);Pt.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(r){if(this.unsubscribe(),Pt.useDeprecatedSynchronousErrorHandling)throw r;Ri(r)}}__tryOrSetError(e,t,r){if(!Pt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(i){return Pt.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(Ri(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const te="function"==typeof Symbol&&Symbol.observable||"@@observable";function ue(n){return n}let K=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const{operator:s}=this,o=function(n,e,t){if(n){if(n instanceof ye)return n;if(n[Dr])return n[Dr]()}return n||e||t?new ye(n,e,t):new ye(Jn)}(t,r,i);if(o.add(s?s.call(o,this.source):this.source||Pt.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Pt.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){Pt.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),function(n){for(;n;){const{closed:e,destination:t,isStopped:r}=n;if(e||r)return!1;n=t&&t instanceof ye?t:null}return!0}(t)?t.error(r):console.warn(r)}}forEach(t,r){return new(r=ki(r))((i,s)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(l){s(l),o&&o.unsubscribe()}},s,i)})}_subscribe(t){const{source:r}=this;return r&&r.subscribe(t)}[te](){return this}pipe(...t){return 0===t.length?this:function(n){return 0===n.length?ue:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=ki(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function ki(n){if(n||(n=Pt.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const To=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class FV extends me{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}class DI extends ye{constructor(e){super(e),this.destination=e}}let Ve=(()=>{class n extends K{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Dr](){return new DI(this)}lift(t){const r=new II(this,this);return r.operator=t,r}next(t){if(this.closed)throw new To;if(!this.isStopped){const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].next(t)}}error(t){if(this.closed)throw new To;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new To;this.isStopped=!0;const{observers:t}=this,r=t.length,i=t.slice();for(let s=0;s<r;s++)i[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new To;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new To;return this.hasError?(t.error(this.thrownError),me.EMPTY):this.isStopped?(t.complete(),me.EMPTY):(this.observers.push(t),new FV(this,t))}asObservable(){const t=new K;return t.source=this,t}}return n.create=(e,t)=>new II(e,t),n})();class II extends Ve{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):me.EMPTY}}function So(n){return n&&"function"==typeof n.schedule}function Se(n,e){return function(r){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new LV(n,e))}}class LV{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new VV(e,this.project,this.thisArg))}}class VV extends ye{constructor(e,t,r){super(e),this.project=t,this.count=0,this.thisArg=r||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const TI=n=>e=>{for(let t=0,r=n.length;t<r&&!e.closed;t++)e.next(n[t]);e.complete()},Fu="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",SI=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function AI(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const qp=n=>{if(n&&"function"==typeof n[te])return(n=>e=>{const t=n[te]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(n);if(SI(n))return TI(n);if(AI(n))return(n=>e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ri),e))(n);if(n&&"function"==typeof n[Fu])return(n=>e=>{const t=n[Fu]();for(;;){let r;try{r=t.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(n);{const t=`You provided ${hs(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function Kp(n,e){return new K(t=>{const r=new me;let i=0;return r.add(e.schedule(function(){i!==n.length?(t.next(n[i++]),t.closed||r.add(this.schedule())):t.complete()})),r})}function Ut(n,e){return e?function(n,e){if(null!=n){if(function(n){return n&&"function"==typeof n[te]}(n))return function(n,e){return new K(t=>{const r=new me;return r.add(e.schedule(()=>{const i=n[te]();r.add(i.subscribe({next(s){r.add(e.schedule(()=>t.next(s)))},error(s){r.add(e.schedule(()=>t.error(s)))},complete(){r.add(e.schedule(()=>t.complete()))}}))})),r})}(n,e);if(AI(n))return function(n,e){return new K(t=>{const r=new me;return r.add(e.schedule(()=>n.then(i=>{r.add(e.schedule(()=>{t.next(i),r.add(e.schedule(()=>t.complete()))}))},i=>{r.add(e.schedule(()=>t.error(i)))}))),r})}(n,e);if(SI(n))return Kp(n,e);if(function(n){return n&&"function"==typeof n[Fu]}(n)||"string"==typeof n)return function(n,e){if(!n)throw new Error("Iterable cannot be null");return new K(t=>{const r=new me;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=n[Fu](),r.add(e.schedule(function(){if(t.closed)return;let s,o;try{const a=i.next();s=a.value,o=a.done}catch(a){return void t.error(a)}o?t.complete():(t.next(s),this.schedule())}))})),r})}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof K?n:new K(qp(n))}class _l extends ye{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ml extends ye{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function yl(n,e){if(e.closed)return;if(n instanceof K)return n.subscribe(e);let t;try{t=qp(n)(e)}catch(r){e.error(r)}return t}function At(n,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(At((i,s)=>Ut(n(i,s)).pipe(Se((o,a)=>e(i,o,s,a))),t)):("number"==typeof e&&(t=e),r=>r.lift(new YV(n,t)))}class YV{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new QV(e,this.project,this.concurrent))}}class QV extends ml{constructor(e,t,r=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t)}_innerSub(e){const t=new _l(this),r=this.destination;r.add(t);const i=yl(e,t);i!==t&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function vl(n=Number.POSITIVE_INFINITY){return At(ue,n)}function Yp(n,e){return e?Kp(n,e):new K(TI(n))}function RI(...n){let e=Number.POSITIVE_INFINITY,t=null,r=n[n.length-1];return So(r)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(e=n.pop())):"number"==typeof r&&(e=n.pop()),null===t&&1===n.length&&n[0]instanceof K?n[0]:vl(e)(Yp(n,t))}function Qp(){return function(e){return e.lift(new ZV(e))}}class ZV{constructor(e){this.connectable=e}call(e,t){const{connectable:r}=this;r._refCount++;const i=new XV(e,r),s=t.subscribe(i);return i.closed||(i.connection=r.connect()),s}}class XV extends ye{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:r}=this,i=e._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class MI extends K{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new me,e.add(this.source.subscribe(new eB(this.getSubject(),this))),e.closed&&(this._connection=null,e=me.EMPTY)),e}refCount(){return Qp()(this)}}const JV=(()=>{const n=MI.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class eB extends DI{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function iB(){return new Ve}function be(n){for(let e in n)if(n[e]===be)return e;throw Error("Could not find renamed property on target object.")}function Zp(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ee(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ee).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Xp(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const oB=be({__forward_ref__:be});function Jp(n){return n.__forward_ref__=Jp,n.toString=function(){return ee(this())},n}function O(n){return kI(n)?n():n}function kI(n){return"function"==typeof n&&n.hasOwnProperty(oB)&&n.__forward_ref__===Jp}class fs extends Error{constructor(e,t){super(function(n,e){return`${n?`NG0${n}: `:""}${e}`}(e,t)),this.code=e}}function Y(n){return"string"==typeof n?n:null==n?"":String(n)}function jt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Y(n)}function Lu(n,e){const t=e?` in ${e}`:"";throw new fs("201",`No provider for ${jt(n)} found${t}`)}function pn(n,e){null==n&&function(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function P(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ge(n){return{providers:n.providers||[],imports:n.imports||[]}}function Jr(n){return xI(n,Vu)||xI(n,OI)}function xI(n,e){return n.hasOwnProperty(e)?n[e]:null}function PI(n){return n&&(n.hasOwnProperty(tg)||n.hasOwnProperty(fB))?n[tg]:null}const Vu=be({\u0275prov:be}),tg=be({\u0275inj:be}),OI=be({ngInjectableDef:be}),fB=be({ngInjectorDef:be});var L=(()=>((L=L||{})[L.Default=0]="Default",L[L.Host=1]="Host",L[L.Self=2]="Self",L[L.SkipSelf=4]="SkipSelf",L[L.Optional=8]="Optional",L))();let ng;function xi(n){const e=ng;return ng=n,e}function NI(n,e,t){const r=Jr(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&L.Optional?null:void 0!==e?e:void Lu(ee(n),"Injector")}function Pi(n){return{toString:n}.toString()}var Rn=(()=>((Rn=Rn||{})[Rn.OnPush=0]="OnPush",Rn[Rn.Default=1]="Default",Rn))(),tt=(()=>((tt=tt||{})[tt.Emulated=0]="Emulated",tt[tt.None=2]="None",tt[tt.ShadowDom=3]="ShadowDom",tt))();const gB="undefined"!=typeof globalThis&&globalThis,_B="undefined"!=typeof window&&window,mB="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ce=gB||"undefined"!=typeof global&&global||_B||mB,Ao={},Ae=[],Bu=be({\u0275cmp:be}),rg=be({\u0275dir:be}),ig=be({\u0275pipe:be}),FI=be({\u0275mod:be}),yB=be({\u0275loc:be}),ei=be({\u0275fac:be}),bl=be({__NG_ELEMENT_ID__:be});let vB=0;function gn(n){return Pi(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Rn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ae,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||tt.Emulated,id:"c",styles:n.styles||Ae,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=vB++,r.inputs=UI(n.inputs,t),r.outputs=UI(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(LI):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(VI):null,r})}function LI(n){return $t(n)||function(n){return n[rg]||null}(n)}function VI(n){return function(n){return n[ig]||null}(n)}const BI={};function nt(n){return Pi(()=>{const e={type:n.type,bootstrap:n.bootstrap||Ae,declarations:n.declarations||Ae,imports:n.imports||Ae,exports:n.exports||Ae,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(BI[n.id]=n.type),e})}function UI(n,e){if(null==n)return Ao;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const rt=gn;function $t(n){return n[Bu]||null}function Mn(n,e){const t=n[FI]||null;if(!t&&!0===e)throw new Error(`Type ${ee(n)} does not have '\u0275mod' property.`);return t}const X=11;function Ir(n){return Array.isArray(n)&&"object"==typeof n[1]}function tr(n){return Array.isArray(n)&&!0===n[1]}function ag(n){return 0!=(8&n.flags)}function Hu(n){return 2==(2&n.flags)}function Wu(n){return 1==(1&n.flags)}function nr(n){return null!==n.template}function TB(n){return 0!=(512&n[2])}function ys(n,e){return n.hasOwnProperty(ei)?n[ei]:null}class $I{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function HI(n){return n.type.prototype.ngOnChanges&&(n.setInput=MB),RB}function RB(){const n=zI(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===Ao)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function MB(n,e,t,r){const i=zI(n)||function(n,e){return n[WI]=e}(n,{previous:Ao,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],l=o[a];s[a]=new $I(l&&l.currentValue,e,o===Ao),n[r]=e}const WI="__ngSimpleChanges__";function zI(n){return n[WI]||null}let ug;function qe(n){return!!n.listen}const KI={createRenderer:(n,e)=>void 0!==ug?ug:"undefined"!=typeof document?document:void 0};function it(n){for(;Array.isArray(n);)n=n[0];return n}function zu(n,e){return it(e[n])}function Pn(n,e){return it(e[n.index])}function hg(n,e){return n.data[e]}function mn(n,e){const t=e[n];return Ir(t)?t:t[0]}function YI(n){return 4==(4&n[2])}function fg(n){return 128==(128&n[2])}function Ni(n,e){return null==e?null:n[e]}function QI(n){n[18]=0}function pg(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const $={lFrame:iT(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ZI(){return $.bindingsEnabled}function E(){return $.lFrame.lView}function fe(){return $.lFrame.tView}function Oo(n){return $.lFrame.contextLView=n,n[8]}function ct(){let n=XI();for(;null!==n&&64===n.type;)n=n.parent;return n}function XI(){return $.lFrame.currentTNode}function Tr(n,e){const t=$.lFrame;t.currentTNode=n,t.isParent=e}function gg(){return $.lFrame.isParent}function _g(){$.lFrame.isParent=!1}function Gu(){return $.isInCheckNoChangesMode}function qu(n){$.isInCheckNoChangesMode=n}function No(){return $.lFrame.bindingIndex++}function ti(n){const e=$.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function zB(n,e){const t=$.lFrame;t.bindingIndex=t.bindingRootIndex=n,mg(e)}function mg(n){$.lFrame.currentDirectiveIndex=n}function yg(n){const e=$.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function tT(){return $.lFrame.currentQueryIndex}function vg(n){$.lFrame.currentQueryIndex=n}function qB(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function nT(n,e,t){if(t&L.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&L.Host||(i=qB(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=$.lFrame=rT();return r.currentTNode=e,r.lView=n,!0}function Ku(n){const e=rT(),t=n[1];$.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function rT(){const n=$.lFrame,e=null===n?null:n.child;return null===e?iT(n):e}function iT(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function sT(){const n=$.lFrame;return $.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const oT=sT;function Yu(){const n=sT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Wt(){return $.lFrame.selectedIndex}function Fi(n){$.lFrame.selectedIndex=n}function Ke(){const n=$.lFrame;return hg(n.tView,n.selectedIndex)}function Qu(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function Zu(n,e,t){aT(n,e,3,t)}function Xu(n,e,t,r){(3&n[2])===t&&aT(n,e,t,r)}function bg(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function aT(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(n2(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function n2(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Il{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Ju(n,e,t){const r=qe(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],l=t[i++];r?n.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=t[++i];Cg(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function lT(n){return 3===n||4===n||6===n}function Cg(n){return 64===n.charCodeAt(0)}function ed(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||cT(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function cT(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function uT(n){return-1!==n}function Fo(n){return 32767&n}function Lo(n,e){let t=function(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let wg=!0;function td(n){const e=wg;return wg=n,e}let c2=0;function Sl(n,e){const t=Ig(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Dg(r.data,n),Dg(e,null),Dg(r.blueprint,null));const i=nd(n,e),s=n.injectorIndex;if(uT(i)){const o=Fo(i),a=Lo(i,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Dg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Ig(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function nd(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function rd(n,e,t){!function(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(bl)&&(r=t[bl]),null==r&&(r=t[bl]=c2++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function fT(n,e,t){if(t&L.Optional)return n;Lu(e,"NodeInjector")}function pT(n,e,t,r){if(t&L.Optional&&void 0===r&&(r=null),0==(t&(L.Self|L.Host))){const i=n[9],s=xi(void 0);try{return i?i.get(e,r,t&L.Optional):NI(e,r,t&L.Optional)}finally{xi(s)}}return fT(r,e,t)}function gT(n,e,t,r=L.Default,i){if(null!==n){const s=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(bl)?n[bl]:void 0;return"number"==typeof e?e>=0?255&e:h2:e}(t);if("function"==typeof s){if(!nT(e,n,r))return r&L.Host?fT(i,t,r):pT(e,t,r,i);try{const o=s(r);if(null!=o||r&L.Optional)return o;Lu(t)}finally{oT()}}else if("number"==typeof s){let o=null,a=Ig(n,e),l=-1,c=r&L.Host?e[16][6]:null;for((-1===a||r&L.SkipSelf)&&(l=-1===a?nd(n,e):e[a+8],-1!==l&&yT(r,!1)?(o=e[1],a=Fo(l),e=Lo(l,e)):a=-1);-1!==a;){const u=e[1];if(mT(s,a,u.data)){const d=f2(a,e,t,o,r,c);if(d!==_T)return d}l=e[a+8],-1!==l&&yT(r,e[1].data[a+8]===c)&&mT(s,a,e)?(o=u,a=Fo(l),e=Lo(l,e)):a=-1}}}return pT(e,t,r,i)}const _T={};function h2(){return new Vo(ct(),E())}function f2(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],u=id(a,o,t,null==r?Hu(a)&&wg:r!=o&&0!=(3&a.type),i&L.Host&&s===a);return null!==u?Al(e,o,u,a):_T}function id(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&nr(f)&&f.type===t)return l}return null}function Al(n,e,t,r){let i=n[t];const s=e.data;if(function(n){return n instanceof Il}(i)){const o=i;o.resolving&&function(n,e){throw new fs("200",`Circular dependency in DI detected for ${n}`)}(jt(s[t]));const a=td(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?xi(o.injectImpl):null;nT(n,r,L.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=HI(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&xi(l),td(a),o.resolving=!1,oT()}}return i}function mT(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function yT(n,e){return!(n&L.Self||n&L.Host&&e)}class Vo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return gT(this._tNode,this._lView,e,r,t)}}function Tg(n){return kI(n)?()=>{const e=Tg(O(n));return e&&e()}:ys(n)}const Uo="__parameters__";function bs(n,e,t){return Pi(()=>{const r=function(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Uo)?l[Uo]:Object.defineProperty(l,Uo,{value:[]})[Uo];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class N{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=P({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const m2=new N("AnalyzeForEntryComponents"),sd=Function;function On(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),On(r,e)):e!==n&&e.push(r)}return e}function Ar(n,e){n.forEach(t=>Array.isArray(t)?Ar(t,e):e(t))}function ad(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Es(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Vi(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function yn(n,e,t){let r=$o(n,e);return r>=0?n[1|r]=t:(r=~r,function(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Ag(n,e){const t=$o(n,e);if(t>=0)return n[1|t]}function $o(n,e){return function(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Pl={},Mg="__NG_DI_FLAG__",Ho="ngTempTokenPath",S2=/\n/gm,kg="__source",xg=be({provide:String,useValue:be});let Ol;function Wo(n){const e=Ol;return Ol=n,e}function R2(n,e=L.Default){if(void 0===Ol)throw new Error("inject() must be called from an injection context");return null===Ol?NI(n,void 0,e):Ol.get(n,e&L.Optional?null:void 0,e)}function v(n,e=L.Default){return(ng||R2)(O(n),e)}const IT=v;function Cs(n){const e=[];for(let t=0;t<n.length;t++){const r=O(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=L.Default;for(let o=0;o<r.length;o++){const a=r[o],l=M2(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(v(i,s))}else e.push(v(r))}return e}function Nl(n,e){return n[Mg]=e,n.prototype[Mg]=e,n}function M2(n){return n[Mg]}function TT(n,e,t,r){const i=n[Ho];throw e[kg]&&i.unshift(e[kg]),n.message=function(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=ee(e);if(Array.isArray(e))i=e.map(ee).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ee(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(S2,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Ho]=null,n}const zo=Nl(bs("Inject",n=>({token:n})),-1),Ue=Nl(bs("Optional"),8),Bi=Nl(bs("SkipSelf"),4);function vn(n){return n instanceof class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}const zT="__ngContext__";function Nt(n,e){n[zT]=e}function $g(n){const e=function(n){return n[zT]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function pd(n){return n.ngOriginalError}function wU(n,...e){n.error(...e)}class Ds{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=this._findContext(e),i=function(n){return n&&n.ngErrorLogger||wU}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(n){return n.ngDebugContext}(e)||this._findContext(pd(e)):null}_findOriginalError(e){let t=e&&pd(e);for(;t&&pd(t);)t=pd(t);return t||null}}const eS=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ce))();function kr(n){return n instanceof Function?n():n}var bn=(()=>((bn=bn||{})[bn.Important=1]="Important",bn[bn.DashCase=2]="DashCase",bn))();function zg(n,e){return undefined(n,e)}function jl(n){const e=n[3];return tr(e)?e[3]:e}function Gg(n){return sS(n[13])}function qg(n){return sS(n[4])}function sS(n){for(;null!==n&&!tr(n);)n=n[4];return n}function Yo(n,e,t,r,i){if(null!=r){let s,o=!1;tr(r)?s=r:Ir(r)&&(o=!0,r=r[0]);const a=it(r);0===n&&null!==t?null==i?dS(e,t,a):Is(e,t,a,i||null,!0):1===n&&null!==t?Is(e,t,a,i||null,!0):2===n?function(n,e,t){const r=_d(n,e);r&&function(n,e,t,r){qe(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function(n,e,t,r,i){const s=t[7];s!==it(t)&&Yo(e,n,r,s,i);for(let a=10;a<t.length;a++){const l=t[a];$l(l[1],l,n,e,r,s)}}(e,n,s,t,i)}}function Yg(n,e,t){return qe(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function aS(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,pg(i,-1)),t.splice(r,1)}function Qg(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&aS(i,r),e>0&&(n[t-1][4]=r[4]);const s=Es(n,10+e);!function(n,e){$l(n,e,e[X],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function lS(n,e){if(!(256&e[2])){const t=e[X];qe(t)&&t.destroyNode&&$l(n,e,t,3,null,null),function(n){let e=n[13];if(!e)return Zg(n[1],n);for(;e;){let t=null;if(Ir(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Ir(e)&&Zg(e[1],e),e=e[3];null===e&&(e=n),Ir(e)&&Zg(e[1],e),t=e&&e[4]}e=t}}(e)}}function Zg(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Il)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):it(e[o]),l=r[i=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&qe(e[X])&&e[X].destroy();const t=e[17];if(null!==t&&tr(e[3])){t!==e[3]&&aS(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function cS(n,e,t){return function(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===tt.None||i===tt.Emulated)return null}return Pn(r,t)}(n,e.parent,t)}function Is(n,e,t,r,i){qe(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function dS(n,e,t){qe(n)?n.appendChild(e,t):e.appendChild(t)}function hS(n,e,t,r,i){null!==r?Is(n,e,t,r,i):dS(n,e,t)}function _d(n,e){return qe(n)?n.parentNode(e):e.parentNode}function fS(n,e,t){return gS(n,e,t)}let gS=function(n,e,t){return 40&n.type?Pn(n,t):null};function md(n,e,t,r){const i=cS(n,r,e),s=e[X],a=fS(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)hS(s,i,t[l],a,!1);else hS(s,i,t,a,!1)}function yd(n,e){if(null!==e){const t=e.type;if(3&t)return Pn(e,n);if(4&t)return Jg(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return yd(n,r);{const i=n[e.index];return tr(i)?Jg(-1,i):it(i)}}if(32&t)return zg(e,n)()||it(n[e.index]);{const r=mS(n,e);return null!==r?Array.isArray(r)?r[0]:yd(jl(n[16]),r):yd(n,e.next)}}return null}function mS(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Jg(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return yd(r,i)}return e[7]}function e_(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Nt(it(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)e_(n,e,t.child,r,i,s,!1),Yo(e,n,i,a,s);else if(32&l){const c=zg(t,r);let u;for(;u=c();)Yo(e,n,i,u,s);Yo(e,n,i,a,s)}else 16&l?vS(n,e,r,t,i,s):Yo(e,n,i,a,s);t=o?t.projectionNext:t.next}}function $l(n,e,t,r,i,s){e_(t,r,n.firstChild,e,i,s,!1)}function vS(n,e,t,r,i,s){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Yo(e,n,i,l[c],s);else e_(n,e,l,o[3],i,s,!0)}function bS(n,e,t){qe(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function t_(n,e,t){qe(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function ES(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const CS="ng-template";function YU(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==ES(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function wS(n){return 4===n.type&&n.value!==CS}function QU(n,e,t){return e===(4!==n.type||t?n.value:CS)}function ZU(n,e,t){let r=4;const i=n.attrs||[],s=function(n){for(let e=0;e<n.length;e++)if(lT(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!QU(n,l,t)||""===l&&1===e.length){if(rr(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!YU(n.attrs,c,t)){if(rr(r))return!1;o=!0}continue}const d=XU(8&r?"class":l,i,wS(n),t);if(-1===d){if(rr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==ES(f,c,0)||2&r&&c!==h){if(rr(r))return!1;o=!0}}}}else{if(!o&&!rr(r)&&!rr(l))return!1;if(o&&rr(l))continue;o=!1,r=l|1&r}}return rr(r)||o}function rr(n){return 0==(1&n)}function XU(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function DS(n,e,t=!1){for(let r=0;r<e.length;r++)if(ZU(n,e[r],t))return!0;return!1}function nj(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function IS(n,e){return n?":not("+e.trim()+")":e}function rj(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!rr(o)&&(e+=IS(s,i),i=""),r=o,s=s||!rr(r);t++}return""!==i&&(e+=IS(s,i)),e}const z={};function je(n){TS(fe(),E(),Wt()+n,Gu())}function TS(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Zu(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Xu(e,s,0,t)}Fi(t)}function vd(n,e){return n<<17|e<<2}function ir(n){return n>>17&32767}function n_(n){return 2|n}function ni(n){return(131068&n)>>2}function r_(n,e){return-131069&n|e<<2}function i_(n){return 1|n}function FS(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];vg(i),o.contentQueries(2,e[s],s)}}}function Hl(n,e,t,r,i,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,QI(u),u[3]=u[15]=n,u[8]=t,u[10]=o||n&&n[10],u[X]=a||n&&n[X],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=s,u[16]=2==e.type?n[16]:u,u}function Qo(n,e,t,r,i){let s=n.data[e];if(null===s)s=function(n,e,t,r,i){const s=XI(),o=gg(),l=n.data[e]=function(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,r,i),$.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function(){const n=$.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Tr(s,!0),s}function Zo(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Wl(n,e,t){Ku(e);try{const r=n.viewQuery;null!==r&&b_(1,r,t);const i=n.template;null!==i&&LS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&FS(n,e),n.staticViewQueries&&b_(2,n.viewQuery,t);const s=n.components;null!==s&&function(n,e){for(let t=0;t<e.length;t++)Fj(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Yu()}}function Xo(n,e,t,r){const i=e[2];if(256==(256&i))return;Ku(e);const s=Gu();try{QI(e),function(n){$.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&LS(n,e,t,2,r);const o=3==(3&i);if(!s)if(o){const c=n.preOrderCheckHooks;null!==c&&Zu(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Xu(e,c,0,null),bg(e,0)}if(function(n){for(let e=Gg(n);null!==e;e=qg(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&pg(s,1),i[2]|=1024}}}(e),function(n){for(let e=Gg(n);null!==e;e=qg(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];fg(r)&&Xo(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&FS(n,e),!s)if(o){const c=n.contentCheckHooks;null!==c&&Zu(e,c)}else{const c=n.contentHooks;null!==c&&Xu(e,c,1),bg(e,1)}!function(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Fi(~i);else{const s=i,o=t[++r],a=t[++r];zB(o,s),a(2,e[s])}}}finally{Fi(-1)}}(n,e);const a=n.components;null!==a&&function(n,e){for(let t=0;t<e.length;t++)Nj(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&b_(2,l,r),!s)if(o){const c=n.viewCheckHooks;null!==c&&Zu(e,c)}else{const c=n.viewHooks;null!==c&&Xu(e,c,2),bg(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,pg(e[3],-1))}finally{Yu()}}function _j(n,e,t,r){const i=e[10],s=!Gu(),o=YI(e);try{s&&!o&&i.begin&&i.begin(),o&&Wl(n,e,r),Xo(n,e,t,r)}finally{s&&!o&&i.end&&i.end()}}function LS(n,e,t,r,i){const s=Wt(),o=2&r;try{Fi(-1),o&&e.length>20&&TS(n,e,20,Gu()),t(r,i)}finally{Fi(s)}}function h_(n,e,t){!ZI()||(function(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Sl(t,e),Nt(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=nr(l);c&&Mj(e,t,l);const u=Al(e,n,a,t);Nt(u,e),null!==o&&kj(0,a-i,u,l,0,o),c&&(mn(t.index,e)[8]=u)}}(n,e,t,Pn(t,e)),128==(128&t.flags)&&function(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=$.lFrame.currentDirectiveIndex;try{Fi(o);for(let l=r;l<i;l++){const c=n.data[l],u=e[l];mg(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&GS(c,u)}}finally{Fi(-1),mg(a)}}(n,e,t))}function f_(n,e,t=Pn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function BS(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Cd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Cd(n,e,t,r,i,s,o,a,l,c){const u=20+r,d=u+i,h=function(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:z);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function $S(n,e,t,r){const i=XS(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&JS(n).push(r,i.length-1))}function HS(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function En(n,e,t,r,i,s,o,a){const l=Pn(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(nA(n,t,u,r,i),Hu(e)&&function(n,e){const t=mn(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,qe(s)?s.setProperty(l,r,i):Cg(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function p_(n,e,t,r){let i=!1;if(ZI()){const s=function(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];DS(t,o.selectors,!1)&&(i||(i=[]),rd(Sl(t,e),n,o.type),nr(o)?(qS(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,KS(t,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Zo(n,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=ed(t.mergedAttrs,d.hostAttrs),YS(n,t,e,c,d),Rj(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const u=i[c],d=u.inputs,h=null===s||wS(e)?null:xj(d,s);o.push(h),a=HS(d,c,a),l=HS(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(n,t)}o&&function(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new fs("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=ed(t.mergedAttrs,t.attrs),i}function zS(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function GS(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function qS(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function Rj(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;nr(e)&&(t[""]=n)}}function KS(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function YS(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=ys(i.type)),o=new Il(s,nr(i),null);n.blueprint[r]=o,t[r]=o,zS(n,e,0,r,Zo(n,t,i.hostVars,z),i)}function Mj(n,e,t){const r=Pn(e,n),i=BS(t),s=n[10],o=wd(n,Hl(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function xr(n,e,t,r,i,s){const o=Pn(n,e);!function(n,e,t,r,i,s,o){if(null==s)qe(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==o?Y(s):o(s,r||"",i);qe(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[X],o,s,n.value,t,r,i)}function kj(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function xj(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function QS(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function Nj(n,e){const t=mn(e,n);if(fg(t)){const r=t[1];80&t[2]?Xo(r,t,r.template,t[8]):t[5]>0&&__(t)}}function __(n){for(let r=Gg(n);null!==r;r=qg(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Xo(o,s,o.template,s[8])}else s[5]>0&&__(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=mn(t[r],n);fg(i)&&i[5]>0&&__(i)}}function Fj(n,e){const t=mn(e,n),r=t[1];(function(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Wl(r,t,t[8])}function wd(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function m_(n){for(;n;){n[2]|=64;const e=jl(n);if(TB(n)&&!e)return n;n=e}return null}function v_(n,e,t){const r=e[10];r.begin&&r.begin();try{Xo(n,e,n.template,t)}catch(i){throw tA(e,i),i}finally{r.end&&r.end()}}function ZS(n){!function(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=$g(t),i=r[1];_j(i,r,i.template,t)}}(n[8])}function b_(n,e,t){vg(0),e(n,t)}const jj=(()=>Promise.resolve(null))();function XS(n){return n[7]||(n[7]=[])}function JS(n){return n.cleanup||(n.cleanup=[])}function eA(n,e,t){return(null===n||nr(n))&&(t=function(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[X]}function tA(n,e){const t=n[9],r=t?t.get(Ds,null):null;r&&r.handleError(e)}function nA(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function ii(n,e,t){const r=zu(e,n);!function(n,e,t){qe(n)?n.setValue(e,t):e.textContent=t}(n[X],r,t)}function Dd(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Xp(i,a):2==s&&(r=Xp(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const Jo=new N("INJECTOR",-1);class rA{get(e,t=Pl){if(t===Pl){const r=new Error(`NullInjectorError: No provider for ${ee(e)}!`);throw r.name="NullInjectorError",r}return t}}const zl=new N("Set Injector scope."),Gl={},Wj={};let E_;function iA(){return void 0===E_&&(E_=new rA),E_}function sA(n,e=null,t=null,r){return new Gj(n,t,e||iA(),r)}class Gj{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Ar(t,a=>this.processProvider(a,e,t)),Ar([e],a=>this.processInjectorType(a,[],s)),this.records.set(Jo,ea(void 0,this));const o=this.records.get(zl);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:ee(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Pl,r=L.Default){this.assertNotDestroyed();const i=Wo(this),s=xi(void 0);try{if(!(r&L.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof N}(e)&&Jr(e);a=l&&this.injectableDefInScope(l)?ea(C_(e),Gl):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&L.Self?iA():this.parent).get(e,t=r&L.Optional&&t===Pl?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Ho]=o[Ho]||[]).unshift(ee(e)),i)throw o;return TT(o,e,"R3InjectorError",this.source)}throw o}finally{xi(s),Wo(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(ee(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,r){if(!(e=O(e)))return!1;let i=PI(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=PI(s)),null==i)return!1;if(null!=i.imports&&!a){let u;r.push(o);try{Ar(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:h,providers:f}=u[d];Ar(f,p=>this.processProvider(p,h,f||Ae))}}this.injectorDefTypes.add(o);const l=ys(o)||(()=>new o);this.records.set(o,ea(l,Gl));const c=i.providers;if(null!=c&&!a){const u=e;Ar(c,d=>this.processProvider(d,u,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=ta(e=O(e))?e:O(e&&e.provide);const s=function(n,e,t){return aA(n)?ea(void 0,n.useValue):ea(function(n,e,t){let r;if(ta(n)){const i=O(n);return ys(i)||C_(i)}if(aA(n))r=()=>O(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Cs(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))r=()=>v(O(n.useExisting));else{const i=O(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return ys(i)||C_(i);r=()=>new i(...Cs(n.deps))}return r}(n),Gl)}(e);if(ta(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=ea(void 0,Gl,!0),o.factory=()=>Cs(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===Gl&&(t.value=Wj,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=O(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function C_(n){const e=Jr(n),t=null!==e?e.factory:ys(n);if(null!==t)return t;if(n instanceof N)throw new Error(`Token ${ee(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const e=n.length;if(e>0){const r=Vi(e,"?");throw new Error(`Can't resolve all parameters for ${ee(n)}: (${r.join(", ")}).`)}const t=function(n){const e=n&&(n[Vu]||n[OI]);if(e){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function ea(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function aA(n){return null!==n&&"object"==typeof n&&xg in n}function ta(n){return"function"==typeof n}const lA=function(n,e,t){return function(n,e=null,t=null,r){const i=sA(n,e,t,r);return i._resolveInjectorDefTypes(),i}({name:t},e,n,t)};let pe=(()=>{class n{static create(t,r){return Array.isArray(t)?lA(t,r,""):lA(t.providers,t.parent,t.name||"")}}return n.THROW_IF_NOT_FOUND=Pl,n.NULL=new rA,n.\u0275prov=P({token:n,providedIn:"any",factory:()=>v(Jo)}),n.__NG_ELEMENT_ID__=-1,n})();function f$(n,e){Qu($g(n)[1],ct())}function Kl(n){let e=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(nr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=A_(n.inputs),o.declaredInputs=A_(n.declaredInputs),o.outputs=A_(n.outputs);const a=i.hostBindings;a&&m$(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&g$(n,l),c&&_$(n,c),Zp(n.inputs,i.inputs),Zp(n.declaredInputs,i.declaredInputs),Zp(n.outputs,i.outputs),nr(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Kl&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ed(i.hostAttrs,t=ed(t,i.hostAttrs))}}(r)}function A_(n){return n===Ao?{}:n===Ae?[]:n}function g$(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function _$(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function m$(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let Id=null;function na(){if(!Id){const n=Ce.Symbol;if(n&&n.iterator)Id=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Id=r)}}}return Id}function Yl(n){return!!R_(n)&&(Array.isArray(n)||!(n instanceof Map)&&na()in n)}function R_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ft(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Sd(n,e,t,r){const i=E();return Ft(i,No(),e)&&(fe(),xr(Ke(),i,n,e,t,r)),Sd}function sa(n,e,t,r,i,s){const a=function(n,e,t,r){const i=Ft(n,e,t);return Ft(n,e+1,r)||i}(n,$.lFrame.bindingIndex,t,i);return ti(2),a?e+Y(t)+r+Y(i)+s:z}function Ln(n,e,t,r,i,s,o,a){const l=E(),c=fe(),u=n+20,d=c.firstCreatePass?function(n,e,t,r,i,s,o,a,l){const c=e.consts,u=Qo(e,n,4,o||null,Ni(c,a));p_(e,t,u,Ni(c,l)),Qu(e,u);const d=u.tViews=Cd(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];Tr(d,!1);const h=l[X].createComment("");md(c,l,h,d),Nt(h,l),wd(l,l[u]=QS(h,l,h,d)),Wu(d)&&h_(c,l,d),null!=o&&f_(l,d,a)}function ha(n){return function(n,e){return n[e]}($.lFrame.contextLView,20+n)}function T(n,e=L.Default){const t=E();return null===t?v(n,e):gT(ct(),t,O(n),e)}function dt(n,e,t){const r=E();return Ft(r,No(),e)&&En(fe(),Ke(),r,n,e,r[X],t,!1),dt}function O_(n,e,t,r,i){const o=i?"class":"style";nA(n,t,e.inputs[o],o,r)}function M(n,e,t,r){const i=E(),s=fe(),o=20+n,a=i[X],l=i[o]=Yg(a,e,$.lFrame.currentNamespace),c=s.firstCreatePass?function(n,e,t,r,i,s,o){const a=e.consts,c=Qo(e,n,2,i,Ni(a,s));return p_(e,t,c,Ni(a,o)),null!==c.attrs&&Dd(c,c.attrs,!1),null!==c.mergedAttrs&&Dd(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];Tr(c,!0);const u=c.mergedAttrs;null!==u&&Ju(a,l,u);const d=c.classes;null!==d&&t_(a,l,d);const h=c.styles;null!==h&&bS(a,l,h),64!=(64&c.flags)&&md(s,i,l,c),0===$.lFrame.elementDepthCount&&Nt(l,i),$.lFrame.elementDepthCount++,Wu(c)&&(h_(s,i,c),function(n,e,t){if(ag(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,c,i)),null!==r&&f_(i,c)}function k(){let n=ct();gg()?_g():(n=n.parent,Tr(n,!1));const e=n;$.lFrame.elementDepthCount--;const t=fe();t.firstCreatePass&&(Qu(t,n),ag(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(e)&&O_(t,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(e)&&O_(t,e,E(),e.stylesWithoutHost,!1)}function nn(n,e,t,r){M(n,e,t,r),k()}function Zl(){return E()}function Rd(n){return!!n&&"function"==typeof n.then}const N_=function(n){return!!n&&"function"==typeof n.subscribe};function Le(n,e,t,r){const i=E(),s=fe(),o=ct();return QA(s,i,i[X],o,n,e,!!t,r),Le}function F_(n,e){const t=ct(),r=E(),i=fe();return QA(i,r,eA(yg(i.data),t,r),t,n,e,!1),F_}function QA(n,e,t,r,i,s,o,a){const l=Wu(r),u=n.firstCreatePass&&JS(n),d=e[8],h=XS(e);let f=!0;if(3&r.type||a){const g=Pn(r,e),y=a?a(g):g,m=h.length,C=a?I=>a(it(I[r.index])):r.index;if(qe(t)){let I=null;if(!a&&l&&(I=function(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=s,I.__ngLastListenerFn__=s,f=!1;else{s=L_(r,e,d,s,!1);const U=t.listen(y,i,s);h.push(s,U),u&&u.push(i,C,m,m+1)}}else s=L_(r,e,d,s,!0),y.addEventListener(i,s,o),h.push(s),u&&u.push(i,C,m,o)}else s=L_(r,e,d,s,!1);const p=r.outputs;let _;if(f&&null!==p&&(_=p[i])){const g=_.length;if(g)for(let y=0;y<g;y+=2){const ge=e[_[y]][_[y+1]].subscribe(s),Ee=h.length;h.push(s,ge),u&&u.push(i,r.index,Ee,-(Ee+1))}}}function ZA(n,e,t,r){try{return!1!==t(r)}catch(i){return tA(n,i),!1}}function L_(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?mn(n.index,e):e;0==(32&e[2])&&m_(a);let l=ZA(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)l=ZA(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function ar(n=1){return function(n){return($.lFrame.contextLView=function(n,e){for(;n>0;)e=e[15],n--;return e}(n,$.lFrame.contextLView))[8]}(n)}function Z$(n,e){let t=null;const r=function(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?DS(n,s,!0):nj(r,s))return i}else t=i}return t}function Md(n){const e=E()[16][6];if(!e.projection){const r=e.projection=Vi(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?Z$(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function kd(n,e=0,t){const r=E(),i=fe(),s=Qo(i,20+n,16,null,t||null);null===s.projection&&(s.projection=e),_g(),64!=(64&s.flags)&&function(n,e,t){vS(e[X],0,e,t,cS(n,t,e),fS(t.parent||e[6],t,e))}(i,r,s)}function l0(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?ir(s):ni(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];eH(n[a],e)&&(l=!0,n[a+1]=r?i_(u):n_(u)),a=r?ir(u):ni(u)}l&&(n[t+1]=r?n_(s):i_(s))}function eH(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&$o(n,e)>=0}const ht={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function c0(n){return n.substring(ht.key,ht.keyEnd)}function u0(n,e){const t=ht.textEnd;return t===e?-1:(e=ht.keyEnd=function(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,ht.key=e,t),pa(n,e,t))}function pa(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Xl(n,e){return function(n,e,t,r){const i=E(),s=fe(),o=ti(2);s.firstUpdatePass&&m0(s,n,o,r),e!==z&&Ft(i,o,e)&&v0(s,s.data[Wt()],i,i[X],n,i[o+1]=function(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ee(vn(n)))),n}(e,t),r,o)}(n,e,null,!0),Xl}function xd(n){!function(n,e,t,r){const i=fe(),s=ti(2);i.firstUpdatePass&&m0(i,null,s,r);const o=E();if(t!==z&&Ft(o,s,t)){const a=i.data[Wt()];if(E0(a,r)&&!_0(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=Xp(l,t||"")),O_(i,a,o,t,r)}else!function(n,e,t,r,i,s,o,a){i===z&&(i=Ae);let l=0,c=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const h=l<i.length?i[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let _,p=null;u===d?(l+=2,c+=2,h!==f&&(p=d,_=f)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,_=f),null!==p&&v0(n,e,t,r,p,_,o,a),u=l<i.length?i[l]:null,d=c<s.length?s[c]:null}}(i,a,o,o[X],o[s+1],o[s+1]=function(n,e,t){if(null==t||""===t)return Ae;const r=[],i=vn(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(yn,Nr,n,!0)}function Nr(n,e){for(let t=function(n){return function(n){ht.key=0,ht.keyEnd=0,ht.value=0,ht.valueEnd=0,ht.textEnd=n.length}(n),u0(n,pa(n,0,ht.textEnd))}(e);t>=0;t=u0(e,t))yn(n,c0(e),!0)}function _0(n,e){return e>=n.expandoStartIndex}function m0(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Wt()],o=_0(n,t);E0(s,r)&&null===e&&!o&&(e=!1),e=function(n,e,t,r){const i=yg(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Jl(t=B_(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=B_(i,n,e,t,r),null===s){let l=function(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==ni(r))return n[ir(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=B_(null,n,e,l[1],r),l=Jl(l,e.attrs,r),function(n,e,t,r){n[ir(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Jl(r,n[s].hostAttrs,t);return Jl(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ir(o),l=ni(o);n[r]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||$o(d,u)>0)&&(c=!0)}else u=t;if(i)if(0!==l){const h=ir(n[a+1]);n[r+1]=vd(h,a),0!==h&&(n[h+1]=r_(n[h+1],r)),n[a+1]=function(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=vd(a,0),0!==a&&(n[a+1]=r_(n[a+1],r)),a=r;else n[r+1]=vd(l,0),0===a?a=r:n[l+1]=r_(n[l+1],r),l=r;c&&(n[r+1]=n_(n[r+1])),l0(n,u,r,!0),l0(n,u,r,!1),function(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&$o(s,e)>=0&&(t[r+1]=i_(t[r+1]))}(e,u,n,r,s),o=vd(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function B_(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Jl(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Jl(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),yn(n,o,!!t||e[++s]))}return void 0===n?null:n}function v0(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];Pd(function(n){return 1==(1&n)}(c)?b0(l,e,t,i,ni(c),o):void 0)||(Pd(s)||function(n){return 2==(2&n)}(c)&&(s=b0(l,null,t,i,a,o)),function(n,e,t,r,i){const s=qe(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:bn.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=bn.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,zu(Wt(),t),i,s))}function b0(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===z&&(h=d?Ae:void 0);let f=d?Ag(h,r):u===r?h:void 0;if(c&&!Pd(f)&&(f=Ag(l,r)),Pd(f)&&(a=f,o))return a;const p=n[i+1];i=o?ir(p):ni(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Ag(l,r))}return a}function Pd(n){return void 0!==n}function E0(n,e){return 0!=(n.flags&(e?16:32))}function we(n,e=""){const t=E(),r=fe(),i=n+20,s=r.firstCreatePass?Qo(r,i,1,e,null):r.data[i],o=t[i]=function(n,e){return qe(n)?n.createText(e):n.createTextNode(e)}(t[X],e);md(r,t,o,s),Tr(s,!1)}function $i(n){return Od("",n,""),$i}function Od(n,e,t){const r=E(),i=function(n,e,t,r){return Ft(n,No(),t)?e+Y(t)+r:z}(r,n,e,t);return i!==z&&ii(r,Wt(),i),Od}function ec(n,e,t,r,i){const s=E(),o=sa(s,n,e,t,r,i);return o!==z&&ii(s,Wt(),o),ec}function Nd(n,e,t){const r=E();return Ft(r,No(),e)&&En(fe(),Ke(),r,n,e,r[X],t,!0),Nd}function U_(n,e,t){const r=E();if(Ft(r,No(),e)){const s=fe(),o=Ke();En(s,o,r,n,e,eA(yg(s.data),o,r),t,!0)}return U_}const Ss=void 0;var OH=["en",[["a","p"],["AM","PM"],Ss],[["AM","PM"],Ss,Ss],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ss,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ss,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ss,"{1} 'at' {0}",Ss],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===t?1:5}];let ga={};function B0(n){return n in ga||(ga[n]=Ce.ng&&Ce.ng.common&&Ce.ng.common.locales&&Ce.ng.common.locales[n]),ga[n]}var R=(()=>((R=R||{})[R.LocaleId=0]="LocaleId",R[R.DayPeriodsFormat=1]="DayPeriodsFormat",R[R.DayPeriodsStandalone=2]="DayPeriodsStandalone",R[R.DaysFormat=3]="DaysFormat",R[R.DaysStandalone=4]="DaysStandalone",R[R.MonthsFormat=5]="MonthsFormat",R[R.MonthsStandalone=6]="MonthsStandalone",R[R.Eras=7]="Eras",R[R.FirstDayOfWeek=8]="FirstDayOfWeek",R[R.WeekendRange=9]="WeekendRange",R[R.DateFormat=10]="DateFormat",R[R.TimeFormat=11]="TimeFormat",R[R.DateTimeFormat=12]="DateTimeFormat",R[R.NumberSymbols=13]="NumberSymbols",R[R.NumberFormats=14]="NumberFormats",R[R.CurrencyCode=15]="CurrencyCode",R[R.CurrencySymbol=16]="CurrencySymbol",R[R.CurrencyName=17]="CurrencyName",R[R.Currencies=18]="Currencies",R[R.Directionality=19]="Directionality",R[R.PluralCase=20]="PluralCase",R[R.ExtraData=21]="ExtraData",R))();const Fd="en-US";let U0=Fd;function j_(n){pn(n,"Expected localeId to be defined"),"string"==typeof n&&(U0=n.toLowerCase().replace(/_/g,"-"))}class dR{}const fR="ngComponent";class NW{resolveComponentFactory(e){throw function(n){const e=Error(`No component factory found for ${ee(n)}. Did you add it to @NgModule.entryComponents?`);return e[fR]=n,e}(e)}}let oi=(()=>{class n{}return n.NULL=new NW,n})();function jd(...n){}function ma(n,e){return new ft(Pn(n,e))}const VW=function(){return ma(ct(),E())};let ft=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=VW,n})();function pR(n){return n instanceof ft?n.nativeElement:n}class As{}let Y_=(()=>{class n{}return n.\u0275prov=P({token:n,providedIn:"root",factory:()=>null}),n})();class Rs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Q_=new Rs("12.2.16");class gR{constructor(){}supports(e){return Yl(e)}create(e){return new WW(e)}}const HW=(n,e)=>e;class WW{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||HW}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<mR(r,i,s)?t:r,a=mR(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Yl(e))throw new Error(`Error trying to diff '${ee(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[na()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new zW(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new _R),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _R),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class zW{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class GW{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class _R{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new GW,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mR(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class yR{constructor(){}supports(e){return e instanceof Map||R_(e)}create(){return new qW}}class qW{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||R_(e)))throw new Error(`Error trying to diff '${ee(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new KW(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class KW{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vR(){return new sc([new gR])}let sc=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||vR()),deps:[[n,new Bi,new Ue]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=P({token:n,providedIn:"root",factory:vR}),n})();function bR(){return new ya([new yR])}let ya=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||bR()),deps:[[n,new Bi,new Ue]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=P({token:n,providedIn:"root",factory:bR}),n})();function Hd(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(it(s)),tr(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&Hd(l[1],l,c,r)}const o=t.type;if(8&o)Hd(n,e,t.child,r);else if(32&o){const a=zg(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=mS(e,t);if(Array.isArray(a))r.push(...a);else{const l=jl(e[16]);Hd(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class oc{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Hd(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(tr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Qg(e,r),Es(t,r))}this._attachedToViewContainer=!1}lS(this._lView[1],this._lView)}onDestroy(e){$S(this._lView[1],this._lView,null,e)}markForCheck(){m_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){v_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,e,t){qu(!0);try{v_(n,e,t)}finally{qu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,e){$l(n,e,e[X],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class QW extends oc{constructor(e){super(e),this._view=e}detectChanges(){ZS(this._view)}checkNoChanges(){!function(n){qu(!0);try{ZS(n)}finally{qu(!1)}}(this._view)}get context(){return null}}const XW=function(n){return function(n,e,t){if(Hu(n)&&!t){const r=mn(n.index,e);return new oc(r,r)}return 47&n.type?new oc(e[16],e):null}(ct(),E(),16==(16&n))};let Wd=(()=>{class n{}return n.__NG_ELEMENT_ID__=XW,n})();const t3=[new yR],r3=new sc([new gR]),s3=new ya(t3),a3=function(){return zd(ct(),E())};let Fr=(()=>{class n{}return n.__NG_ELEMENT_ID__=a3,n})();const l3=Fr,c3=class extends l3{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=Hl(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),Wl(t,r,e),new oc(r)}};function zd(n,e){return 4&n.type?new c3(e,n,ma(n,e)):null}class Lr{}class ER{}const h3=function(){return DR(ct(),E())};let Vn=(()=>{class n{}return n.__NG_ELEMENT_ID__=h3,n})();const p3=Vn,CR=class extends p3{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ma(this._hostTNode,this._hostLView)}get injector(){return new Vo(this._hostTNode,this._hostLView)}get parentInjector(){const e=nd(this._hostTNode,this._hostLView);if(uT(e)){const t=Lo(e,this._hostLView),r=Fo(e);return new Vo(t[1].data[r+8],t)}return new Vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=wR(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=r||this.parentInjector;if(!s&&null==e.ngModule&&o){const l=o.get(Lr,null);l&&(s=l)}const a=e.create(o,i,void 0,s);return this.insert(a.hostView,t),a}insert(e,t){const r=e._lView,i=r[1];if(function(n){return tr(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new CR(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],ad(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=Jg(s,o),l=r[X],c=_d(l,o[7]);return null!==c&&function(n,e,t,r,i,s){r[0]=i,r[6]=e,$l(n,r,t,1,i,s)}(i,o[6],l,r,c,a),e.attachToViewContainerRef(),ad(Z_(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=wR(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Qg(this._lContainer,t);r&&(Es(Z_(this._lContainer),t),lS(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Qg(this._lContainer,t);return r&&null!=Es(Z_(this._lContainer),t)?new oc(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function wR(n){return n[8]}function Z_(n){return n[8]||(n[8]=[])}function DR(n,e){let t;const r=e[n.index];if(tr(r))t=r;else{let i;if(8&n.type)i=it(r);else{const s=e[X];i=s.createComment("");const o=Pn(n,e);Is(s,_d(s,o),i,function(n,e){return qe(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=QS(r,e,i,n),wd(e,t)}return new CR(t,n,e)}const Ca={};class WR extends oi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=$t(e);return new GR(t,this.ngModule)}}function zR(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const uz=new N("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>eS});class GR extends dR{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(n){return n.map(rj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return zR(this.componentDef.inputs)}get outputs(){return zR(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function(n,e){return{get:(t,r,i)=>{const s=n.get(t,Ca,i);return s!==Ca||r===Ca?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(As,KI),a=s.get(Y_,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=r?function(n,e,t){if(qe(n))return n.selectRootElement(e,t===tt.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):Yg(o.createRenderer(null,this.componentDef),c,function(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(n,e){return{components:[],scheduler:n||eS,clean:jj,playerHandler:e||null,flags:0}}(),f=Cd(0,null,null,1,0,null,null,null,null,null),p=Hl(null,f,h,d,null,null,o,l,a,s);let _,g;Ku(p);try{const y=function(n,e,t,r,i,s){const o=t[1];t[20]=n;const l=Qo(o,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(Dd(l,c,!0),null!==n&&(Ju(i,n,c),null!==l.classes&&t_(i,n,l.classes),null!==l.styles&&bS(i,n,l.styles)));const u=r.createRenderer(n,e),d=Hl(t,BS(e),null,e.onPush?64:16,t[20],l,r,u,s||null,null);return o.firstCreatePass&&(rd(Sl(l,t),o,e.type),qS(o,l),KS(l,t.length,1)),wd(t,d),t[20]=d}(u,this.componentDef,p,o,l);if(u)if(r)Ju(l,u,["ng-version",Q_.full]);else{const{attrs:m,classes:C}=function(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!rr(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);m&&Ju(l,u,m),C&&C.length>0&&t_(l,u,C.join(" "))}if(g=hg(f,20),void 0!==t){const m=g.projection=[];for(let C=0;C<this.ngContentSelectors.length;C++){const I=t[C];m.push(null!=I?Array.from(I):null)}}_=function(n,e,t,r,i){const s=t[1],o=function(n,e,t){const r=ct();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),YS(n,r,e,Zo(n,e,1,null),t));const i=Al(e,n,r.directiveStart,r);Nt(i,e);const s=Pn(r,e);return s&&Nt(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(l=>l(o,e)),e.contentQueries){const l=ct();e.contentQueries(1,o,l.directiveStart)}const a=ct();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Fi(a.index),zS(t[1],a,0,a.directiveStart,a.directiveEnd,e),GS(e,o)),o}(y,this.componentDef,p,h,[f$]),Wl(f,p,null)}finally{Yu()}return new fz(this.componentType,_,ma(g,p),p,g)}}class fz extends class{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new QW(i),this.componentType=e}get injector(){return new Vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const wa=new Map;class _z extends Lr{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new WR(this);const r=Mn(e),i=function(n){return n[yB]||null}(e);i&&j_(i),this._bootstrapComponents=kr(r.bootstrap),this._r3Injector=sA(e,t,[{provide:Lr,useValue:this},{provide:oi,useValue:this.componentFactoryResolver}],ee(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=pe.THROW_IF_NOT_FOUND,r=L.Default){return e===pe||e===Lr||e===Jo?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class um extends ER{constructor(e){super(),this.moduleType=e,null!==Mn(e)&&function(n){const e=new Set;!function t(r){const i=Mn(r,!0),s=i.id;null!==s&&(function(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${ee(e)} vs ${ee(e.name)}`)}(s,wa.get(s),r),wa.set(s,r));const o=kr(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new _z(this.moduleType,e)}}function dm(n){return e=>{setTimeout(n,void 0,e)}}const pt=class extends Ve{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,l=t||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=dm(l),a&&(a=dm(a)),c&&(c=dm(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof me&&e.add(u),u}};function Nz(){return this._results[na()]()}class Qd{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=na(),r=Qd.prototype;r[t]||(r[t]=Nz)}get changes(){return this._changes||(this._changes=new pt)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=On(e);(this._changesDetected=!function(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class hm{constructor(e){this.queryList=e,this.matches=null}clone(){return new hm(this.queryList)}setDirty(){this.queryList.setDirty()}}class fm{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new fm(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==sM(e,t).matches&&this.queries[t].setDirty()}}class eM{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class pm{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new pm(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class gm{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new gm(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,Vz(t,s)),this.matchTNodeWithReadOption(e,t,id(t,e,s,!1,!1))}else r===Fr?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,id(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ft||i===Vn||i===Fr&&4&t.type)this.addMatch(t.index,-2);else{const s=id(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Vz(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function Uz(n,e,t,r){return-1===t?function(n,e){return 11&n.type?ma(n,e):4&n.type?zd(n,e):null}(e,n):-2===t?function(n,e,t){return t===ft?ma(e,n):t===Fr?zd(e,n):t===Vn?DR(e,n):void 0}(n,e,r):Al(n,n[1],t,e)}function tM(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:Uz(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function _m(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=tM(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&_m(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];_m(f[1],f,c,r)}}}}}return r}function Zd(n){const e=E(),t=fe(),r=tT();vg(r+1);const i=sM(t,r);if(n.dirty&&YI(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?_m(t,e,r,[]):tM(t,e,i,r);n.reset(s,pR),n.notifyOnChanges()}return!0}return!1}function nM(n,e,t){const r=fe();r.firstCreatePass&&(function(n,e,t){null===n.queries&&(n.queries=new pm),n.queries.track(new gm(e,t))}(r,new eM(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function(n,e,t){const r=new Qd(4==(4&t));$S(n,e,r,r.destroy),null===e[19]&&(e[19]=new fm),e[19].queries.push(new hm(r))}(r,E(),e)}function sM(n,e){return n.queries.getByIndex(e)}function oM(n,e){return zd(n,e)}const yc=new N("Application Initializer");let Ia=(()=>{class n{constructor(t){this.appInits=t,this.resolve=jd,this.reject=jd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Rd(s))t.push(s);else if(N_(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(v(yc,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const vc=new N("AppId"),_G={provide:vc,useFactory:function(){return`${wm()}${wm()}${wm()}`},deps:[]};function wm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const DM=new N("Platform Initializer"),Ta=new N("Platform ID"),IM=new N("appBootstrapListener");let th=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const ai=new N("LocaleId"),TM=new N("DefaultCurrencyCode");class yG{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const Dm=function(n){return new um(n)},vG=Dm,bG=function(n){return Promise.resolve(Dm(n))},SM=function(n){const e=Dm(n),r=kr(Mn(n).declarations).reduce((i,s)=>{const o=$t(s);return o&&i.push(new GR(o)),i},[]);return new yG(e,r)},EG=SM,CG=function(n){return Promise.resolve(SM(n))};let xs=(()=>{class n{constructor(){this.compileModuleSync=vG,this.compileModuleAsync=bG,this.compileModuleAndAllComponentsSync=EG,this.compileModuleAndAllComponentsAsync=CG}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const IG=(()=>Promise.resolve(0))();function Im(n){"undefined"==typeof Zone?IG.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class he{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pt(!1),this.onMicrotaskEmpty=new pt(!1),this.onStable=new pt(!1),this.onError=new pt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let n=Ce.requestAnimationFrame,e=Ce.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(n){const e=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ce,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Sm(n),n.isCheckStableRunning=!0,Tm(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Sm(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return AM(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),RM(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return AM(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),RM(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Sm(n),Tm(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!he.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(he.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,SG,jd,jd);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const SG={};function Tm(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Sm(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function AM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function RM(n){n._nesting--,Tm(n)}class MG{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pt,this.onMicrotaskEmpty=new pt,this.onStable=new pt,this.onError=new pt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let Am=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{he.assertNotInAngularZone(),Im(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Im(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(v(he))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),MM=(()=>{class n{constructor(){this._applications=new Map,Rm.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Rm.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class kG{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let Rm=new kG,kM=!0,xM=!1;let hr;const OM=new N("AllowMultipleToken");class Mm{constructor(e,t){this.name=e,this.token=t}}function NM(n,e,t=[]){const r=`Platform: ${e}`,i=new N(r);return(s=[])=>{let o=FM();if(!o||o.injector.get(OM,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const a=t.concat(s).concat({provide:i,useValue:!0},{provide:zl,useValue:"platform"});!function(n){if(hr&&!hr.destroyed&&!hr.injector.get(OM,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");hr=n.get(LM);const e=n.get(DM,null);e&&e.forEach(t=>t())}(pe.create({providers:a,name:r}))}return function(n){const e=FM();if(!e)throw new Error("No platform exists!");if(!e.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function FM(){return hr&&!hr.destroyed?hr:null}let LM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function(n,e){let t;return t="noop"===n?new MG:("zone.js"===n?void 0:n)||new he({enableLongStackTrace:(xM=!0,kM),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:he,useValue:a}];return a.run(()=>{const c=pe.create({providers:l,parent:this.injector,name:t.moduleType.name}),u=t.create(c),d=u.injector.get(Ds,null);if(!d)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});u.onDestroy(()=>{km(this._modules,u),h.unsubscribe()})}),function(n,e,t){try{const r=t();return Rd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const h=u.injector.get(Ia);return h.runInitializers(),h.donePromise.then(()=>(j_(u.injector.get(ai,Fd)||Fd),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,r=[]){const i=VM({},r);return function(n,e,t){const r=new um(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Ps);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${ee(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(v(pe))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();function VM(n,e){return Array.isArray(e)?e.reduce(VM,n):Object.assign(Object.assign({},n),e)}let Ps=(()=>{class n{constructor(t,r,i,s,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new K(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new K(c=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{he.assertNotInAngularZone(),Im(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{he.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{u.unsubscribe(),d.unsubscribe()}});this.isStable=RI(a,l.pipe(n=>Qp()(function(n,e){return function(r){let i;i="function"==typeof n?n:function(){return n};const s=Object.create(r,JV);return s.source=r,s.subjectFactory=i,s}}(iB)(n))))}bootstrap(t,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=t instanceof dR?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Lr),a=i.create(pe.NULL,[],r||i.selector,s),l=a.location.nativeElement,c=a.injector.get(Am,null),u=c&&a.injector.get(MM);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),km(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;km(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(IM,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(v(he),v(pe),v(Ds),v(oi),v(Ia))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();function km(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class rh{}class GG{}const qG={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let KG=(()=>{class n{constructor(t,r){this._compiler=t,this._config=r||qG}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[r,i]=t.split("#");return void 0===i&&(i="default"),Xn(255)(r).then(s=>s[i]).then(s=>$M(s,r,i)).then(s=>this._compiler.compileModuleAsync(s))}loadFactory(t){let[r,i]=t.split("#"),s="NgFactory";return void 0===i&&(i="default",s=""),Xn(255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(o=>o[i+s]).then(o=>$M(o,r,i))}}return n.\u0275fac=function(t){return new(t||n)(v(xs),v(GG,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();function $M(n,e,t){if(!n)throw new Error(`Cannot find '${t}' in '${e}'`);return n}const i4=NM(null,"core",[{provide:Ta,useValue:"unknown"},{provide:LM,deps:[pe]},{provide:MM,deps:[]},{provide:th,deps:[]}]),c4=[{provide:Ps,useClass:Ps,deps:[he,pe,Ds,oi,Ia]},{provide:uz,deps:[he],useFactory:function(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ia,useClass:Ia,deps:[[new Ue,yc]]},{provide:xs,useClass:xs,deps:[]},_G,{provide:sc,useFactory:function(){return r3},deps:[]},{provide:ya,useFactory:function(){return s3},deps:[]},{provide:ai,useFactory:function(n){return j_(n=n||"undefined"!=typeof $localize&&$localize.locale||Fd),n},deps:[[new zo(ai),new Ue,new Bi]]},{provide:TM,useValue:"USD"}];let d4=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(v(Ps))},n.\u0275mod=nt({type:n}),n.\u0275inj=Ge({providers:c4}),n})(),fh=null;function zi(){return fh}const le=new N("DocumentToken");let Fs=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({factory:u8,token:n,providedIn:"platform"}),n})();function u8(){return v(hk)}const d8=new N("Location Initialized");let hk=(()=>{class n extends Fs{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zi().getBaseHref(this._doc)}onPopState(t){const r=zi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=zi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){fk()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){fk()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(v(le))},n.\u0275prov=P({factory:h8,token:n,providedIn:"platform"}),n})();function fk(){return!!window.history.pushState}function h8(){return new hk(v(le))}function Gm(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function pk(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ci(n){return n&&"?"!==n[0]?"?"+n:n}let Ra=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({factory:f8,token:n,providedIn:"root"}),n})();function f8(n){const e=v(le).location;return new gk(v(Fs),e&&e.origin||"")}const qm=new N("appBaseHref");let gk=(()=>{class n extends Ra{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Gm(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ci(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+ci(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+ci(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(v(Fs),v(qm,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),p8=(()=>{class n extends Ra{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Gm(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+ci(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+ci(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(v(Fs),v(qm,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),Ma=(()=>{class n{constructor(t,r){this._subject=new pt,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=pk(_k(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ci(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,_k(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ci(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ci(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.\u0275fac=function(t){return new(t||n)(v(Ra),v(Fs))},n.normalizeQueryParams=ci,n.joinWithSlash=Gm,n.stripTrailingSlash=pk,n.\u0275prov=P({factory:g8,token:n,providedIn:"root"}),n})();function g8(){return new Ma(v(Ra),v(Fs))}function _k(n){return n.replace(/\/index.html$/,"")}var st=(()=>((st=st||{})[st.Zero=0]="Zero",st[st.One=1]="One",st[st.Two=2]="Two",st[st.Few=3]="Few",st[st.Many=4]="Many",st[st.Other=5]="Other",st))();const w8=function(n){return function(n){const e=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=B0(e);if(t)return t;const r=e.split("-")[0];if(t=B0(r),t)return t;if("en"===r)return OH;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[R.PluralCase]};class wh{}let X8=(()=>{class n extends wh{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(w8(r||this.locale)(t)){case st.Zero:return"zero";case st.One:return"one";case st.Two:return"two";case st.Few:return"few";case st.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(v(ai))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class n6{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dh=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((i,s,o)=>{if(null==i.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new n6(null,this._ngForOf,-1,-1),null===o?void 0:o),l=new Ik(i,a);r.push(l)}else if(null==o)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const a=this._viewContainer.get(s);this._viewContainer.move(a,o);const l=new Ik(i,a);r.push(l)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,s=this._viewContainer.length;i<s;i++){const o=this._viewContainer.get(i);o.context.index=i,o.context.count=s,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(T(Vn),T(Fr),T(sc))},n.\u0275dir=rt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Ik{constructor(e,t){this.record=e,this.view=t}}let ny=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new i6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Tk("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Tk("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(T(Vn),T(Fr))},n.\u0275dir=rt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class i6{constructor(){this.$implicit=null,this.ngIf=null}}function Tk(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ee(e)}'.`)}let ay=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ge({providers:[{provide:wh,useClass:X8}]}),n})();const Rk="browser";let Mk=(()=>{class n{}return n.\u0275prov=P({token:n,providedIn:"root",factory:()=>new O6(v(le),window)}),n})();class O6{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=kk(this.window.history)||kk(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function kk(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ly extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){fh||(fh=n)}(new ly)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Tc=Tc||document.querySelector("base"),Tc?Tc.getAttribute("href"):null);return null==t?null:function(n){Ih=Ih||document.createElement("a"),Ih.setAttribute("href",n);const e=Ih.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Tc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Ih,Tc=null;const xk=new N("TRANSITION_ID"),j6=[{provide:yc,useFactory:function(n,e,t){return()=>{t.get(Ia).donePromise.then(()=>{const r=zi(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[xk,le,pe],multi:!0}];class cy{static init(){!function(n){Rm=n}(new cy)}addToWindow(e){Ce.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ce.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ce.getAllAngularRootElements=()=>e.getAllRootElements(),Ce.frameworkStabilizers||(Ce.frameworkStabilizers=[]),Ce.frameworkStabilizers.push(r=>{const i=Ce.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?zi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let $6=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const Sc=new N("EventManagerPlugins");let Sh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(v(Sc),v(he))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class uy{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=zi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Ok=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),Ac=(()=>{class n extends Ok{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Nk),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Nk))}}return n.\u0275fac=function(t){return new(t||n)(v(le))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();function Nk(n){zi().remove(n)}const dy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},hy=/%COMP%/g;function Ah(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ah(n,i,t):(i=i.replace(hy,n),t.push(i))}return t}function Vk(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Rh=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new fy(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case tt.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new rq(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case tt.ShadowDom:return new iq(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ah(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(v(Sh),v(Ac),v(vc))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class fy{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(dy[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=dy[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=dy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(bn.DashCase|bn.Important)?e.style.setProperty(t,r,i&bn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&bn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Vk(r)):this.eventManager.addEventListener(e,t,Vk(r))}}class rq extends fy{constructor(e,t,r,i){super(e),this.component=r;const s=Ah(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(hy,n)}(i+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(hy,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class iq extends fy{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Ah(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let sq=(()=>{class n extends uy{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(v(le))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const jk=["alt","control","meta","shift"],hq={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$k={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},fq={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let pq=(()=>{class n extends uy{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zi().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(jk.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&$k.hasOwnProperty(e)&&(e=$k[e]))}return hq[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),jk.forEach(s=>{s!=i&&fq[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(v(le))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const Cq=NM(i4,"browser",[{provide:Ta,useValue:Rk},{provide:DM,useValue:function(){ly.makeCurrent(),cy.init()},multi:!0},{provide:le,useFactory:function(){return function(n){ug=n}(document),document},deps:[]}]),wq=[[],{provide:zl,useValue:"root"},{provide:Ds,useFactory:function(){return new Ds},deps:[]},{provide:Sc,useClass:sq,multi:!0,deps:[le,he,Ta]},{provide:Sc,useClass:pq,multi:!0,deps:[le]},[],{provide:Rh,useClass:Rh,deps:[Sh,Ac,vc]},{provide:As,useExisting:Rh},{provide:Ok,useExisting:Ac},{provide:Ac,useClass:Ac,deps:[le]},{provide:Am,useClass:Am,deps:[he]},{provide:Sh,useClass:Sh,deps:[Sc,he]},{provide:class{},useClass:$6,deps:[]},[]];let my=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:vc,useValue:t.appId},{provide:xk,useExisting:vc},j6]}}}return n.\u0275fac=function(t){return new(t||n)(v(n,12))},n.\u0275mod=nt({type:n}),n.\u0275inj=Ge({providers:wq,imports:[ay,d4]}),n})();function Wk(n){return Array.isArray(n)?n:[n]}function at(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Mh(n){return n instanceof ft?n.nativeElement:n}function W(...n){let e=n[n.length-1];return So(e)?(n.pop(),Kp(n,e)):Yp(n)}function zk(n,e,t,r){return Jt(t)&&(r=t,t=void 0),r?zk(n,e,t).pipe(Se(i=>Mi(i)?r(...i):r(i))):new K(i=>{Gk(n,e,function(o){i.next(arguments.length>1?Array.prototype.slice.call(arguments):o)},i,t)})}function Gk(n,e,t,r,i){let s;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const o=n;n.addEventListener(e,t,i),s=()=>o.removeEventListener(e,t,i)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const o=n;n.on(e,t),s=()=>o.off(e,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const o=n;n.addListener(e,t),s=()=>o.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let o=0,a=n.length;o<a;o++)Gk(n[o],e,t,r,i)}r.add(s)}"undefined"!=typeof window&&window;class Nq extends me{constructor(e,t){super()}schedule(e,t=0){return this}}class kh extends Nq{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=!!s&&s||new Error(s)}if(r)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,r=t.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let qk=(()=>{class n{constructor(t,r=n.now){this.SchedulerAction=t,this.now=r}schedule(t,r=0,i){return new this.SchedulerAction(this,t).schedule(i,r)}}return n.now=()=>Date.now(),n})();class mr extends qk{constructor(e,t=qk.now){super(e,()=>mr.delegate&&mr.delegate!==this?mr.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,r){return mr.delegate&&mr.delegate!==this?mr.delegate.schedule(e,t,r):super.schedule(e,t,r)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}new class extends mr{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let r,i=-1,s=t.length;e=e||t.shift();do{if(r=e.execute(e.state,e.delay))break}while(++i<s&&(e=t.shift()));if(this.active=!1,r){for(;++i<s&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends kh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});let Bq=1;const Uq=Promise.resolve(),xh={};function Kk(n){return n in xh&&(delete xh[n],!0)}const Yk={setImmediate(n){const e=Bq++;return xh[e]=!0,Uq.then(()=>Kk(e)&&n()),e},clearImmediate(n){Kk(n)}},vy=new class extends mr{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let r,i=-1,s=t.length;e=e||t.shift();do{if(r=e.execute(e.state,e.delay))break}while(++i<s&&(e=t.shift()));if(this.active=!1,r){for(;++i<s&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends kh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=Yk.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(Yk.clearImmediate(t),e.scheduled=void 0)}}),Zk=new mr(kh),by=Zk;class Wq{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new zq(e,this.durationSelector))}}class zq extends ml{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:i}=this;t=i(e)}catch(i){return this.destination.error(i)}const r=yl(t,new _l(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Ey(n){return!Mi(n)&&n-parseFloat(n)+1>=0}function qq(n){const{index:e,period:t,subscriber:r}=n;if(r.next(e),!r.closed){if(-1===t)return r.complete();n.index=e+1,this.schedule(n,t)}}function Xk(n,e=by){return function(n){return function(t){return t.lift(new Wq(n))}}(()=>function(n=0,e,t){let r=-1;return Ey(e)?r=Number(e)<1?1:Number(e):So(e)&&(t=e),So(t)||(t=by),new K(i=>{const s=Ey(n)?n:+n-t.now();return t.schedule(qq,s,{index:0,period:r,subscriber:i})})}(n,e))}function Hn(n,e){return function(r){return r.lift(new Kq(n,e))}}class Kq{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Yq(e,this.predicate,this.thisArg))}}class Yq extends ye{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}let Cy;try{Cy="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Cy=!1}let Rc,Ls,Dy,di=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(n){return n===Rk}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Cy)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(v(Ta))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wy(n){return function(){if(null==Rc&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Rc=!0}))}finally{Rc=Rc||!1}return Rc}()?n:!!n.capture}function Zq(){if(null==Ls){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ls=!1,Ls;if("scrollBehavior"in document.documentElement.style)Ls=!0;else{const n=Element.prototype.scrollTo;Ls=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ls}function Iy(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Vs(n){return n.composedPath?n.composedPath()[0]:n.target}function Ty(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const e5=new N("cdk-dir-doc",{providedIn:"root",factory:function(){return IT(le)}}),n5=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Sy=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new pt,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?n5.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(v(e5,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ge({}),n})(),o5=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Ve,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new K(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(Xk(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):W()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Hn(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Mh(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>zk(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(v(he),v(di),v(le,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ex=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Ve,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Xk(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(v(di),v(he),v(le,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ge({}),n})(),nx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ge({imports:[[Mc,tx],Mc,tx]}),n})();class Ay{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Oh extends Ay{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class rx extends Ay{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class l5 extends Ay{constructor(e){super(),this.element=e instanceof ft?e.nativeElement:e}}class Ry{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Oh?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof rx?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof l5?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class c5 extends Ry{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let ix=(()=>{class n extends Ry{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new pt,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=r.createComponent(s,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(T(oi),T(Vn),T(le))},n.\u0275dir=rt({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Kl]}),n})(),sx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ge({}),n})();const ox=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})(),xa=new K(n=>n.complete());function Nh(n){return n?function(n){return new K(e=>n.schedule(()=>e.complete()))}(n):xa}function qi(n){return e=>0===n?Nh():e.lift(new d5(n))}class d5{constructor(e){if(this.total=e,this.total<0)throw new ox}call(e,t){return t.subscribe(new h5(e,this.total))}}class h5 extends ye{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function ax(n){return e=>e.lift(new f5(n))}class f5{constructor(e){this.notifier=e}call(e,t){const r=new p5(e),i=yl(this.notifier,new _l(r));return i&&!r.seenValue?(r.add(i),t.subscribe(r)):r}}class p5 extends ml{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const lx=Zq();class g5{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=at(-this._previousScrollPosition.left),e.style.top=at(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),lx&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),lx&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class _5{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class cx{enable(){}disable(){}attach(){}}function My(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function ux(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class m5{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();My(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let y5=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new cx,this.close=o=>new _5(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new g5(this._viewportRuler,this._document),this.reposition=o=>new m5(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(v(o5),v(ex),v(he),v(le))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dx{constructor(e){if(this.scrollStrategy=new cx,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class v5{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class b5{constructor(e,t,r,i,s,o,a,l,c){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Ve,this._attachments=new Ve,this._detachments=new Ve,this._locationChanges=me.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._keydownEvents=new Ve,this._outsidePointerEvents=new Ve,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(qi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=at(this._config.width),e.height=at(this._config.height),e.minWidth=at(this._config.minWidth),e.minHeight=at(this._config.minHeight),e.maxWidth=at(this._config.maxWidth),e.maxHeight=at(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const i=Wk(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ax(RI(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}let ky=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Ty()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),Ty()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(v(le),v(di))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hx="cdk-overlay-connected-position-bounding-box",E5=/([A-Za-z%]+)$/;class C5{constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ve,this._resizeSubscription=me.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(hx),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Bs(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(hx),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=px(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-r.height,p=this._subtractOverflows(s.width,0-o,o+s.width-r.width),_=this._subtractOverflows(s.height,h,f),g=p*_;return{visibleArea:g,isCompletelyWithinViewport:s.width*s.height===g,fitsInViewportVertically:_===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=fx(this._overlayRef.getConfig().minHeight),a=fx(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=s;return(e.fitsInViewportVertically||null!=o&&o<=i)&&c}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=px(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new v5(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=at(r.height),i.top=at(r.top),i.bottom=at(r.bottom),i.width=at(r.width),i.left=at(r.left),i.right=at(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=at(s)),o&&(i.maxWidth=at(o))}this._lastBoundingBoxSize=r,Bs(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Bs(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Bs(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();Bs(r,this._getExactOverlayY(t,e,u)),Bs(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=at(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=at(o.maxWidth):s&&(r.maxWidth="")),Bs(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=at(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=at(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ux(e,r),isOriginOutsideView:My(e,r),isOverlayClipped:ux(t,r),isOverlayOutsideView:My(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Wk(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof ft)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Bs(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function fx(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(E5);return t&&"px"!==t?null:parseFloat(e)}return n||null}function px(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const gx="cdk-global-overlay-wrapper";class w5{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(gx),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(gx),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let _x=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new w5}flexibleConnectedTo(t){return new C5(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(v(ex),v(le),v(di),v(ky))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mx=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(v(le))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),D5=(()=>{class n extends mx{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(v(le),v(he,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),I5=(()=>{class n extends mx{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Vs(s)},this._clickListener=s=>{const o=Vs(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(v(le),v(di),v(he,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),T5=0,kc=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d,h){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new dx(t);return o.direction=o.direction||this._directionality.value,new b5(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+T5++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Ps)),new c5(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(v(y5),v(ky),v(oi),v(_x),v(D5),v(pe),v(he),v(le),v(Sy),v(Ma),v(I5))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const R5={provide:new N("cdk-connected-overlay-scroll-strategy"),deps:[kc],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let yx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ge({providers:[kc,R5],imports:[[Mc,sx,nx],nx]}),n})();function vx(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function b(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){vx(s,r,i,o,a,"next",l)}function a(l){vx(s,r,i,o,a,"throw",l)}o(void 0)})}}const w=function(n,e){if(!n)throw Pa(e)},Pa=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},bx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Fh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(bx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Lh=function(n){const e=bx(n);return Fh.encodeByteArray(e,!0)},Py=function(n){try{return Fh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function k5(n){return Cx(void 0,n)}function Cx(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!x5(t)||(n[t]=Cx(n[t],e[t]));return n}function x5(n){return"__proto__"!==n}class Oa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Cn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oy(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function Ny(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function wx(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Us(){return"object"==typeof indexedDB}function xc(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function Fy(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ki extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vr.prototype.create)}}class Vr{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(n,e){return n.replace(F5,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ki(i,`${this.serviceName}: ${o} (${i}).`,r)}}const F5=/\{\$([^}]+)}/g;function Pc(n){return JSON.parse(n)}function Et(n){return JSON.stringify(n)}const Vh=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=Pc(Py(s[0])||""),t=Pc(Py(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch(s){}return{header:e,claims:t,data:r,signature:i}};function fi(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Na(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Dx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Bh(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function Ly(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(Ix(s)&&Ix(o)){if(!Ly(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Ix(n){return null!==n&&"object"==typeof n}function Vy(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class B5{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,u,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class j5{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function(n,e){if("object"!=typeof n||null===n)return!1;for(const t of["next","error","complete"])if(t in n&&"function"==typeof n[t])return!0;return!1}(e)?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=By),void 0===i.error&&(i.error=By),void 0===i.complete&&(i.complete=By);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function By(){}function Fa(n,e){return`${n} failed: ${e} argument `}const Uh=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};function Uy(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Br(n){return n&&n._delegate?n._delegate:n}class Bt{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const js="[DEFAULT]";class Y5{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Oa;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return b(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q5(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Q5(n){return n===js?void 0:n}class X5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Y5(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const jy=[];var Ie=(()=>(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"}(Ie||(Ie={})),Ie))();const Tx={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},J5=Ie.INFO,eK={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},tK=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=eK[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class La{constructor(e){this.name=e,this._logLevel=J5,this._logHandler=tK,this._userLogHandler=null,jy.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Tx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}var $s=Xn(676);class nK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const $y="@firebase/app",Hy=new La("@firebase/app"),Wy="[DEFAULT]",RK={[$y]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Hs=new Map,jh=new Map;function MK(n,e){try{n.container.addComponent(e)}catch(t){Hy.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Yt(n){const e=n.name;if(jh.has(e))return Hy.debug(`There were multiple attempts to register component ${e}.`),!1;jh.set(e,n);for(const t of Hs.values())MK(t,n);return!0}function $h(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const pi=new Vr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class xK{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}function PK(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:Wy,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw pi.create("bad-app-name",{appName:String(r)});const i=Hs.get(r);if(i){if(Ly(n,i.options)&&Ly(t,i.config))return i;throw pi.create("duplicate-app",{appName:r})}const s=new X5(r);for(const a of jh.values())s.addComponent(a);const o=new xK(n,t,s);return Hs.set(r,o),o}function Ax(n=Wy){const e=Hs.get(n);if(!e)throw pi.create("no-app",{appName:n});return e}function Rx(){return Array.from(Hs.values())}function et(n,e,t){var r;let i=null!==(r=RK[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Hy.warn(a.join(" "))}Yt(new Bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Ws="firebase-heartbeat-store";let Gy=null;function qy(){return Gy||(Gy=(0,$s.openDb)("firebase-heartbeat-database",1,n=>{switch(n.oldVersion){case 0:n.createObjectStore(Ws)}}).catch(n=>{throw pi.create("storage-open",{originalErrorMessage:n.message})})),Gy}function Ky(){return(Ky=b(function*(n){try{return(yield qy()).transaction(Ws).objectStore(Ws).get(Xy(n))}catch(e){throw pi.create("storage-get",{originalErrorMessage:e.message})}})).apply(this,arguments)}function Yy(n,e){return Qy.apply(this,arguments)}function Qy(){return(Qy=b(function*(n,e){try{const r=(yield qy()).transaction(Ws,"readwrite");return yield r.objectStore(Ws).put(e,Xy(n)),r.complete}catch(t){throw pi.create("storage-set",{originalErrorMessage:t.message})}})).apply(this,arguments)}function Zy(){return(Zy=b(function*(n){try{const t=(yield qy()).transaction(Ws,"readwrite");return yield t.objectStore(Ws).delete(Xy(n)),t.complete}catch(e){throw pi.create("storage-delete",{originalErrorMessage:e.message})}})).apply(this,arguments)}function Xy(n){return`${n.name}!${n.options.appId}`}class UK{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HK(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return b(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=(new Date).toISOString().substring(0,10);if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),!e._heartbeatsCache.some(s=>s.date===i))return e._heartbeatsCache.push({date:i,userAgent:r}),e._heartbeatsCache=e._heartbeatsCache.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return b(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache)return"";const{heartbeatsToSend:t,unsentEntries:r}=function(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.userAgent===i.userAgent);if(s){if(s.dates.push(i.date),Mx(t)>e){s.dates.pop();break}}else if(t.push({userAgent:i.userAgent,dates:[i.date]}),Mx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache),i=Lh(JSON.stringify({version:2,heartbeats:t}));return r.length>0?(e._heartbeatsCache=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache=null,e._storage.deleteAll()),i})()}}class HK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(function*(){return!!Us()&&xc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return b(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function(n){return Ky.apply(this,arguments)}(e.app);return(null==r?void 0:r.heartbeats)||[]}return[]})()}overwrite(e){var t=this;return b(function*(){if(yield t._canUseIndexedDBPromise)return Yy(t.app,{heartbeats:e})})()}add(e){var t=this;return b(function*(){if(yield t._canUseIndexedDBPromise){const i=yield t.read();return Yy(t.app,{heartbeats:[...i,...e]})}})()}delete(e){var t=this;return b(function*(){if(yield t._canUseIndexedDBPromise){const i=yield t.read();return Yy(t.app,{heartbeats:i.filter(s=>!e.includes(s))})}})()}deleteAll(){var e=this;return b(function*(){if(yield e._canUseIndexedDBPromise)return function(n){return Zy.apply(this,arguments)}(e.app)})()}}function Mx(n){return Lh(JSON.stringify({version:2,heartbeats:n})).length}Yt(new Bt("platform-logger",e=>new nK(e),"PRIVATE")),Yt(new Bt("heartbeat",e=>new UK(e),"PRIVATE")),et($y,"0.7.18",""),et($y,"0.7.18","esm2017"),et("fire-js",""),et("firebase","9.6.8","app");const kx="@firebase/installations",Px="w:0.5.5",Ox="FIS_v2",gi=new Vr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Nx(n){return n instanceof Ki&&n.code.includes("request-failed")}function ev({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function Fx(n){return{token:n.token,requestStatus:2,expiresIn:XK(n.expiresIn),creationTime:Date.now()}}function tv(n,e){return nv.apply(this,arguments)}function nv(){return(nv=b(function*(n,e){const r=(yield e.json()).error;return gi.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Lx({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Vx(n,{refreshToken:e}){const t=Lx(n);return t.append("Authorization",function(n){return`${Ox} ${n}`}(e)),t}function rv(n){return iv.apply(this,arguments)}function iv(){return(iv=b(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function XK(n){return Number(n.replace("s","000"))}function e7(n,e){return sv.apply(this,arguments)}function sv(){return(sv=b(function*(n,{fid:e}){const t=ev(n),s={method:"POST",headers:Lx(n),body:JSON.stringify({fid:e,authVersion:Ox,appId:n.appId,sdkVersion:Px})},o=yield rv(()=>fetch(t,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:Fx(a.authToken)}}throw yield tv("Create Installation",o)})).apply(this,arguments)}function Bx(n){return new Promise(e=>{setTimeout(e,n)})}const n7=/^[cdef][\w-]{21}$/;function r7(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function(n){return function(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return n7.test(t)?t:""}catch(n){return""}}function Va(n){return`${n.appName}!${n.appId}`}const Ba=new Map;function Ux(n,e){const t=Va(n);jx(t,e),function(n,e){const t=(!zs&&"BroadcastChannel"in self&&(zs=new BroadcastChannel("[Firebase] FID Change"),zs.onmessage=n=>{jx(n.data.key,n.data.fid)}),zs);t&&t.postMessage({key:n,fid:e}),0===Ba.size&&zs&&(zs.close(),zs=null)}(t,e)}function jx(n,e){const t=Ba.get(n);if(t)for(const r of t)r(e)}let zs=null;const Gs="firebase-installations-store";let av=null;function lv(){return av||(av=(0,$s.openDb)("firebase-installations-database",1,n=>{switch(n.oldVersion){case 0:n.createObjectStore(Gs)}})),av}function Wh(n,e){return cv.apply(this,arguments)}function cv(){return(cv=b(function*(n,e){const t=Va(n),i=(yield lv()).transaction(Gs,"readwrite"),s=i.objectStore(Gs),o=yield s.get(t);return yield s.put(e,t),yield i.complete,(!o||o.fid!==e.fid)&&Ux(n,e.fid),e})).apply(this,arguments)}function uv(n){return dv.apply(this,arguments)}function dv(){return(dv=b(function*(n){const e=Va(n),r=(yield lv()).transaction(Gs,"readwrite");yield r.objectStore(Gs).delete(e),yield r.complete})).apply(this,arguments)}function Oc(n,e){return hv.apply(this,arguments)}function hv(){return(hv=b(function*(n,e){const t=Va(n),i=(yield lv()).transaction(Gs,"readwrite"),s=i.objectStore(Gs),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.complete,a&&(!o||o.fid!==a.fid)&&Ux(n,a.fid),a})).apply(this,arguments)}function fv(n){return pv.apply(this,arguments)}function pv(){return(pv=b(function*(n){let e;const t=yield Oc(n,r=>{const i=u7(r),s=d7(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function u7(n){return zx(n||{fid:r7(),registrationStatus:0})}function d7(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(gi.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:t,registrationPromise:function(n,e){return gv.apply(this,arguments)}(n,t)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:f7(n)}:{installationEntry:e}}function gv(){return(gv=b(function*(n,e){try{return Wh(n,yield e7(n,e))}catch(t){throw Nx(t)&&409===t.customData.serverCode?yield uv(n):yield Wh(n,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function f7(n){return _v.apply(this,arguments)}function _v(){return(_v=b(function*(n){let e=yield Wx(n);for(;1===e.registrationStatus;)yield Bx(100),e=yield Wx(n);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield fv(n);return r||t}return e})).apply(this,arguments)}function Wx(n){return Oc(n,e=>{if(!e)throw gi.create("installation-not-found");return zx(e)})}function zx(n){return function(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function g7(n,e){return mv.apply(this,arguments)}function mv(){return(mv=b(function*({appConfig:n,platformLoggerProvider:e},t){const r=_7(n,t),i=Vx(n,t),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Px}})},l=yield rv(()=>fetch(r,a));if(l.ok)return Fx(yield l.json());throw yield tv("Generate Auth Token",l)})).apply(this,arguments)}function _7(n,{fid:e}){return`${ev(n)}/${e}/authTokens:generate`}function yv(n){return vv.apply(this,arguments)}function vv(){return(vv=b(function*(n,e=!1){let t;const r=yield Oc(n.appConfig,s=>{if(!qx(s))throw gi.create("not-registered");const o=s.authToken;if(!e&&v7(o))return s;if(1===o.requestStatus)return t=m7(n,e),s;{if(!navigator.onLine)throw gi.create("app-offline");const a=E7(s);return t=y7(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function m7(n,e){return bv.apply(this,arguments)}function bv(){return(bv=b(function*(n,e){let t=yield Gx(n.appConfig);for(;1===t.authToken.requestStatus;)yield Bx(100),t=yield Gx(n.appConfig);const r=t.authToken;return 0===r.requestStatus?yv(n,e):r})).apply(this,arguments)}function Gx(n){return Oc(n,e=>{if(!qx(e))throw gi.create("not-registered");return function(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function y7(n,e){return Ev.apply(this,arguments)}function Ev(){return(Ev=b(function*(n,e){try{const t=yield g7(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Wh(n.appConfig,r),t}catch(t){if(!Nx(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Wh(n.appConfig,r)}else yield uv(n.appConfig);throw t}})).apply(this,arguments)}function qx(n){return void 0!==n&&2===n.registrationStatus}function v7(n){return 2===n.requestStatus&&!function(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function E7(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Cv(){return(Cv=b(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield fv(e.appConfig);return r?r.catch(console.error):yv(e).catch(console.error),t.fid})).apply(this,arguments)}function wv(){return(wv=b(function*(n,e=!1){const t=n;return yield I7(t.appConfig),(yield yv(t,e)).token})).apply(this,arguments)}function I7(n){return Dv.apply(this,arguments)}function Dv(){return(Dv=b(function*(n){const{registrationPromise:e}=yield fv(n);e&&(yield e)})).apply(this,arguments)}function Sv(n){return gi.create("missing-app-config-values",{valueName:n})}const Kx="installations";Yt(new Bt(Kx,n=>{const e=n.getProvider("app").getImmediate();return{app:e,appConfig:function(n){if(!n||!n.options)throw Sv("App Configuration");if(!n.name)throw Sv("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Sv(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e),platformLoggerProvider:$h(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),Yt(new Bt("installations-internal",n=>{const t=$h(n.getProvider("app").getImmediate(),Kx).getImmediate();return{getId:()=>function(n){return Cv.apply(this,arguments)}(t),getToken:i=>function(n){return wv.apply(this,arguments)}(t,i)}},"PRIVATE")),et(kx,"0.5.5"),et(kx,"0.5.5","esm2017");const Av="@firebase/remote-config",sn=new Vr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class H7{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return b(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function W7(n=navigator){return n.languages&&n.languages[0]||n.language}class z7{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return b(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:W7()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(o,c),d=new Promise((y,m)=>{e.signal.addEventListener(()=>{const C=new Error("The operation was aborted.");C.name="AbortError",m(C)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(y){let m="fetch-client-network";throw"AbortError"===y.name&&(m="fetch-timeout"),sn.create(m,{originalErrorMessage:y.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let _,g;if(200===h.status){let y;try{y=yield h.json()}catch(m){throw sn.create("fetch-client-parse",{originalErrorMessage:m.message})}_=y.entries,g=y.state}if("INSTANCE_STATE_UNSPECIFIED"===g?f=500:"NO_CHANGE"===g?f=304:("NO_TEMPLATE"===g||"EMPTY_CONFIG"===g)&&(_={}),304!==f&&200!==f)throw sn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:_}})()}}class K7{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return b(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return b(function*(){yield function(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function(n){if(!(n instanceof Ki&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Uy(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Z7{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Gh(n,e){const t=n.target.error||void 0;return sn.create(e,{originalErrorMessage:t&&t.message})}const qs="app_namespace_store";class tY{constructor(e,t,r,i=function(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Gh(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(qs,{keyPath:"compositeKey"})}}}catch(t){e(sn.create("storage-open",{originalErrorMessage:t}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return b(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([qs],"readonly").objectStore(qs),l=t.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{s(Gh(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(c){s(sn.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,t){var r=this;return b(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const l=i.transaction([qs],"readwrite").objectStore(qs),c=r.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:t});u.onerror=d=>{o(Gh(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(sn.create("storage-set",{originalErrorMessage:u&&u.message}))}})})()}delete(e){var t=this;return b(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([qs],"readwrite").objectStore(qs),l=t.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{s(Gh(u,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(sn.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class nY{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return b(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function iY(){return Pv.apply(this,arguments)}function Pv(){return(Pv=b(function*(){if(!Us())return!1;try{return yield xc()}catch(n){return!1}})).apply(this,arguments)}Yt(new Bt("remote-config",function(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw sn.create("registration-window");if(!Us())throw sn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw sn.create("registration-project-id");if(!o)throw sn.create("registration-api-key");if(!a)throw sn.create("registration-app-id");const l=new tY(a,r.name,t=t||"firebase"),c=new nY(l),u=new La(Av);u.logLevel=Ie.ERROR;const d=new z7(i,"9.6.8",t,s,o,a),h=new K7(d,l),f=new H7(h,l,c,u),p=new Z7(r,f,c,l,u);return function(n){const e=Br(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),et(Av,"0.3.4"),et(Av,"0.3.4","esm2017");const sY="/firebase-messaging-sw.js",oY="/firebase-cloud-messaging-push-scope",Xx="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Jx="google.c.a.c_id",lY="google.c.a.c_l",cY="google.c.a.ts",uY="google.c.a.e";var Ua=(()=>(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"}(Ua||(Ua={})),Ua))();function _i(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function dY(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Ov="fcm_token_details_db",eP="fcm_token_object_Store";function fY(n){return Nv.apply(this,arguments)}function Nv(){return(Nv=b(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Ov))return null;let e=null;return(yield(0,$s.openDb)(Ov,5,function(){var r=b(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(eP))return;const o=i.transaction.objectStore(eP),a=yield o.index("fcmSenderId").get(n);if(yield o.clear(),a)if(2===i.oldVersion){const l=a;if(!l.auth||!l.p256dh||!l.endpoint)return;e={token:l.fcmToken,createTime:null!==(s=l.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:"string"==typeof l.vapidKey?l.vapidKey:_i(l.vapidKey)}}}else if(3===i.oldVersion){const l=a;e={token:l.fcmToken,createTime:l.createTime,subscriptionOptions:{auth:_i(l.auth),p256dh:_i(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:_i(l.vapidKey)}}}else if(4===i.oldVersion){const l=a;e={token:l.fcmToken,createTime:l.createTime,subscriptionOptions:{auth:_i(l.auth),p256dh:_i(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:_i(l.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,$s.deleteDb)(Ov),yield(0,$s.deleteDb)("fcm_vapid_details_db"),yield(0,$s.deleteDb)("undefined"),pY(e)?e:null})).apply(this,arguments)}function pY(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ks="firebase-messaging-store";let Fv=null;function Lv(){return Fv||(Fv=(0,$s.openDb)("firebase-messaging-database",1,n=>{switch(n.oldVersion){case 0:n.createObjectStore(Ks)}})),Fv}function tP(n){return Vv.apply(this,arguments)}function Vv(){return(Vv=b(function*(n){const e=$v(n),r=yield(yield Lv()).transaction(Ks).objectStore(Ks).get(e);if(r)return r;{const i=yield fY(n.appConfig.senderId);if(i)return yield Bv(n,i),i}})).apply(this,arguments)}function Bv(n,e){return Uv.apply(this,arguments)}function Uv(){return(Uv=b(function*(n,e){const t=$v(n),i=(yield Lv()).transaction(Ks,"readwrite");return yield i.objectStore(Ks).put(e,t),yield i.complete,e})).apply(this,arguments)}function mY(n){return jv.apply(this,arguments)}function jv(){return(jv=b(function*(n){const e=$v(n),r=(yield Lv()).transaction(Ks,"readwrite");yield r.objectStore(Ks).delete(e),yield r.complete})).apply(this,arguments)}function $v({appConfig:n}){return n.appId}const Rt=new Vr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vY(n,e){return Hv.apply(this,arguments)}function Hv(){return(Hv=b(function*(n,e){const t=yield qv(n),r=rP(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Gv(n.appConfig),i)).json()}catch(o){throw Rt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw Rt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Rt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function bY(n,e){return Wv.apply(this,arguments)}function Wv(){return(Wv=b(function*(n,e){const t=yield qv(n),r=rP(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Gv(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw Rt.create("token-update-failed",{errorInfo:o})}if(s.error)throw Rt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Rt.create("token-update-no-token");return s.token})).apply(this,arguments)}function nP(n,e){return zv.apply(this,arguments)}function zv(){return(zv=b(function*(n,e){const r={method:"DELETE",headers:yield qv(n)};try{const s=yield(yield fetch(`${Gv(n.appConfig)}/${e}`,r)).json();if(s.error)throw Rt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Rt.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function Gv({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function qv(n){return Kv.apply(this,arguments)}function Kv(){return(Kv=b(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function rP({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==Xx&&(i.web.applicationPubKey=r),i}const EY=6048e5;function CY(n){return Yv.apply(this,arguments)}function Yv(){return(Yv=b(function*(n){const e=yield DY(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:_i(e.getKey("auth")),p256dh:_i(e.getKey("p256dh"))},r=yield tP(n.firebaseDependencies);if(r){if(IY(r.subscriptionOptions,t))return Date.now()>=r.createTime+EY?wY(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield nP(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return sP(n.firebaseDependencies,t)}return sP(n.firebaseDependencies,t)})).apply(this,arguments)}function iP(n){return Qv.apply(this,arguments)}function Qv(){return(Qv=b(function*(n){const e=yield tP(n.firebaseDependencies);e&&(yield nP(n.firebaseDependencies,e.token),yield mY(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function wY(n,e){return Zv.apply(this,arguments)}function Zv(){return(Zv=b(function*(n,e){try{const t=yield bY(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Bv(n.firebaseDependencies,r),t}catch(t){throw yield iP(n),t}})).apply(this,arguments)}function sP(n,e){return Xv.apply(this,arguments)}function Xv(){return(Xv=b(function*(n,e){const r={token:yield vY(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Bv(n,r),r.token})).apply(this,arguments)}function DY(n,e){return Jv.apply(this,arguments)}function Jv(){return(Jv=b(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dY(e)})})).apply(this,arguments)}function IY(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function oP(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i)}(e,n),function(n,e){!e.data||(n.data=e.data)}(e,n),function(n,e){if(!e.fcmOptions)return;n.fcmOptions={};const t=e.fcmOptions.link;t&&(n.fcmOptions.link=t);const r=e.fcmOptions.analytics_label;r&&(n.fcmOptions.analyticsLabel=r)}(e,n),e}function RY(n){return"object"==typeof n&&!!n&&Jx in n}function aP(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function eb(n){return Rt.create("missing-app-config-values",{valueName:n})}aP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),aP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class kY{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(n){if(!n||!n.options)throw eb("App Configuration Object");if(!n.name)throw eb("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw eb(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function lP(n){return tb.apply(this,arguments)}function tb(){return(tb=b(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(sY,{scope:oY}),n.swRegistration.update().catch(()=>{})}catch(e){throw Rt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function xY(n,e){return nb.apply(this,arguments)}function nb(){return(nb=b(function*(n,e){if(!e&&!n.swRegistration&&(yield lP(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Rt.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function PY(n,e){return rb.apply(this,arguments)}function rb(){return(rb=b(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Xx)})).apply(this,arguments)}function ib(){return(ib=b(function*(n,e){if(!navigator)throw Rt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Rt.create("permission-blocked");return yield PY(n,null==e?void 0:e.vapidKey),yield xY(n,null==e?void 0:e.serviceWorkerRegistration),CY(n)})).apply(this,arguments)}function OY(n,e,t){return sb.apply(this,arguments)}function sb(){return(sb=b(function*(n,e,t){const r=NY(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[Jx],message_name:t[lY],message_time:t[cY],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function NY(n){switch(n){case Ua.NOTIFICATION_CLICKED:return"notification_open";case Ua.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ob(){return(ob=b(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Ua.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(oP(t)):n.onMessageHandler.next(oP(t)));const r=t.data;RY(r)&&"1"===r[uY]&&(yield OY(n,t.messageType,r))})).apply(this,arguments)}const uP="@firebase/messaging";function hP(){return ab.apply(this,arguments)}function ab(){return(ab=b(function*(){try{yield xc()}catch(n){return!1}return"undefined"!=typeof window&&Us()&&Fy()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}Yt(new Bt("messaging",n=>{const e=new kY(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function(n,e){return ob.apply(this,arguments)}(e,t)),e},"PUBLIC")),Yt(new Bt("messaging-internal",n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function(n,e){return ib.apply(this,arguments)}(e,r)}},"PRIVATE")),et(uP,"0.9.9"),et(uP,"0.9.9","esm2017");const qh="analytics",$Y="firebase_id",zY="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fP="https://www.googletagmanager.com/gtag/js",Mt=new La("@firebase/analytics");function pP(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function GY(n,e){const t=document.createElement("script");t.src=`${fP}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function KY(n,e,t,r,i,s){return ub.apply(this,arguments)}function ub(){return(ub=b(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield pP(t)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){Mt.error(a)}n("config",i,s)})).apply(this,arguments)}function YY(n,e,t,r,i){return db.apply(this,arguments)}function db(){return(db=b(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield pP(t);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Mt.error(s)}})).apply(this,arguments)}function XY(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(fP))return e;return null}const wn=new Vr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),gP=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function rQ(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function iQ(n){return hb.apply(this,arguments)}function hb(){return(hb=b(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:rQ(r)},s=zY.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();(null===(e=l.error)||void 0===e?void 0:e.message)&&(a=l.error.message)}catch(l){}throw wn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function sQ(n){return fb.apply(this,arguments)}function fb(){return(fb=b(function*(n,e=gP,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw wn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw wn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new lQ;return setTimeout(b(function*(){a.abort()}),void 0!==t?t:6e4),_P({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function _P(n,e,t){return pb.apply(this,arguments)}function pb(){return(pb=b(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=gP){const{appId:s,measurementId:o}=n;try{yield oQ(r,e)}catch(a){if(o)return Mt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield iQ(n);return i.deleteThrottleMetadata(s),a}catch(a){if(!aQ(a)){if(i.deleteThrottleMetadata(s),o)return Mt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const l=503===Number(a.customData.httpStatus)?Uy(t,i.intervalMillis,30):Uy(t,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+l,backoffCount:t+1};return i.setThrottleMetadata(s,c),Mt.debug(`Calling attemptFetch again in ${l} millis`),_P(n,c,r,i)}})).apply(this,arguments)}function oQ(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function aQ(n){if(!(n instanceof Ki&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class lQ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function cQ(){return gb.apply(this,arguments)}function gb(){return(gb=b(function*(){if(!Us())return Mt.warn(wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield xc()}catch(n){return Mt.warn(wn.create("indexeddb-unavailable",{errorInfo:n}).message),!1}return!0})).apply(this,arguments)}function _b(){return(_b=b(function*(n,e,t,r,i,s,o){var a;const l=sQ(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Mt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Mt.error(f)),e.push(l);const c=cQ().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([l,c]);XY()||GY(s,u.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[$Y]=d),i("config",u.measurementId,h),u.measurementId})).apply(this,arguments)}class dQ{constructor(e){this.app=e}_delete(){return delete mi[this.app.options.appId],Promise.resolve()}}let mi={},mP=[];const yP={};let bP,Nc,Kh="dataLayer",mb=!1;function fQ(n,e,t){!function(){const n=[];if(Ny()&&n.push("This is a browser extension environment."),Fy()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=wn.create("invalid-analytics-context",{errorInfo:e});Mt.warn(t.message)}}();const r=n.options.appId;if(!r)throw wn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw wn.create("no-api-key");Mt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=mi[r])throw wn.create("already-exists",{id:r});if(!mb){!function(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Kh);const{wrappedGtag:s,gtagCore:o}=function(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function(n,e,t,r){function s(){return(s=b(function*(o,a,l){try{"event"===o?yield YY(n,e,t,a,l):"config"===o?yield KY(n,e,t,r,a,l):n("set",a)}catch(c){Mt.error(c)}})).apply(this,arguments)}return function(o,a,l){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(mi,mP,yP,Kh,"gtag");Nc=s,bP=o,mb=!0}return mi[r]=function(n,e,t,r,i,s,o){return _b.apply(this,arguments)}(n,mP,yP,e,bP,Kh,t),new dQ(n)}function yb(){return(yb=b(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function bQ(){return wb.apply(this,arguments)}function wb(){return(wb=b(function*(){if(Ny()||!Fy()||!Us())return!1;try{return yield xc()}catch(n){return!1}})).apply(this,arguments)}const EP="@firebase/analytics";Yt(new Bt(qh,(e,{options:t})=>fQ(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Yt(new Bt("analytics-internal",function(e){try{const t=e.getProvider(qh).getImmediate();return{logEvent:(r,i,s)=>function(n,e,t,r){n=Br(n),function(n,e,t,r,i){return yb.apply(this,arguments)}(Nc,mi[n.app.options.appId],e,t,r).catch(i=>Mt.error(i))}(t,r,i,s)}}catch(t){throw wn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),et(EP,"0.7.5"),et(EP,"0.7.5","esm2017");const IQ=new class extends mr{}(class extends kh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!==r&&r>0||null===r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}});function Yi(){}function on(n,e,t){return function(i){return i.lift(new TQ(n,e,t))}}class TQ{constructor(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}call(e,t){return t.subscribe(new SQ(e,this.nextOrObserver,this.error,this.complete))}}class SQ extends ye{constructor(e,t,r,i){super(e),this._tapNext=Yi,this._tapError=Yi,this._tapComplete=Yi,this._tapError=r||Yi,this._tapComplete=i||Yi,Jt(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||Yi,this._tapError=t.error||Yi,this._tapComplete=t.complete||Yi)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class Yh extends K{constructor(e,t=0,r=vy){super(),this.source=e,this.delayTime=t,this.scheduler=r,(!Ey(t)||t<0)&&(this.delayTime=0),(!r||"function"!=typeof r.schedule)&&(this.scheduler=vy)}static create(e,t=0,r=vy){return new Yh(e,t,r)}static dispatch(e){const{source:t,subscriber:r}=e;return this.add(t.subscribe(r))}_subscribe(e){return this.scheduler.schedule(Yh.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function wP(n,e=0){return function(r){return r.lift(new AQ(n,e))}}class AQ{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new Yh(t,this.delay,this.scheduler).subscribe(e)}}class an{constructor(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}}accept(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)}toObservable(){switch(this.kind){case"N":return W(this.value);case"E":return function(n,e){return new K(t=>t.error(n))}(this.error);case"C":return Nh()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new an("N",e):an.undefinedValueNotification}static createError(e){return new an("E",void 0,e)}static createComplete(){return an.completeNotification}}function DP(n,e=0){return function(r){return r.lift(new kQ(n,e))}}an.completeNotification=new an("C"),an.undefinedValueNotification=new an("N",void 0);class kQ{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new Db(e,this.scheduler,this.delay))}}class Db extends ye{constructor(e,t,r=0){super(e),this.scheduler=t,this.delay=r}static dispatch(e){const{notification:t,destination:r}=e;t.observe(r),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(Db.dispatch,this.delay,new xQ(e,this.destination)))}_next(e){this.scheduleMessage(an.createNext(e))}_error(e){this.scheduleMessage(an.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(an.createComplete()),this.unsubscribe()}}class xQ{constructor(e,t){this.notification=e,this.destination=t}}const Ib=new Rs("7.2.1"),Tb="__angularfire_symbol__analyticsIsSupportedValue",Sb="__angularfire_symbol__analyticsIsSupported",Ab="__angularfire_symbol__remoteConfigIsSupportedValue",Rb="__angularfire_symbol__remoteConfigIsSupported",Mb="__angularfire_symbol__messagingIsSupportedValue",kb="__angularfire_symbol__messagingIsSupported";globalThis[Sb]||(globalThis[Sb]=bQ().then(n=>globalThis[Tb]=n).catch(()=>globalThis[Tb]=!1)),globalThis[kb]||(globalThis[kb]=hP().then(n=>globalThis[Mb]=n).catch(()=>globalThis[Mb]=!1)),globalThis[Rb]||(globalThis[Rb]=iY().then(n=>globalThis[Ab]=n).catch(()=>globalThis[Ab]=!1));const Ob=(n,e)=>{const t=e?[e]:Rx(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ja(){}class IP{constructor(e,t=IQ){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class PQ{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ja,{},ja,ja)),t.pipe(on({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let TP=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new IP(Zone.current)),this.insideAngular=t.run(()=>new IP(Zone.current,Zk)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(v(he))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ys(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function OQ(n){return Ys().ngZone.runOutsideAngular(()=>n())}function Qs(n){return Ys().ngZone.run(()=>n())}function NQ(n){return Ys(),function(n){return function(t){return(t=t.lift(new PQ(n.ngZone))).pipe(wP(n.outsideAngular),DP(n.insideAngular))}}(Ys())(n)}const LQ=(n,e)=>{const t=void 0;return function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Qs(()=>n.apply(t,r))}},Fc=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=Qs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ja,{},ja,ja)))),r[s]=LQ(r[s],t));const i=OQ(()=>n.apply(this,r));if(!e){if(i instanceof K){const s=Ys();return i.pipe(wP(s.outsideAngular),DP(s.insideAngular))}return Qs(()=>i)}return i instanceof K?i.pipe(NQ):i instanceof Promise?Qs(()=>new Promise((s,o)=>i.then(a=>Qs(()=>s(a)),a=>Qs(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Qs(()=>i)};class $a{constructor(e){return e}}class SP{constructor(){return Rx()}}const Nb=new N("angularfire2._apps"),BQ={provide:$a,useFactory:function(n){return n&&1===n.length?n[0]:new $a(Ax())},deps:[[new Ue,Nb]]},UQ={provide:SP,deps:[[new Ue,Nb]]};function jQ(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new $a(r)}}let $Q=(()=>{class n{constructor(t){et("angularfire",Ib.full,"core"),et("angularfire",Ib.full,"app"),et("angular",Q_.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(v(Ta))},n.\u0275mod=nt({type:n}),n.\u0275inj=Ge({providers:[BQ,UQ]}),n})();function HQ(n,...e){return{ngModule:$Q,providers:[{provide:Nb,useFactory:jQ(n),multi:!0,deps:[he,pe,TP,...e]}]}}const WQ=Fc(PK,!0);function RP(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}const qQ=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},PP=new Vr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),OP=new La("@firebase/auth");function Zh(n,...e){OP.logLevel<=Ie.ERROR&&OP.error(`Auth (9.6.8): ${n}`,...e)}function ln(n,...e){throw Lb(n,...e)}function Ur(n,...e){return Lb(n,...e)}function NP(n,e,t){const r=Object.assign(Object.assign({},qQ()),{[e]:t});return new Vr("auth","Firebase",r).create(e,{appName:n.name})}function Lb(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return PP.create(n,...e)}function D(n,e,...t){if(!n)throw Lb(e,...t)}function jr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Zh(e),new Error(e)}function Qi(n,e){n||jr(e)}const FP=new Map;function yi(n){Qi(n instanceof Function,"Expected a class definition");let e=FP.get(n);return e?(Qi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,FP.set(n,e),e)}function LP(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Vc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qi(t>e,"Short delay should be less than long delay!"),this.isMobile=Oy()||wx()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===LP()||"https:"===LP()||Ny()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}class VP{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const XQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},JQ=new Vc(3e4,6e4);function Ct(n,e,t,r){return Ub.apply(this,arguments)}function Ub(){return(Ub=b(function*(n,e,t,r,i={}){return BP(n,i,b(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Vy(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),VP.fetch()(UP(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function BP(n,e,t){return jb.apply(this,arguments)}function jb(){return(jb=b(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},XQ),e);try{const i=new e9(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Xh(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Xh(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Xh(n,"email-already-in-use",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw NP(n,u,c);ln(n,u)}}catch(i){if(i instanceof Ki)throw i;ln(n,"network-request-failed")}})).apply(this,arguments)}function UP(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function(n,e){Qi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class e9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),JQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ur(n,e,r);return i.customData._tokenResponse=t,i}function Hb(){return(Hb=b(function*(n,e){return Ct(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function r9(n,e){return zb.apply(this,arguments)}function zb(){return(zb=b(function*(n,e){return Ct(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Bc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Gb(){return(Gb=b(function*(n,e=!1){const t=Br(n),r=yield t.getIdToken(e),i=Jh(r);D(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Bc(qb(i.auth_time)),issuedAtTime:Bc(qb(i.iat)),expirationTime:Bc(qb(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function qb(n){return 1e3*Number(n)}function Jh(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Zh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Py(t);return i?JSON.parse(i):(Zh("Failed to decode base64 JWT payload"),null)}catch(i){return Zh("Caught error parsing JWT payload as JSON",i),null}}function bi(n,e){return Kb.apply(this,arguments)}function Kb(){return(Kb=b(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Ki&&o9(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function o9({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class a9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(b(function*(){yield t.iteration()}),r)}iteration(){var e=this;return b(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class jP{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bc(this.lastLoginAt),this.creationTime=Bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Uc(n){return Yb.apply(this,arguments)}function Yb(){return(Yb=b(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield bi(n,r9(t,{idToken:r}));D(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?u9(s.providerUserInfo):[],a=c9(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new jP(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function Qb(){return(Qb=b(function*(n){const e=Br(n);yield Uc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function c9(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function u9(n){return n.map(e=>{var{providerId:t}=e,r=RP(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Zb(){return(Zb=b(function*(n,e){const t=yield BP(n,{},b(function*(){const r=Vy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=UP(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",VP.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class jc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){D(e.idToken,"internal-error"),D(void 0!==e.idToken,"internal-error"),D(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(n){const e=Jh(n);return D(e,"internal-error"),D(void 0!==e.exp,"internal-error"),D(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return b(function*(){return D(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return b(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function(n,e){return Zb.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new jc;return r&&(D("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(D("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(D("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jc,this.toJSON())}_performRefresh(){return jr("not implemented")}}function Zi(n,e){D("string"==typeof n||void 0===n,"internal-error",{appName:e})}class Zs{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=RP(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new a9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jP(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return b(function*(){const r=yield bi(t,t.stsTokenManager.getToken(t.auth,e));return D(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function(n){return Gb.apply(this,arguments)}(this,e)}reload(){return function(n){return Qb.apply(this,arguments)}(this)}_assign(e){this!==e&&(D(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Zs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){D(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return b(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Uc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return b(function*(){const t=yield e.getIdToken();return yield bi(e,function(n,e){return Hb.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,_=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,y=null!==(c=t.createdAt)&&void 0!==c?c:void 0,m=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:C,emailVerified:I,isAnonymous:U,providerData:ge,stsTokenManager:Ee}=t;D(C&&Ee,e,"internal-error");const xt=jc.fromJSON(this.name,Ee);D("string"==typeof C,e,"internal-error"),Zi(d,e.name),Zi(h,e.name),D("boolean"==typeof I,e,"internal-error"),D("boolean"==typeof U,e,"internal-error"),Zi(f,e.name),Zi(p,e.name),Zi(_,e.name),Zi(g,e.name),Zi(y,e.name),Zi(m,e.name);const lt=new Zs({uid:C,auth:e,email:h,emailVerified:I,displayName:d,isAnonymous:U,photoURL:p,phoneNumber:f,tenantId:_,stsTokenManager:xt,createdAt:y,lastLoginAt:m});return ge&&Array.isArray(ge)&&(lt.providerData=ge.map(Tt=>Object.assign({},Tt))),g&&(lt._redirectEventId=g),lt}static _fromIdTokenResponse(e,t,r=!1){return b(function*(){const i=new jc;i.updateFromServerResponse(t);const s=new Zs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Uc(s),s})()}}const $P=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(function*(){return!0})()}_set(t,r){var i=this;return b(function*(){i.storage[t]=r})()}_get(t){var r=this;return b(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return b(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function ef(n,e,t){return`firebase:${n}:${e}:${t}`}class Wa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ef(this.userKey,i.apiKey,s),this.fullPersistenceKey=ef("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return b(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Zs._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return b(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return b(function*(){if(!t.length)return new Wa(yi($P),e,r);const i=(yield Promise.all(t.map(function(){var c=b(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||yi($P);const o=ef(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=Zs._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch(u){}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=b(function*(u){if(u!==s)try{yield u._remove(o)}catch(d){}});return function(u){return c.apply(this,arguments)}}())),new Wa(s,e,r)):new Wa(s,e,r)})()}}function HP(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function(n=Cn()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function(n=Cn()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function(n=Cn()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function(n=Cn()){return/webos/i.test(n)}(e))return"Webos";if(function(n=Cn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function(n=Cn()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function(n=Cn()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function QP(n,e=[]){let t;switch(n){case"Browser":t=HP(Cn());break;case"Worker":t=`${HP(Cn())}-${n}`;break;default:t=n}return`${t}/JsCore/9.6.8/${e.length?e.join(","):"FirebaseCore-web"}`}class p9{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZP(this),this.idTokenSubscription=new ZP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PP,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=yi(t)),this._initializationPromise=this.queue(b(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Wa.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return b(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t)}})()}initializeCurrentUser(e){var t=this;return b(function*(){var r;let i=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const s=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield t.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(D(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===i._redirectEventId?t.directlySetCurrentUser(i):t.reloadAndSetCurrentUserOrClear(i)):t.reloadAndSetCurrentUserOrClear(i):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return b(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(i){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return b(function*(){try{yield Uc(e)}catch(r){if("auth/network-request-failed"!==r.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return b(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return b(function*(){const r=e?Br(e):null;return r&&D(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return b(function*(){if(!t._deleted)return e&&D(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue(b(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return b(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue(b(function*(){yield t.assertedPersistence.setPersistence(yi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return b(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return b(function*(){if(!t.redirectPersistenceManager){const r=e&&yi(e)||t._popupRedirectResolver;D(r,t,"argument-error"),t.redirectPersistenceManager=yield Wa.create(t,[yi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return b(function*(){var r,i;return t._isInitialized&&(yield t.queue(b(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return b(function*(){if(e===t.currentUser)return t.queue(b(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return D(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return b(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return D(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return b(function*(){const t={"X-Client-Version":e.clientVersion};return e.app.options.appId&&(t["X-Firebase-gmpid"]=e.app.options.appId),t})()}}class ZP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(n,e){const t=new j5(n,void 0);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return D(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}new WeakMap,Math.floor(1e6*Math.random()),new Vc(3e4,6e4),new Vc(2e3,1e4),new Map,new Vc(3e4,6e4),new Vc(5e3,15e3),new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);var AO="@firebase/auth";class nX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return b(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){D(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function(n){Yt(new Bt("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{D(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),D(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QP(n)},l=new p9(o,a);return function(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(yi);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(l,t),l})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Yt(new Bt("auth-internal",e=>{const t=function(n){return Br(n)}(e.getProvider("auth").getImmediate());return new nX(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),et(AO,"0.19.9",void 0),et(AO,"0.19.9","esm2017")}("Browser");class kO{constructor(){return Ob("auth")}}const xO=new Map,lX={activated:!1,tokenObservers:[]},cX={initialized:!1,enabled:!1};function wt(n){return xO.get(n)||lX}function yr(n,e){xO.set(n,e)}function gf(){return cX}class pX{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return b(function*(){t.stop();try{t.pending=new Oa,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Oa,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Qt=new Vr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function OO(n){if(!wt(n).activated)throw Qt.create("use-before-activation",{appName:n.name})}function FC(n,e){return LC.apply(this,arguments)}function LC(){return(LC=b(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw Qt.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw Qt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Qt.create("fetch-parse-error",{originalErrorMessage:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Qt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.attestationToken,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function bX(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const zc="firebase-app-check-store";let yf=null;function FO(){return yf||(yf=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Qt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(zc,{keyPath:"compositeKey"})}}}catch(t){e(Qt.create("storage-open",{originalErrorMessage:t.message}))}}),yf)}function VC(){return(VC=b(function*(n,e){const r=(yield FO()).transaction(zc,"readwrite"),s=r.objectStore(zc).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(Qt.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Gc=new La("@firebase/app-check");function UO(n,e){return Us()?function(n,e){return function(n,e){return VC.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Gc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function jO(){return gf().enabled}function $O(){return $C.apply(this,arguments)}function $C(){return($C=b(function*(){const n=gf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const MX={error:"UNKNOWN_ERROR"};function kX(n){return Fh.encodeString(JSON.stringify(n),!1)}function vf(n){return HC.apply(this,arguments)}function HC(){return(HC=b(function*(n,e=!1){const t=n.app;OO(t);const r=wt(t);let s,i=r.token;if(!i){const l=yield r.cachedTokenPromise;l&&bf(l)&&(i=l)}if(!e&&i&&bf(i))return{token:i.token};let a,o=!1;if(jO()){r.exchangeTokenPromise||(r.exchangeTokenPromise=FC(bX(t,yield $O()),n.platformLoggerProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const l=yield r.exchangeTokenPromise;return yield UO(t,l),yr(t,Object.assign(Object.assign({},r),{token:l})),{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(l=>(r.exchangeTokenPromise=void 0,l)),o=!0),i=yield r.exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?Gc.warn(l.message):Gc.error(l),s=l}return i?(a={token:i.token},yr(t,Object.assign(Object.assign({},r),{token:i})),yield UO(t,i)):a=PX(s),o&&WO(t,a),a})).apply(this,arguments)}function zC(n,e){const t=wt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),yr(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function HO(n){const{app:e}=n,t=wt(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new pX(b(function*(){let r;if(r=wt(e).token?yield vf(n,!0):yield vf(n),r.error)throw r.error}),()=>!0,()=>{const t=wt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),yr(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function WO(n,e){const t=wt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function bf(n){return n.expireTimeMillis-Date.now()>0}function PX(n){return{token:kX(MX),error:n}}class OX{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=wt(this.app);for(const t of e)zC(this.app,t.next);return Promise.resolve()}}const XO="app-check-internal";Yt(new Bt("app-check",n=>function(n,e){return new OX(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(XO).initialize()})),Yt(new Bt(XO,n=>function(n){return{getToken:e=>vf(n,e),addTokenListener:e=>function(n,e,t,r){const{app:i}=n,s=wt(i),o={next:t,error:r,type:e};if(yr(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&bf(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),HO(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>HO(n))}(n,"INTERNAL",e),removeTokenListener:e=>zC(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),et("@firebase/app-check","0.5.3");class eN{constructor(){return Ob("app-check")}}"undefined"!=typeof window&&window;class tJ{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new QC(e,this.delay,this.scheduler))}}class QC extends ye{constructor(e,t,r){super(e),this.delay=t,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,r=t.queue,i=e.scheduler,s=e.destination;for(;r.length>0&&r[0].time-i.now()<=0;)r.shift().notification.observe(s);if(r.length>0){const o=Math.max(0,r[0].time-i.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(QC.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,r=new nJ(t.now()+this.delay,e);this.queue.push(r),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(an.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(an.createComplete()),this.unsubscribe()}}class nJ{constructor(e,t){this.time=e,this.notification=t}}const tN="@firebase/database";let ZC="";class iJ{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Et(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Pc(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class sJ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return fi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const rN=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new iJ(e)}}catch(e){}return new sJ},to=rN("localStorage"),XC=rN("sessionStorage"),za=new La("@firebase/database"),iN=function(){let n=1;return function(){return n++}}(),sN=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,w(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new B5;t.update(e);const r=t.digest();return Fh.encodeByteArray(r)},qc=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=qc.apply(null,r):e+="object"==typeof r?Et(r):r,e+=" "}return e};let no=null,oN=!0;const Dt=function(...n){if(!0===oN&&(oN=!1,null===no&&!0===XC.get("logging_enabled")&&function(n,e){w(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(za.logLevel=Ie.VERBOSE,no=za.log.bind(za),e&&XC.set("logging_enabled",!0)):"function"==typeof n?no=n:(no=null,XC.remove("logging_enabled"))}(!0)),no){const e=qc.apply(null,n);no(e)}},Kc=function(n){return function(...e){Dt(n,...e)}},JC=function(...n){const e="FIREBASE INTERNAL ERROR: "+qc(...n);za.error(e)},$r=function(...n){const e=`FIREBASE FATAL ERROR: ${qc(...n)}`;throw za.error(e),new Error(e)},Zt=function(...n){const e="FIREBASE WARNING: "+qc(...n);za.warn(e)},Cf=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Ci="[MIN_NAME]",Hr="[MAX_NAME]",ro=function(n,e){if(n===e)return 0;if(n===Ci||e===Hr)return-1;if(e===Ci||n===Hr)return 1;{const t=wf(n),r=wf(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},lJ=function(n,e){return n===e?0:n<e?-1:1},Yc=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Et(e))},ew=function(n){if("object"!=typeof n||null===n)return Et(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=Et(e[r]),t+=":",t+=ew(n[e[r]]);return t+="}",t},lN=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function It(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const cN=function(n){w(!Cf(n),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},hJ=new RegExp("^-?(0*)\\d{1,10}$"),wf=function(n){if(hJ.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Ga=function(n){try{n()}catch(e){setTimeout(()=>{throw Zt("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Qc=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class pJ{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Zt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class gJ{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Dt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Zt(e)}}let Zc=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const gN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mN="websocket",yN="long_polling";class rw{constructor(e,t,r,i,s=!1,o="",a=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=to.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&to.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function vN(n,e,t){let r;if(w("string"==typeof e,"typeof type must == string"),w("object"==typeof t,"typeof params must == object"),e===mN)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==yN)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return It(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class yJ{constructor(){this.counters_={}}incrementCounter(e,t=1){fi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return k5(this.counters_)}}const iw={},sw={};function ow(n){const e=n.toString();return iw[e]||(iw[e]=new yJ),iw[e]}class bJ{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ga(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class qa{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Kc(e),this.stats_=ow(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),vN(t,yN,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new bJ(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new aw((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&gN.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){qa.forceAllow_=!0}static forceDisallow(){qa.forceDisallow_=!0}static isAvailable(){return!(!qa.forceAllow_&&(qa.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Et(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=Lh(t),i=lN(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Et(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class aw{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=iN(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=aw.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Dt("frame writing exception"),a.stack&&Dt(a.stack),Dt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Dt("No IE domain setting required")}catch(t){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Dt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let Xc=null;"undefined"!=typeof MozWebSocket?Xc=MozWebSocket:"undefined"!=typeof WebSocket&&(Xc=WebSocket);let Jc=(()=>{class n{constructor(t,r,i,s,o,a,l){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Kc(this.connId),this.stats_=ow(r),this.connURL=n.connectionURL_(r,a,l,s),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s){const o={v:"5"};return"undefined"!=typeof location&&location.hostname&&gN.test(location.hostname)&&(o.r="f"),r&&(o.s=r),i&&(o.ls=i),s&&(o.ac=s),vN(t,mN,o)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,to.set("previous_websocket_failure",!0);try{this.mySock=new Xc(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==Xc&&!n.forceDisallow_}static previouslyFailed(){return to.isInMemoryStorage||!0===to.get("previous_websocket_failure")}markConnectionHealthy(){to.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Pc(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(w(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=Et(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=lN(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class lw{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[qa,Jc]}initTransports_(e){const t=Jc&&Jc.isAvailable();let r=t&&!Jc.previouslyFailed();if(e.webSocketOnly&&(t||Zt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Jc];else{const i=this.transports_=[];for(const s of lw.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class xN{constructor(e,t,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Kc("c:"+this.id+":"),this.transportManager_=new lw(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Qc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Yc("t",e),r=Yc("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Yc("t",e),r=Yc("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Yc("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?JC("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):JC("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Zt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Qc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(to.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class PN{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class ON{constructor(e){this.allowedEvents_=e,this.listeners_={},w(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){w(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class If extends ON{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!Oy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new If}getInitialEvent(e){return w("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Te{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ve(){return new Te("")}function ne(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Xi(n){return n.pieces_.length-n.pieceNum_}function ke(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Te(n.pieces_,e)}function uw(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function eu(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function LN(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Te(e,0)}function $e(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Te)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Te(t,0)}function re(n){return n.pieceNum_>=n.pieces_.length}function Xt(n,e){const t=ne(n),r=ne(e);if(null===t)return e;if(t===r)return Xt(ke(n),ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function dw(n,e){if(Xi(n)!==Xi(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function zn(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Xi(n)>Xi(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class HJ{constructor(e,t){this.errorPrefix_=t,this.parts_=eu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Uh(this.parts_[r]);VN(this)}}function VN(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+io(n))}function io(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class hw extends ON{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new hw}getInitialEvent(e){return w("visible"===e,"Unknown event type: "+e),[this.visible_]}}const tu=1e3;let Sf,so=(()=>{class n extends PN{constructor(t,r,i,s,o,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=Kc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=tu,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");hw.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&If.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(Et(o)),w(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new Oa,i={p:t._path.toString(),q:t._queryObject},s={action:"g",request:i,onComplete:a=>{const l=a.d;"ok"===a.s?(this.onDataUpdate_(i.p,l,!1,null),r.resolve(l)):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const a=this.outstandingGets_[o];void 0===a||s!==a||(delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+o+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(o),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),w(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),w(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(i,s),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&fi(t,"w")){const i=Na(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Zt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=Vh(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=Vh(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),w(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Et(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):JC("Unrecognized action received from server: "+Et(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){w(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=tu,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=tu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=tu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return b(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};t.realtime_={close:u,sendRequest:function(f){w(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);l?Dt("getToken() completed but was canceled"):(Dt("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=p&&p.token,c=new xN(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,_=>{Zt(_+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),l||(t.repoInfo_.nodeAdmin&&Zt(f),u())}}})()}interrupt(t){Dt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Dt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Dx(this.interruptReasons_)&&(this.reconnectDelay_=tu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>ew(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Te(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){Dt("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Dt("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+ZC.replace(/\./g,"-")]=1,Oy()?t["framework.cordova"]=1:wx()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=If.getInstance().currentlyOnline();return Dx(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class se{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new se(e,t)}}class Tf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new se(Ci,e),i=new se(Ci,t);return 0!==this.compare(r,i)}minPost(){return se.MIN}}class jN extends Tf{static get __EMPTY_NODE(){return Sf}static set __EMPTY_NODE(e){Sf=e}compare(e,t){return ro(e.name,t.name)}isDefinedOn(e){throw Pa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return se.MIN}maxPost(){return new se(Hr,Sf)}makePost(e,t){return w("string"==typeof e,"KeyIndex indexValue must always be a string."),new se(e,Sf)}toString(){return".key"}}const Wr=new jN;class Af{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let pw,vr=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=null!=i?i:n.RED,this.left=null!=s?s:un.EMPTY_NODE,this.right=null!=o?o:un.EMPTY_NODE}copy(t,r,i,s,o){return new n(null!=t?t:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return un.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return un.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class un{constructor(e,t=un.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new un(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,vr.BLACK,null,null))}remove(e){return new un(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,vr.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Af(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Af(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Af(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Af(this.root_,null,this.comparator_,!0,e)}}function XJ(n,e){return ro(n.name,e.name)}function fw(n,e){return ro(n,e)}un.EMPTY_NODE=new class{copy(e,t,r,i,s){return this}insert(e,t,r){return new vr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const $N=function(n){return"number"==typeof n?"number:"+cN(n):"string:"+n},HN=function(n){if(n.isLeafNode()){const e=n.val();w("string"==typeof e||"number"==typeof e||"object"==typeof e&&fi(e,".sv"),"Priority must be a string or number.")}else w(n===pw||n.isEmpty(),"priority of unexpected type.");w(n===pw||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let WN,zN,GN,Ka=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,w(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),HN(this.priorityNode_)}static set __childrenNodeConstructor(t){WN=t}static get __childrenNodeConstructor(){return WN}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return re(t)?this:".priority"===ne(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=ne(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:(w(".priority"!==i||1===Xi(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+$N(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?cN(this.value_):this.value_,this.lazyHash_=sN(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(w(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return w(s>=0,"Unknown leaf type: "+r),w(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Oe=new class extends Tf{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?ro(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return se.MIN}maxPost(){return new se(Hr,new Ka("[PRIORITY-POST]",GN))}makePost(e,t){const r=zN(e);return new se(t,new Ka("[PRIORITY-POST]",r))}toString(){return".priority"}},ree=Math.log(2);class iee{constructor(e){this.count=parseInt(Math.log(e+1)/ree,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Rf=function(n,e,t,r){n.sort(e);const i=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=n[l],h=t?t(d):d,new vr(h,d.node,vr.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=i(l,f),_=i(f+1,c);return d=n[f],h=t?t(d):d,new vr(h,d.node,vr.BLACK,p,_)}},a=function(l){let c=null,u=null,d=n.length;const h=function(p,_){const g=d-p,y=d;d-=p;const m=i(g+1,y),C=n[g],I=t?t(C):C;f(new vr(I,C.node,_,null,m))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const _=l.nextBitIsOne(),g=Math.pow(2,l.count-(p+1));_?h(g,vr.BLACK):(h(g,vr.BLACK),h(g,vr.RED))}return u}(new iee(n.length));return new un(r||e,a)};let gw;const Ya={};class wi{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return w(Ya&&Oe,"ChildrenNode.ts has not been loaded"),gw=gw||new wi({".priority":Ya},{".priority":Oe}),gw}get(e){const t=Na(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof un?t:null}hasIndex(e){return fi(this.indexSet_,e.toString())}addIndex(e,t){w(e!==Wr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(se.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Rf(r,e.getCompare()):Ya;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new wi(u,c)}addToIndexes(e,t){const r=Bh(this.indexes_,(i,s)=>{const o=Na(this.indexSet_,s);if(w(o,"Missing index implementation for "+s),i===Ya){if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(se.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Rf(a,o.getCompare())}return Ya}{const a=t.get(e.name);let l=i;return a&&(l=l.remove(new se(e.name,a))),l.insert(e,e.node)}});return new wi(r,this.indexSet_)}removeFromIndexes(e,t){const r=Bh(this.indexes_,i=>{if(i===Ya)return i;{const s=t.get(e.name);return s?i.remove(new se(e.name,s)):i}});return new wi(r,this.indexSet_)}}let nu,Q=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&HN(this.priorityNode_),this.children_.isEmpty()&&w(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return nu||(nu=new n(new un(fw),null,wi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||nu}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?nu:r}}getChild(t){const r=ne(t);return null===r?this:this.getImmediateChild(r).getChild(ke(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(w(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new se(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?nu:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){const i=ne(t);if(null===i)return r;{w(".priority"!==ne(t)||1===Xi(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(ke(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(Oe,(a,l)=>{r[a]=l.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+$N(this.getPriority().val())+":"),this.forEachChild(Oe,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":sN(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new se(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new se(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new se(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,se.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,se.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ru?-1:0}withIndex(t){if(t===Wr||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Wr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Oe),s=r.getIterator(Oe);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===Wr?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const ru=new class extends Q{constructor(){super(new un(fw),Q.EMPTY_NODE,wi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Q.EMPTY_NODE}isEmpty(){return!1}};function ze(n,e=null){if(null===n)return Q.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),w(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Ka(n,ze(e));if(n instanceof Array){let t=Q.EMPTY_NODE;return It(n,(r,i)=>{if(fi(n,r)&&"."!==r.substring(0,1)){const s=ze(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(ze(e))}{const t=[];let r=!1;if(It(n,(o,a)=>{if("."!==o.substring(0,1)){const l=ze(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),t.push(new se(o,l)))}}),0===t.length)return Q.EMPTY_NODE;const s=Rf(t,XJ,o=>o.name,fw);if(r){const o=Rf(t,Oe.getCompare());return new Q(s,ze(e),new wi({".priority":o},{".priority":Oe}))}return new Q(s,ze(e),wi.Default)}}Object.defineProperties(se,{MIN:{value:new se(Ci,Q.EMPTY_NODE)},MAX:{value:new se(Hr,ru)}}),jN.__EMPTY_NODE=Q.EMPTY_NODE,Ka.__childrenNodeConstructor=Q,function(n){pw=n}(ru),function(n){GN=n}(ru),function(n){zN=n}(ze);class _w extends Tf{constructor(e){super(),this.indexPath_=e,w(!re(e)&&".priority"!==ne(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?ro(e.name,t.name):s}makePost(e,t){const r=ze(e),i=Q.EMPTY_NODE.updateChild(this.indexPath_,r);return new se(t,i)}maxPost(){const e=Q.EMPTY_NODE.updateChild(this.indexPath_,ru);return new se(Hr,e)}toString(){return eu(this.indexPath_,0).join("/")}}const mw=new class extends Tf{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?ro(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return se.MIN}maxPost(){return se.MAX}makePost(e,t){const r=ze(e);return new se(t,r)}toString(){return".value"}};function ZN(n){return{type:"value",snapshotNode:n}}function Za(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function iu(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function su(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class vw{constructor(e){this.index_=e}updateChild(e,t,r,i,s,o){w(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=o&&(r.isEmpty()?e.hasChild(t)?o.trackChildChange(iu(t,a)):w(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Za(t,r)):o.trackChildChange(su(t,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(Oe,(i,s)=>{t.hasChild(i)||r.trackChildChange(iu(i,s))}),t.isLeafNode()||t.forEachChild(Oe,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(su(i,s,o))}else r.trackChildChange(Za(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Q.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ou{constructor(e){this.indexedFilter_=new vw(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ou.getStartPost_(e),this.endPost_=ou.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,r,i,s,o){return this.matches(new se(t,r))||(r=Q.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,o)}updateFullNode(e,t,r){t.isLeafNode()&&(t=Q.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(Q.EMPTY_NODE);const s=this;return t.forEachChild(Oe,(o,a)=>{s.matches(new se(o,a))||(i=i.updateImmediateChild(o,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class uee{constructor(e){this.rangedFilter_=new ou(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,r,i,s,o){return this.rangedFilter_.matches(new se(t,r))||(r=Q.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,o):this.fullLimitUpdateChild_(e,t,r,s,o)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=Q.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;i=Q.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();let l;if(l=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,!l)break;i=i.updateImmediateChild(a.name,a.node),o++}}else{let s,o,a,l;if(i=t.withIndex(this.index_),i=i.updatePriority(Q.EMPTY_NODE),this.reverse_){l=i.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),o=this.rangedFilter_.getStartPost();const d=this.index_.getCompare();a=(h,f)=>d(f,h)}else l=i.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),o=this.rangedFilter_.getEndPost(),a=this.index_.getCompare();let c=0,u=!1;for(;l.hasNext();){const d=l.getNext();!u&&a(s,d)<=0&&(u=!0),u&&c<this.limit_&&a(d,o)<=0?c++:i=i.updateImmediateChild(d.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;w(a.numChildren()===this.limit_,"");const l=new se(t,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(t)){const d=a.getImmediateChild(t);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=h&&(h.name===t||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=null==h?1:o(h,l);if(u&&!r.isEmpty()&&f>=0)return null!=s&&s.trackChildChange(su(t,r,d)),a.updateImmediateChild(t,r);{null!=s&&s.trackChildChange(iu(t,d));const _=a.updateImmediateChild(t,Q.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=s&&s.trackChildChange(Za(h.name,h.node)),_.updateImmediateChild(h.name,h.node)):_}}return r.isEmpty()?e:u&&o(c,l)>=0?(null!=s&&(s.trackChildChange(iu(c.name,c.node)),s.trackChildChange(Za(t,r))),a.updateImmediateChild(t,r).updateImmediateChild(c.name,Q.EMPTY_NODE)):e}}class bw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Oe}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return w(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return w(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ci}hasEnd(){return this.endSet_}getIndexEndValue(){return w(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return w(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return w(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Oe}copy(){const e=new bw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function XN(n){const e={};if(n.isDefault())return e;let t;return n.index_===Oe?t="$priority":n.index_===mw?t="$value":n.index_===Wr?t="$key":(w(n.index_ instanceof _w,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Et(t),n.startSet_&&(e.startAt=Et(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+Et(n.indexStartName_))),n.endSet_&&(e.endAt=Et(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+Et(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function JN(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Oe&&(e.i=n.index_.toString()),e}class kf extends PN{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Kc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(w(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=kf.getListenId_(e,r),a={};this.listens_[o]=a;const l=XN(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),Na(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(e,t){const r=kf.getListenId_(e,t);delete this.listens_[r]}get(e){const t=XN(e._queryParams),r=e._path.toString(),i=new Oa;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Vy(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Pc(a.responseText)}catch(c){Zt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&Zt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class _ee{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function xf(){return{value:null,children:new Map}}function Xa(n,e,t){if(re(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=ne(e);n.children.has(r)||n.children.set(r,xf()),Xa(n.children.get(r),e=ke(e),t)}}function Dw(n,e,t){null!==n.value?t(e,n.value):function(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{Dw(i,new Te(e.toString()+"/"+r),t)})}class yee{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&It(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class Eee{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new yee(e);const r=1e4+2e4*Math.random();Qc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;It(e,(i,s)=>{s>0&&fi(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Qc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Gn=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Gn||(Gn={})),Gn))();function Sw(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Pf{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Gn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(re(this.path)){if(null!=this.affectedTree.value)return w(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Te(e));return new Pf(ve(),t,this.revert)}}return w(ne(this.path)===e,"operationForChild called for unrelated child."),new Pf(ke(this.path),this.affectedTree,this.revert)}}class au{constructor(e,t){this.source=e,this.path=t,this.type=Gn.LISTEN_COMPLETE}operationForChild(e){return re(this.path)?new au(this.source,ve()):new au(this.source,ke(this.path))}}class oo{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Gn.OVERWRITE}operationForChild(e){return re(this.path)?new oo(this.source,ve(),this.snap.getImmediateChild(e)):new oo(this.source,ke(this.path),this.snap)}}class Ja{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Gn.MERGE}operationForChild(e){if(re(this.path)){const t=this.children.subtree(new Te(e));return t.isEmpty()?null:t.value?new oo(this.source,ve(),t.value):new Ja(this.source,ve(),t)}return w(ne(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ja(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ji{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(re(e))return this.isFullyInitialized()&&!this.filtered_;const t=ne(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Cee{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function lu(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,l)=>function(n,e,t){if(null==e.childName||null==t.childName)throw Pa("Should only compare child_ events.");const r=new se(e.childName,e.snapshotNode),i=new se(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,a,l)),o.forEach(a=>{const l=function(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function Of(n,e){return{eventCache:n,serverCache:e}}function cu(n,e,t,r){return Of(new Ji(e,t,r),n.serverCache)}function t1(n,e,t,r){return Of(n.eventCache,new Ji(e,t,r))}function Nf(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ao(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Aw;class Ne{constructor(e,t=(()=>(Aw||(Aw=new un(lJ)),Aw))()){this.value=e,this.children=t}static fromObject(e){let t=new Ne(null);return It(e,(r,i)=>{t=t.set(new Te(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ve(),value:this.value};if(re(e))return null;{const r=ne(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(ke(e),t);return null!=s?{path:$e(new Te(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(re(e))return this;{const t=ne(e),r=this.children.get(t);return null!==r?r.subtree(ke(e)):new Ne(null)}}set(e,t){if(re(e))return new Ne(t,this.children);{const r=ne(e),s=(this.children.get(r)||new Ne(null)).set(ke(e),t),o=this.children.insert(r,s);return new Ne(this.value,o)}}remove(e){if(re(e))return this.children.isEmpty()?new Ne(null):new Ne(null,this.children);{const t=ne(e),r=this.children.get(t);if(r){const i=r.remove(ke(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new Ne(null):new Ne(this.value,s)}return this}}get(e){if(re(e))return this.value;{const t=ne(e),r=this.children.get(t);return r?r.get(ke(e)):null}}setTree(e,t){if(re(e))return t;{const r=ne(e),s=(this.children.get(r)||new Ne(null)).setTree(ke(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Ne(this.value,o)}}fold(e){return this.fold_(ve(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_($e(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,ve(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(re(e))return null;{const s=ne(e),o=this.children.get(s);return o?o.findOnPath_(ke(e),$e(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ve(),t)}foreachOnPath_(e,t,r){if(re(e))return this;{this.value&&r(t,this.value);const i=ne(e),s=this.children.get(i);return s?s.foreachOnPath_(ke(e),$e(t,i),r):new Ne(null)}}foreach(e){this.foreach_(ve(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_($e(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class br{constructor(e){this.writeTree_=e}static empty(){return new br(new Ne(null))}}function uu(n,e,t){if(re(e))return new br(new Ne(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=Xt(i,e);return s=s.updateChild(o,t),new br(n.writeTree_.set(i,s))}{const i=new Ne(t),s=n.writeTree_.setTree(e,i);return new br(s)}}}function Rw(n,e,t){let r=n;return It(t,(i,s)=>{r=uu(r,$e(e,i),s)}),r}function n1(n,e){if(re(e))return br.empty();{const t=n.writeTree_.setTree(e,new Ne(null));return new br(t)}}function Mw(n,e){return null!=lo(n,e)}function lo(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Xt(t.path,e)):null}function r1(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Oe,(r,i)=>{e.push(new se(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new se(r,i.value))}),e}function es(n,e){if(re(e))return n;{const t=lo(n,e);return new br(null!=t?new Ne(t):n.writeTree_.subtree(e))}}function kw(n){return n.writeTree_.isEmpty()}function el(n,e){return s1(ve(),n.writeTree_,e)}function s1(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(w(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=s1($e(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild($e(n,".priority"),r)),t}}function Ff(n,e){return u1(e,n)}function kee(n,e){if(n.snap)return zn(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&zn($e(n.path,t),e))return!0;return!1}function Pee(n){return n.visible}function o1(n,e,t){let r=br.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)zn(t,o)?(a=Xt(t,o),r=uu(r,a,s.snap)):zn(o,t)&&(a=Xt(o,t),r=uu(r,ve(),s.snap.getChild(a)));else{if(!s.children)throw Pa("WriteRecord should have .snap or .children");if(zn(t,o))a=Xt(t,o),r=Rw(r,a,s.children);else if(zn(o,t))if(a=Xt(o,t),re(a))r=Rw(r,ve(),s.children);else{const l=Na(s.children,ne(a));if(l){const c=l.getChild(ke(a));r=uu(r,ve(),c)}}}}}return r}function a1(n,e,t,r,i){if(r||i){const s=es(n.visibleWrites,e);return!i&&kw(s)?t:i||null!=t||Mw(s,ve())?el(o1(n.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(zn(c.path,e)||zn(e,c.path))},e),t||Q.EMPTY_NODE):null}{const s=lo(n.visibleWrites,e);if(null!=s)return s;{const o=es(n.visibleWrites,e);return kw(o)?t:null!=t||Mw(o,ve())?el(o,t||Q.EMPTY_NODE):null}}}function Lf(n,e,t,r){return a1(n.writeTree,n.treePath,e,t,r)}function xw(n,e){return function(n,e,t){let r=Q.EMPTY_NODE;const i=lo(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Oe,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=es(n.visibleWrites,e);return t.forEachChild(Oe,(o,a)=>{const l=el(es(s,new Te(o)),a);r=r.updateImmediateChild(o,l)}),r1(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return r1(es(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function l1(n,e,t,r){return function(n,e,t,r,i){w(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=$e(e,t);if(Mw(n.visibleWrites,s))return null;{const o=es(n.visibleWrites,s);return kw(o)?i.getChild(t):el(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function Vf(n,e){return function(n,e){return lo(n.visibleWrites,e)}(n.writeTree,$e(n.treePath,e))}function Pw(n,e,t){return function(n,e,t,r){const i=$e(e,t),s=lo(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?el(es(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function c1(n,e){return u1($e(n.treePath,e),n.writeTree)}function u1(n,e){return{treePath:n,writeTree:e}}class jee{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;w("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),w(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,su(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,iu(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,Za(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw Pa("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,su(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const d1=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class Ow{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Ji(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Pw(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ao(this.viewCache_),s=function(n,e,t,r,i,s){return function(n,e,t,r,i,s,o){let a;const l=es(n.visibleWrites,e),c=lo(l,ve());if(null!=c)a=c;else{if(null==t)return[];a=el(l,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&u.length<i;)0!==d(f,r)&&u.push(f),f=h.getNext();return u}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function h1(n,e,t,r,i,s){const o=e.eventCache;if(null!=Vf(r,t))return e;{let a,l;if(re(t))if(w(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ao(e),d=xw(r,c instanceof Q?c:Q.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Lf(r,ao(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=ne(t);if(".priority"===c){w(1===Xi(t),"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=l1(r,t,u,l);a=null!=d?n.filter.updatePriority(u,d):o.getNode()}else{const u=ke(t);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=l1(r,t,o.getNode(),l);d=null!=h?o.getNode().getImmediateChild(c).updateChild(u,h):o.getNode().getImmediateChild(c)}else d=Pw(r,c,e.serverCache);a=null!=d?n.filter.updateChild(o.getNode(),c,d,u,i,s):o.getNode()}}return cu(e,a,o.isFullyInitialized()||re(t),n.filter.filtersNodes())}}function Bf(n,e,t,r,i,s,o,a){const l=e.serverCache;let c;const u=o?n.filter:n.filter.getIndexedFilter();if(re(t))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(t,r);c=u.updateFullNode(l.getNode(),f,null)}else{const f=ne(t);if(!l.isCompleteForPath(t)&&Xi(t)>1)return e;const p=ke(t),g=l.getNode().getImmediateChild(f).updateChild(p,r);c=".priority"===f?u.updatePriority(l.getNode(),g):u.updateChild(l.getNode(),f,g,p,d1,null)}const d=t1(e,c,l.isFullyInitialized()||re(t),u.filtersNodes());return h1(n,d,t,i,new Ow(i,d,s),a)}function Nw(n,e,t,r,i,s,o){const a=e.eventCache;let l,c;const u=new Ow(i,e,s);if(re(t))c=n.filter.updateFullNode(e.eventCache.getNode(),r,o),l=cu(e,c,!0,n.filter.filtersNodes());else{const d=ne(t);if(".priority"===d)c=n.filter.updatePriority(e.eventCache.getNode(),r),l=cu(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=ke(t),f=a.getNode().getImmediateChild(d);let p;if(re(h))p=r;else{const _=u.getCompleteChild(d);p=null!=_?".priority"===uw(h)&&_.getChild(LN(h)).isEmpty()?_:_.updateChild(h,r):Q.EMPTY_NODE}l=f.equals(p)?e:cu(e,n.filter.updateChild(a.getNode(),d,p,h,u,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function f1(n,e){return n.eventCache.isCompleteForChild(e)}function p1(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Fw(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=re(t)?r:new Ne(null).setTree(t,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=p1(0,e.serverCache.getNode().getImmediateChild(d),h);l=Bf(n,l,new Te(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&void 0===h.value;if(!u.hasChild(d)&&!f){const _=p1(0,e.serverCache.getNode().getImmediateChild(d),h);l=Bf(n,l,new Te(d),_,i,s,o,a)}}),l}class Zee{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new vw(r.getIndex()),s=function(n){return n.loadsAllData()?new vw(n.getIndex()):n.hasLimit()?new uee(n):new ou(n)}(r);this.processor_=function(n){return{filter:n}}(s);const o=t.serverCache,a=t.eventCache,l=i.updateFullNode(Q.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(Q.EMPTY_NODE,a.getNode(),null),u=new Ji(l,o.isFullyInitialized(),i.filtersNodes()),d=new Ji(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Of(d,u),this.eventGenerator_=new Cee(this.query_)}get query(){return this.query_}}function ete(n,e){const t=ao(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!re(e)&&!t.getImmediateChild(ne(e)).isEmpty())?t.getChild(e):null}function g1(n){return 0===n.eventRegistrations_.length}function _1(n,e,t){const r=[];if(t){w(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(t,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}else i.push(o)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function m1(n,e,t,r){e.type===Gn.MERGE&&null!==e.source.queryId&&(w(ao(n.viewCache_),"We should always have a full cache before handling merges"),w(Nf(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function(n,e,t,r,i){const s=new jee;let o,a;if(t.type===Gn.OVERWRITE){const c=t;c.source.fromUser?o=Nw(n,e,c.path,c.snap,r,i,s):(w(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!re(c.path),o=Bf(n,e,c.path,c.snap,r,i,a,s))}else if(t.type===Gn.MERGE){const c=t;c.source.fromUser?o=function(n,e,t,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=$e(t,l);f1(e,ne(u))&&(a=Nw(n,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=$e(t,l);f1(e,ne(u))||(a=Nw(n,a,u,c,i,s,o))}),a}(n,e,c.path,c.children,r,i,s):(w(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Fw(n,e,c.path,c.children,r,i,a,s))}else if(t.type===Gn.ACK_USER_WRITE){const c=t;o=c.revert?function(n,e,t,r,i,s){let o;if(null!=Vf(r,t))return e;{const a=new Ow(r,e,i),l=e.eventCache.getNode();let c;if(re(t)||".priority"===ne(t)){let u;if(e.serverCache.isFullyInitialized())u=Lf(r,ao(e));else{const d=e.serverCache.getNode();w(d instanceof Q,"serverChildren would be complete if leaf node"),u=xw(r,d)}u=u,c=n.filter.updateFullNode(l,u,s)}else{const u=ne(t);let d=Pw(r,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?n.filter.updateChild(l,u,d,ke(t),a,s):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(l,u,Q.EMPTY_NODE,ke(t),a,s):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Lf(r,ao(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=Vf(r,ve()),cu(e,c,o,n.filter.filtersNodes())}}(n,e,c.path,r,i,s):function(n,e,t,r,i,s,o){if(null!=Vf(i,t))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(re(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return Bf(n,e,t,l.getNode().getChild(t),i,s,a,o);if(re(t)){let c=new Ne(null);return l.getNode().forEachChild(Wr,(u,d)=>{c=c.set(new Te(u),d)}),Fw(n,e,t,c,i,s,a,o)}return e}{let c=new Ne(null);return r.foreach((u,d)=>{const h=$e(t,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Fw(n,e,t,c,i,s,a,o)}}(n,e,c.path,c.affectedTree,r,i,s)}else{if(t.type!==Gn.LISTEN_COMPLETE)throw Pa("Unknown operation type: "+t.type);o=function(n,e,t,r,i){const s=e.serverCache;return h1(n,t1(e,s.getNode(),s.isFullyInitialized()||re(t),s.isFiltered()),t,r,d1,i)}(n,e,t.path,r,s)}const l=s.getChanges();return function(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Nf(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(ZN(Nf(e)))}}(e,o,l),{viewCache:o,changes:l}}(n.processor_,i,e,t,r);return function(n,e){w(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),w(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),w(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,y1(n,s.changes,s.viewCache.eventCache.getNode(),null)}function y1(n,e,t,r){return function(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),lu(n,i,"child_removed",e,r,t),lu(n,i,"child_added",e,r,t),lu(n,i,"child_moved",s,r,t),lu(n,i,"child_changed",e,r,t),lu(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let Uf,$f;class v1{constructor(){this.views=new Map}}function Lw(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return w(null!=s,"SyncTree gave us an op for an invalid query."),m1(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(m1(o,e,t,r));return s}}function ote(n,e,t,r,i,s){const o=function(n,e,t,r,i){const o=n.views.get(e._queryIdentifier);if(!o){let a=Lf(t,i?r:null),l=!1;a?l=!0:r instanceof Q?(a=xw(t,r),l=!1):(a=Q.EMPTY_NODE,l=!1);const c=Of(new Ji(a,l,!1),new Ji(r,i,!1));return new Zee(e,c)}return o}(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),function(n,e){n.eventRegistrations_.push(e)}(o,t),function(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Oe,(s,o)=>{r.push(Za(s,o))}),t.isFullyInitialized()&&r.push(ZN(t.getNode())),y1(n,r,t.getNode(),e)}(o,t)}function E1(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function ts(n,e){let t=null;for(const r of n.views.values())t=t||ete(r,e);return t}function C1(n,e){return e._queryParams.loadsAllData()?jf(n):n.views.get(e._queryIdentifier)}function w1(n,e){return null!=C1(n,e)}function ns(n){return null!=jf(n)}function jf(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let ute=1;class D1{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ne(null),this.pendingWriteTree_={visibleWrites:br.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Vw(n,e,t,r,i){return function(n,e,t,r,i){w(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=uu(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?tl(n,new oo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function rs(n,e,t=!1){const r=function(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);w(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&kee(a,r.path)?i=!1:zn(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function(n){n.visibleWrites=o1(n.allWrites,Pee,ve()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=n1(n.visibleWrites,r.path):It(r.children,l=>{n.visibleWrites=n1(n.visibleWrites,$e(r.path,l))}),!0))}(n.pendingWriteTree_,e)){let s=new Ne(null);return null!=r.snap?s=s.set(ve(),!0):It(r.children,o=>{s=s.set(new Te(o),!0)}),tl(n,new Pf(r.path,s,t))}return[]}function du(n,e,t){return tl(n,new oo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Bw(n,e,t,r){const i=e._path,s=n.syncPointTree_.get(i);let o=[];if(s&&("default"===e._queryIdentifier||w1(s,e))){const a=function(n,e,t,r){const i=e._queryIdentifier,s=[];let o=[];const a=ns(n);if("default"===i)for(const[l,c]of n.views.entries())o=o.concat(_1(c,t,r)),g1(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=n.views.get(i);l&&(o=o.concat(_1(l,t,r)),g1(l)&&(n.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!ns(n)&&s.push(new(w(Uf,"Reference.ts has not been loaded"),Uf)(e._repo,e._path)),{removed:s,events:o}}(s,e,t,r);(function(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(i));const l=a.removed;o=a.events;const c=-1!==l.findIndex(d=>d._queryParams.loadsAllData()),u=n.syncPointTree_.findOnPath(i,(d,h)=>ns(h));if(c&&!u){const d=n.syncPointTree_.subtree(i);if(!d.isEmpty()){const h=function(n){return n.fold((e,t,r)=>{if(t&&ns(t))return[jf(t)];{let i=[];return t&&(i=E1(t)),It(r,(s,o)=>{i=i.concat(o)}),i}})}(d);for(let f=0;f<h.length;++f){const p=h[f],_=p.query,g=A1(n,p);n.listenProvider_.startListening(hu(_),Wf(n,_),g.hashFn,g.onComplete)}}}if(!u&&l.length>0&&!r)if(c){const d=null;n.listenProvider_.stopListening(hu(e),d)}else l.forEach(d=>{const h=n.queryToTagMap.get(zf(d));n.listenProvider_.stopListening(hu(d),h)});!function(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=zf(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}(n,l)}return o}function I1(n,e,t){const r=e._path;let i=null,s=!1;n.syncPointTree_.foreachOnPath(r,(d,h)=>{const f=Xt(d,r);i=i||ts(h,f),s=s||ns(h)});let a,o=n.syncPointTree_.get(r);o?(s=s||ns(o),i=i||ts(o,ve())):(o=new v1,n.syncPointTree_=n.syncPointTree_.set(r,o)),null!=i?a=!0:(a=!1,i=Q.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((h,f)=>{const p=ts(f,ve());p&&(i=i.updateImmediateChild(h,p))}));const l=w1(o,e);if(!l&&!e._queryParams.loadsAllData()){const d=zf(e);w(!n.queryToTagMap.has(d),"View does not exist, but we have a tag");const h=ute++;n.queryToTagMap.set(d,h),n.tagToQueryMap.set(h,d)}let u=ote(o,e,t,Ff(n.pendingWriteTree_,r),i,a);if(!l&&!s){const d=C1(o,e);u=u.concat(function(n,e,t){const r=e._path,i=Wf(n,e),s=A1(n,t),o=n.listenProvider_.startListening(hu(e),i,s.hashFn,s.onComplete),a=n.syncPointTree_.subtree(r);if(i)w(!ns(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!re(c)&&u&&ns(u))return[jf(u).query];{let h=[];return u&&(h=h.concat(E1(u).map(f=>f.query))),It(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){const u=l[c];n.listenProvider_.stopListening(hu(u),Wf(n,u))}}return o}(n,e,d))}return u}function Hf(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const c=ts(a,Xt(o,e));if(c)return c});return a1(i,e,s,t,!0)}function tl(n,e){return T1(e,n.syncPointTree_,null,Ff(n.pendingWriteTree_,ve()))}function T1(n,e,t,r){if(re(n.path))return S1(n,e,t,r);{const i=e.get(ve());null==t&&null!=i&&(t=ts(i,ve()));let s=[];const o=ne(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const c=t?t.getImmediateChild(o):null,u=c1(r,o);s=s.concat(T1(a,l,c,u))}return i&&(s=s.concat(Lw(i,n,r,t))),s}}function S1(n,e,t,r){const i=e.get(ve());null==t&&null!=i&&(t=ts(i,ve()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,c=c1(r,o),u=n.operationForChild(o);u&&(s=s.concat(S1(u,a,l,c)))}),i&&(s=s.concat(Lw(i,n,r,t))),s}function A1(n,e){const t=e.query,r=Wf(n,t);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(e)||Q.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function(n,e,t){const r=Uw(n,t);if(r){const i=jw(r),s=i.path,o=i.queryId,a=Xt(s,e);return $w(n,s,new au(Sw(o),a))}return[]}(n,t._path,r):function(n,e){return tl(n,new au({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return Bw(n,t,null,s)}}}}function Wf(n,e){const t=zf(e);return n.queryToTagMap.get(t)}function zf(n){return n._path.toString()+"$"+n._queryIdentifier}function Uw(n,e){return n.tagToQueryMap.get(e)}function jw(n){const e=n.indexOf("$");return w(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Te(n.substr(0,e))}}function $w(n,e,t){const r=n.syncPointTree_.get(e);return w(r,"Missing sync point for query tag that we're tracking"),Lw(r,t,Ff(n.pendingWriteTree_,e),null)}function hu(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(w($f,"Reference.ts has not been loaded"),$f)(n._repo,n._path):n}class Hw{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Hw(t)}node(){return this.node_}}class Ww{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=$e(this.path_,e);return new Ww(this.syncTree_,t)}node(){return Hf(this.syncTree_,this.path_)}}const R1=function(n,e,t){return n&&"object"==typeof n?(w(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?wte(n[".sv"],e,t):"object"==typeof n[".sv"]?Dte(n[".sv"],e):void w(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},wte=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:w(!1,"Unexpected server value: "+n)}},Dte=function(n,e,t){n.hasOwnProperty("increment")||w(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&w(!1,"Unexpected increment value: "+r);const i=e.node();if(w(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},zw=function(n,e,t){return Gw(n,new Hw(e),t)};function Gw(n,e,t){const r=n.getPriority().val(),i=R1(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=R1(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new Ka(a,ze(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ka(i))),o.forEachChild(Oe,(a,l)=>{const c=Gw(l,e.getImmediateChild(a),t);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class qw{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function Gf(n,e){let t=e instanceof Te?e:new Te(e),r=n,i=ne(t);for(;null!==i;){const s=Na(r.node.children,i)||{children:{},childCount:0};r=new qw(i,r,s),t=ke(t),i=ne(t)}return r}function co(n){return n.node.value}function Kw(n,e){n.node.value=e,Yw(n)}function k1(n){return n.node.childCount>0}function qf(n,e){It(n.node.children,(t,r)=>{e(new qw(t,n,r))})}function x1(n,e,t,r){t&&!r&&e(n),qf(n,i=>{x1(i,e,!0,r)}),t&&r&&e(n)}function fu(n){return new Te(null===n.parent?n.name:fu(n.parent)+"/"+n.name)}function Yw(n){null!==n.parent&&function(n,e,t){const r=function(n){return void 0===co(n)&&!k1(n)}(t),i=fi(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,Yw(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,Yw(n))}(n.parent,n.name,n)}const Ate=/[\[\].#$\/\u0000-\u001F\u007F]/,Rte=/[\[\].#$\u0000-\u001F\u007F]/,Qw=10485760,Kf=function(n){return"string"==typeof n&&0!==n.length&&!Ate.test(n)},P1=function(n){return"string"==typeof n&&0!==n.length&&!Rte.test(n)},gu=function(n,e,t){const r=t instanceof Te?new HJ(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+io(r));if("function"==typeof e)throw new Error(n+"contains a function "+io(r)+" with contents = "+e.toString());if(Cf(e))throw new Error(n+"contains "+e.toString()+" "+io(r));if("string"==typeof e&&e.length>Qw/3&&Uh(e)>Qw)throw new Error(n+"contains a string greater than "+Qw+" utf8 bytes "+io(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(It(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Kf(o)))throw new Error(n+" contains an invalid key ("+o+") "+io(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Uh(e),VN(n)})(r,o),gu(n,a,r),function(n){const e=n.parts_.pop();n.byteLength_-=Uh(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+io(r)+" in addition to actual children.")}},Xw=function(n,e,t,r){if(!(r&&void 0===t||P1(t)))throw new Error(Fa(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')};class Pte{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yf(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!dw(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function Jw(n,e,t){Yf(n,t),F1(n,r=>dw(r,e))}function qn(n,e,t){Yf(n,t),F1(n,r=>zn(r,e)||zn(e,r))}function F1(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(Ote(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function Ote(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();no&&Dt("event: "+t.toString()),Ga(r)}}}class Fte{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Pte,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xf(),this.transactionQueueTree_=new qw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function V1(n){const t=n.infoData_.getNode(new Te(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function mu(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:V1(n)})}function B1(n,e,t,r,i){n.dataUpdateCount++;const s=new Te(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const l=Bh(t,c=>ze(c));o=function(n,e,t,r){const i=Uw(n,r);if(i){const s=jw(i),o=s.path,a=s.queryId,l=Xt(o,e),c=Ne.fromObject(t);return $w(n,o,new Ja(Sw(a),l,c))}return[]}(n.serverSyncTree_,s,l,i)}else{const l=ze(t);o=function(n,e,t,r){const i=Uw(n,r);if(null!=i){const s=jw(i),o=s.path,a=s.queryId,l=Xt(o,e);return $w(n,o,new oo(Sw(a),l,t))}return[]}(n.serverSyncTree_,s,l,i)}else if(r){const l=Bh(t,c=>ze(c));o=function(n,e,t){const r=Ne.fromObject(t);return tl(n,new Ja({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,l)}else{const l=ze(t);o=du(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=rl(n,s)),qn(n.eventQueue_,a,o)}function U1(n,e){eD(n,"connected",e),!1===e&&function(n){nl(n,"onDisconnectEvents");const e=mu(n),t=xf();Dw(n.onDisconnect_,ve(),(i,s)=>{const o=function(n,e,t,r){return Gw(e,new Ww(t,n),r)}(i,s,n.serverSyncTree_,e);Xa(t,i,o)});let r=[];Dw(t,ve(),(i,s)=>{r=r.concat(du(n.serverSyncTree_,i,s));const o=iD(n,i);rl(n,o)}),n.onDisconnect_=xf(),qn(n.eventQueue_,ve(),r)}(n)}function eD(n,e,t){const r=new Te("/.info/"+e),i=ze(t);n.infoData_.updateSnapshot(r,i);const s=du(n.infoSyncTree_,r,i);qn(n.eventQueue_,r,s)}function Qf(n){return n.nextWriteId_++}function tD(n,e,t,r,i){nl(n,"set",{path:e.toString(),value:t,priority:r});const s=mu(n),o=ze(t,r),a=Hf(n.serverSyncTree_,e),l=zw(o,a,s),c=Qf(n),u=Vw(n.serverSyncTree_,e,l,c,!0);Yf(n.eventQueue_,u),n.server_.put(e.toString(),o.val(!0),(h,f)=>{const p="ok"===h;p||Zt("set at "+e+" failed: "+h);const _=rs(n.serverSyncTree_,c,!p);qn(n.eventQueue_,e,_),function(n,e,t,r){e&&Ga(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}(0,i,h,f)});const d=iD(n,e);rl(n,d),qn(n.eventQueue_,d,[])}function nD(n,e,t){let r;r=".info"===ne(e._path)?Bw(n.infoSyncTree_,e,t):Bw(n.serverSyncTree_,e,t),Jw(n.eventQueue_,e._path,r)}function nl(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Dt(t,...e)}function rD(n,e,t){return Hf(n.serverSyncTree_,e,t)||Q.EMPTY_NODE}function Zf(n,e=n.transactionQueueTree_){if(e||Xf(n,e),co(e)){const t=W1(n,e);w(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function(n,e,t){const r=t.map(c=>c.currentWriteId),i=rD(n,e,r);let s=i;const o=i.hash();for(let c=0;c<t.length;c++){const u=t[c];w(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Xt(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;n.server_.put(l.toString(),a,c=>{nl(n,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(rs(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();Xf(n,Gf(n.transactionQueueTree_,e)),Zf(n,n.transactionQueueTree_),qn(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)Ga(d[h])}else{if("datastale"===c)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{Zt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}rl(n,e)}},o)}(n,fu(e),t)}else k1(e)&&qf(e,t=>{Zf(n,t)})}function rl(n,e){const t=H1(n,e),r=fu(t);return function(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Xt(t,l.path);let d,u=!1;if(w(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,i=i.concat(rs(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)u=!0,d="maxretry",i=i.concat(rs(n.serverSyncTree_,l.currentWriteId,!0));else{const h=rD(n,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){gu("transaction failed: Data returned ",f,l.path);let p=ze(f);"object"==typeof f&&null!=f&&fi(f,".priority")||(p=p.updatePriority(h.getPriority()));const g=l.currentWriteId,y=mu(n),m=zw(p,h,y);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=m,l.currentWriteId=Qf(n),o.splice(o.indexOf(g),1),i=i.concat(Vw(n.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),i=i.concat(rs(n.serverSyncTree_,g,!0))}else u=!0,d="nodata",i=i.concat(rs(n.serverSyncTree_,l.currentWriteId,!0))}qn(n.eventQueue_,t,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}Xf(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)Ga(r[a]);Zf(n,n.transactionQueueTree_)}(n,W1(n,t),r),r}function H1(n,e){let t,r=n.transactionQueueTree_;for(t=ne(e);null!==t&&void 0===co(r);)r=Gf(r,t),t=ne(e=ke(e));return r}function W1(n,e){const t=[];return z1(n,e,t),t.sort((r,i)=>r.order-i.order),t}function z1(n,e,t){const r=co(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);qf(e,i=>{z1(n,i,t)})}function Xf(n,e){const t=co(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,Kw(e,t.length>0?t:void 0)}qf(e,r=>{Xf(n,r)})}function iD(n,e){const t=fu(H1(n,e)),r=Gf(n.transactionQueueTree_,e);return function(n,e,t){let r=n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{sD(n,i)}),sD(n,r),x1(r,i=>{sD(n,i)}),t}function sD(n,e){const t=co(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?(w(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(w(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(rs(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Kw(e,void 0):t.length=s+1,qn(n.eventQueue_,fu(e),i);for(let o=0;o<r.length;o++)Ga(r[o])}}const oD=function(n,e){const t=Xte(n),r=t.namespace;return"firebase.com"===t.domain&&$r(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&$r("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Zt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new rw(t.host,t.secure,r,e,"ws"===t.scheme||"wss"===t.scheme,"",r!==t.subdomain),path:new Te(t.pathString)}},Xte=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(i=function(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(s){}e+="/"+i}return e}(n.substring(u,d)));const h=function(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Zt(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())t="localhost";else if(f.split(".").length<=2)t=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),t=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class G1{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Et(this.snapshot.exportVal())}}class q1{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class K1{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return w(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Dn{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return re(this._path)?null:uw(this._path)}get ref(){return new Er(this._repo,this._path)}get _queryIdentifier(){const e=JN(this._queryParams),t=ew(e);return"{}"===t?"default":t}get _queryObject(){return JN(this._queryParams)}isEqual(e){if(!((e=Br(e))instanceof Dn))return!1;const t=this._repo===e._repo,r=dw(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Er extends Dn{constructor(e,t){super(e,t,new bw,!1)}get parent(){const e=LN(this._path);return null===e?null:new Er(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class uo{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Te(e),r=il(this.ref,e);return new uo(this._node.getChild(t),r,Oe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new uo(i,il(this.ref,r),Oe)))}hasChild(e){const t=new Te(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Y1(n,e){return(n=Br(n))._checkNotDeleted("ref"),void 0!==e?il(n._root,e):n._root}function il(n,e){return null===ne((n=Br(n))._path)?((t=e)&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Xw("child","path",t,!1)):Xw("child","path",e,!1),new Er(n._repo,$e(n._path,e));var t}function aD(n,e){(function(n,e){if(".info"===ne(e))throw new Error(n+" failed = Can't modify data under /.info/")})("set",(n=Br(n))._path),function(n,e,t,r){r&&void 0===e||gu(Fa(n,"value"),e,t)}("set",e,n._path,!1);const t=new Oa;return tD(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}class tp{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new G1("value",this,new uo(e.snapshotNode,new Er(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new q1(this,e,t):null}matches(e){return e instanceof tp&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class np{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new q1(this,e,t):null}createEvent(e,t){w(null!=e.childName,"Child events should have a childName.");const r=il(new Er(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new G1(e.type,this,new uo(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof np&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function yu(n,e,t,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const l=t,c=(u,d)=>{nD(n._repo,n,a),l(u,d)};c.userCallback=t.userCallback,c.context=t.context,t=c}const o=new K1(t,s||void 0),a="value"===e?new tp(o):new np(e,o);return function(n,e,t){let r;r=".info"===ne(e._path)?I1(n.infoSyncTree_,e,t):I1(n.serverSyncTree_,e,t),Jw(n.eventQueue_,e._path,r)}(n._repo,n,a),()=>nD(n._repo,n,a)}(function(n){w(!Uf,"__referenceConstructor has already been defined"),Uf=n})(Er),function(n){w(!$f,"__referenceConstructor has already been defined"),$f=n}(Er);const lD={};function _ne(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||$r("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Dt("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,o=oD(s,i),a=o.repoInfo;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=oD(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new Zc(Zc.OWNER):new gJ(n.name,n.options,e);(function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Kf(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),P1(n)}(t))throw new Error(Fa(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",o),re(o.path)||$r("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(n,e,t,r){let i=lD[e.name];i||(i={},lD[e.name]=i);let s=i[n.toURLString()];return s&&$r("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Fte(n,false,t,r),i[n.toURLString()]=s,s}(a,n,u,new pJ(n.name,t));return new bne(d,n)}class bne{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,e,t){if(n.stats_=ow(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new kf(n.repoInfo_,(r,i,s,o)=>{B1(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>U1(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Et(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new so(n.repoInfo_,e,(r,i,s,o)=>{B1(n,r,i,s,o)},r=>{U1(n,r)},r=>{!function(n,e){It(e,(t,r)=>{eD(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function(n,e){const t=n.toString();return sw[t]||(sw[t]=e()),sw[t]}(n.repoInfo_,()=>new Eee(n.stats_,n.server_)),n.infoData_=new _ee,n.infoSyncTree_=new D1({startListening:(r,i,s,o)=>{let a=[];const l=n.infoData_.getNode(r._path);return l.isEmpty()||(a=du(n.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),eD(n,"connected",!1),n.serverSyncTree_=new D1({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);qn(n.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Er(this._repo,ve())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,e){const t=lD[e];(!t||t[n.key]!==n)&&$r(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&$r("Cannot call "+e+" on a deleted database.")}}function Ene(n=Ax(),e){return $h(n,"database").getImmediate({identifier:e})}so.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},so.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},ZC="9.6.8",Yt(new Bt("database",(e,{instanceIdentifier:t})=>_ne(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),et(tN,"0.12.5",void 0),et(tN,"0.12.5","esm2017");var ho,rp=function(){return(rp=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},Qe=(()=>(function(n){n.added="child_added",n.removed="child_removed",n.changed="child_changed",n.moved="child_moved",n.value="value"}(Qe||(Qe={})),Qe))(),Sne=Object.freeze(((ho={})[Qe.added]=function(n,e,t,r){return yu(n,"child_added",e,t,r)},ho[Qe.removed]=function(n,e,t,r){return yu(n,"child_removed",e,t,r)},ho[Qe.changed]=function(n,e,t,r){return yu(n,"child_changed",e,t,r)},ho[Qe.moved]=function(n,e,t,r){return yu(n,"child_moved",e,t,r)},ho[Qe.value]=function(n,e,t,r){return yu(n,"value",e,t,r)},ho));function vu(n,e){return new K(function(t){var r=Sne[e](n,function(i,s){t.next({snapshot:i,prevKey:s,event:e})},t.error.bind(t));return{unsubscribe:function(){!function(n,e,t){let r=null;const i=t?new K1(t):null;"value"===e?r=new tp(i):e&&(r=new np(e,i)),nD(n._repo,n,r)}(n,e,r)}}}).pipe(function(n,e=by){const r=function(n){return n instanceof Date&&!isNaN(+n)}(n)?+n-e.now():Math.abs(n);return i=>i.lift(new tJ(r,e))}(0))}function Ane(n,e){return void 0===e&&(e={}),vu(n,Qe.value).pipe(Se(function(t){return function(n,e){var t;void 0===e&&(e={});var r=n.snapshot.val();return n.snapshot.exists()&&"object"==typeof r?rp(rp({},r),e.keyField?((t={})[e.keyField]=n.snapshot.key,t):null):r}(t,e)}))}class sp{constructor(e){return e}}const sF="database",uD=new N("angularfire2.database-instances");function Vne(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new sp(r)}}const Bne={provide:class{constructor(){return Ob(sF)}},deps:[[new Ue,uD]]},Une={provide:sp,useFactory:function(n,e){const t=function(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(sF,n,e);return t&&new sp(t)},deps:[[new Ue,uD],$a]};let jne=(()=>{class n{constructor(){et("angularfire",Ib.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ge({providers:[Une,Bne]}),n})();function $ne(n,...e){return{ngModule:jne,providers:[{provide:uD,useFactory:Vne(n),multi:!0,deps:[he,pe,TP,SP,[new Ue,kO],[new Ue,eN],...e]}]}}const oF=Fc(Ane,!0),Hne=Fc(Ene,!0),aF=Fc(Y1,!0),op=Fc(aD,!0);class lF{}const Di="*";function cF(n,e){return{type:7,name:n,definitions:e,options:{}}}function dD(n,e=null){return{type:4,styles:e,timings:n}}function uF(n,e=null){return{type:2,steps:n,options:e}}function os(n){return{type:6,styles:n,offset:null}}function ap(n,e,t){return{type:0,name:n,styles:e,options:t}}function hD(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function dF(n){Promise.resolve(null).then(n)}class sl{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){dF(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class hF{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?dF(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function fF(){return"undefined"!=typeof window&&void 0!==window.document}function pD(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function as(n){switch(n.length){case 0:return new sl;case 1:return n[0];default:return new hF(n)}}function pF(n,e,t,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.offset,h=d==l,f=h&&c||{};Object.keys(u).forEach(p=>{let _=p,g=u[p];if("offset"!==p)switch(_=e.normalizePropertyName(_,o),g){case"!":g=i[p];break;case Di:g=s[p];break;default:g=e.normalizeStyleValue(p,_,g,o)}f[_]=g}),h||a.push(f),c=f,l=d}),o.length){const u="\n - ";throw new Error(`Unable to animate due to the following errors:${u}${o.join(u)}`)}return a}function gD(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&_D(t,"start",n)));break;case"done":n.onDone(()=>r(t&&_D(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&_D(t,"destroy",n)))}}function _D(n,e,t){const r=t.totalTime,s=mD(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function mD(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function In(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function gF(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let yD=(n,e)=>!1,vD=(n,e)=>!1,_F=(n,e,t)=>[];const mF=pD();(mF||"undefined"!=typeof Element)&&(yD=fF()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),vD=(()=>{if(mF||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):vD}})(),_F=(n,e,t)=>{let r=[];if(t){const i=n.querySelectorAll(e);for(let s=0;s<i.length;s++)r.push(i[s])}else{const i=n.querySelector(e);i&&r.push(i)}return r});let fo=null,yF=!1;function bD(n){fo||(fo=("undefined"!=typeof document?document.body:null)||{},yF=!!fo.style&&"WebkitAppearance"in fo.style);let e=!0;return fo.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in fo.style,!e&&yF&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in fo.style)),e}const ED=vD,CD=yD,wD=_F;function vF(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let bF=(()=>{class n{validateStyleProperty(t){return bD(t)}matchesElement(t,r){return ED(t,r)}containsElement(t,r){return CD(t,r)}query(t,r,i){return wD(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new sl(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),DD=(()=>{class n{}return n.NOOP=new bF,n})();const ID="ng-enter",lp="ng-leave",cp="ng-trigger",up=".ng-trigger",CF="ng-animating",TD=".ng-animating";function po(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:SD(parseFloat(e[1]),e[2])}function SD(n,e){switch(e){case"s":return 1e3*n;default:return n}}function dp(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=SD(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=SD(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),a=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&e.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:s,easing:o}}(n,e,t)}function ol(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function ls(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else ol(n,t);return t}function DF(n,e,t){return t?e+":"+t+";":""}function IF(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=DF(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=DF(0,Xne(t),n.style[t]));n.setAttribute("style",e)}function qr(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=RD(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),pD()&&IF(n))}function go(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=RD(t);n.style[r]=""}),pD()&&IF(n))}function bu(n){return Array.isArray(n)?1==n.length?n[0]:uF(n):n}const AD=new RegExp("{{\\s*(.+?)\\s*}}","g");function TF(n){let e=[];if("string"==typeof n){let t;for(;t=AD.exec(n);)e.push(t[1]);AD.lastIndex=0}return e}function hp(n,e,t){const r=n.toString(),i=r.replace(AD,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return i==r?n:i}function fp(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Zne=/-+([a-z0-9])/g;function RD(n){return n.replace(Zne,(...e)=>e[1].toUpperCase())}function Xne(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function SF(n,e){return 0===n||0===e}function AF(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var i=1;i<e.length;i++){let a=e[i];o.forEach(function(l){a[l]=MD(n,l)})}}return e}function Tn(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function MD(n,e){return window.getComputedStyle(n)[e]}function Jne(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const l=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(RF(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(RF(o,i))}(r,t,e)):t.push(n),t}const gp=new Set(["true","1"]),_p=new Set(["false","0"]);function RF(n,e){const t=gp.has(n)||_p.has(n),r=gp.has(e)||_p.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?gp.has(n):_p.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?gp.has(e):_p.has(e)),o&&a}}const nre=new RegExp("s*:selfs*,?","g");function kD(n,e,t){return new rre(n).build(e,t)}class rre{constructor(e){this._driver=e}build(e,t){const r=new ore(t);return this._resetContextStyleTimingState(r),Tn(this,bu(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};if(r.styles.forEach(a=>{if(mp(a)){const l=a;Object.keys(l).forEach(c=>{TF(l[c]).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}}),s.size){const a=fp(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Tn(this,bu(e.animation),t);return{type:1,matchers:Jne(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:_o(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Tn(this,r,t)),options:_o(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Tn(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:_o(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return xD(dp(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=xD(0,0,"");return s.dynamic=!0,s.strValue=r,s}return t=t||dp(r,e),xD(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:os({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=os(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==Di?r.push(o):t.errors.push(`The provided style string value ${o} is not allowed.`):r.push(o)}):r.push(e.styles);let i=!1,s=null;return r.forEach(o=>{if(mp(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!i)for(let c in a)if(a[c].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void t.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=t.collectedStyles[t.currentQuerySelector],c=l[a];let u=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(`The CSS property "${a}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${i}ms"`),u=!1),s=c.startTime),u&&(l[a]={startTime:s,endTime:i}),t.options&&function(n,e,t){const r=e.params||{},i=TF(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(y=>{const m=this._makeStyleAst(y,t);let C=null!=m.offset?m.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(mp(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(mp(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(m.styles),I=0;return null!=C&&(s++,I=m.offset=C),l=l||I<0||I>1,a=a||I<c,c=I,o.push(I),m});l&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,_=t.currentAnimateTimings,g=_.duration;return u.forEach((y,m)=>{const C=h>0?m==f?1:h*m:o[m],I=C*g;t.currentTime=p+_.delay+I,_.duration=I,this._validateStyleAst(y,t),y.offset=C,r.styles.push(y)}),r}visitReference(e,t){return{type:8,animation:Tn(this,bu(e.animation),t),options:_o(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:_o(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:_o(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(nre,"")),[n=n.replace(/@\*/g,up).replace(/@\w+/g,t=>up+"-"+t.substr(1)).replace(/:animating/g,TD),e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,In(t.collectedStyles,t.currentQuerySelector,{});const a=Tn(this,bu(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:_o(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:dp(e.timings,t.errors,!0);return{type:12,animation:Tn(this,bu(e.animation),t),timings:r,options:null}}}class ore{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function mp(n){return!Array.isArray(n)&&"object"==typeof n}function _o(n){return n?(n=ol(n)).params&&(n.params=function(n){return n?ol(n):null}(n.params)):n={},n}function xD(n,e,t){return{duration:n,delay:e,easing:t}}function PD(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class yp{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const dre=new RegExp(":enter","g"),fre=new RegExp(":leave","g");function OD(n,e,t,r,i,s={},o={},a,l,c=[]){return(new pre).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class pre{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new yp;const d=new ND(e,t,c,i,s,u,[]);d.options=l,d.currentTimeline.setStyles([o],null,d.errors,l),Tn(this,r,d);const h=d.timelines.filter(f=>f.containsAnimation());if(h.length&&Object.keys(a).length){const f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,d.errors,l)}return h.length?h.map(f=>f.buildKeyframes()):[PD(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?po(r.duration):null,a=null!=r.delay?po(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Tn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=vp);const o=po(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Tn(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?po(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Tn(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return dp(t.params?hp(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?po(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=vp);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),Tn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Tn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const vp={};class ND{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new bp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=po(r.duration)),null!=r.delay&&(i.delay=po(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=hp(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new ND(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=vp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new gre(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(dre,"."+this._enterClassName)).replace(fre,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class bp{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new bp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Di,this._currentKeyframe[t]=Di}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},o=function(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=Di})):ls(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=hp(o[a],s,r);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Di),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=ls(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?e.add(u):d==Di&&t.add(u)}),r||(c.offset=l/this.duration),i.push(c)});const s=e.size?fp(e.values()):[],o=t.size?fp(t.values()):[];if(r){const a=i[0],l=ol(a);a.offset=0,l.offset=1,i=[a,l]}return PD(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class gre extends bp{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=ls(e[0],!1);l.offset=0,s.push(l);const c=ls(e[0],!1);c.offset=xF(a),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=ls(e[d],!1);h.offset=xF((t+h.offset*r)/o),s.push(h)}r=o,t=0,i="",e=s}return PD(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function xF(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class FD{}class mre extends FD{normalizePropertyName(e,t){return RD(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(yre[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(`Please provide a CSS unit value for ${e}:${r}`)}return o+s}}const yre=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function PF(n,e,t,r,i,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const LD={};class OF{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],o=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):o}build(e,t,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||LD,p=this.buildStyles(r,a&&a.params||LD,d),_=l&&l.params||LD,g=this.buildStyles(i,_,d),y=new Set,m=new Map,C=new Map,I="void"===i,U={params:Object.assign(Object.assign({},h),_)},ge=u?[]:OD(e,t,this.ast.animation,s,o,p,g,U,c,d);let Ee=0;if(ge.forEach(lt=>{Ee=Math.max(lt.duration+lt.delay,Ee)}),d.length)return PF(t,this._triggerName,r,i,I,p,g,[],[],m,C,Ee,d);ge.forEach(lt=>{const Tt=lt.element,Si=In(m,Tt,{});lt.preStyleProps.forEach(Cr=>Si[Cr]=!0);const Ai=In(C,Tt,{});lt.postStyleProps.forEach(Cr=>Ai[Cr]=!0),Tt!==t&&y.add(Tt)});const xt=fp(y.values());return PF(t,this._triggerName,r,i,I,p,g,ge,xt,m,C,Ee)}}class Ere{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=ol(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=hp(l,i,t));const c=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,c,l,t),r[c]=l})}}),r}}class wre{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new Ere(i.style,i.options&&i.options.params||{},r)}),NF(this.states,"true","1"),NF(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new OF(e,i,this.states))}),this.fallbackTransition=function(n,e,t){return new OF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function NF(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Ire=new yp;class Tre{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=kD(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,s=pF(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let o;const a=new Map;if(s?(o=OD(this._driver,t,s,ID,lp,{},{},r,Ire,i),o.forEach(u=>{const d=In(a,u.element,{});u.postStyleProps.forEach(h=>d[h]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);a.forEach((u,d)=>{Object.keys(u).forEach(h=>{u[h]=this._driver.computeStyle(d,h,Di)})});const c=as(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,i){const s=mD(t,"","","");return gD(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const FF="ng-animate-queued",LF="ng-animate-disabled",VF=".ng-animate-disabled",Mre=[],BF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kre={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Kn="__ng_removed";class VD{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?e.value:e),r){const s=ol(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Eu="void",BD=new VD(Eu);class xre{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Yn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const s=In(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=In(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Yn(e,cp),Yn(e,cp+"-"+t),a[t]=BD),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new UD(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Yn(e,cp),Yn(e,cp+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const c=new VD(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=BD),c.value!==Eu&&l.value===c.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const _=[],g=s.matchStyles(l.value,l.params,_),y=s.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{go(e,g),qr(e,y)})}return}const h=In(this._engine.playersByElement,e,[]);h.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Yn(e,FF),o.onStart(()=>{al(e,FF)})),o.onDone(()=>{let _=this.players.indexOf(o);_>=0&&this.players.splice(_,1);const g=this._engine.playersByElement.get(e);if(g){let y=g.indexOf(o);y>=0&&g.splice(y,1)}}),this.players.push(o),h.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,up,!0);r.forEach(i=>{if(i[Kn])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e);if(s){const o=[];if(Object.keys(s).forEach(a=>{if(this._triggers[a]){const l=this.trigger(e,a,Eu,i);l&&o.push(l)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&as(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers[o].fallbackTransition,c=r[o]||BD,u=new VD(Eu),d=new UD(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Kn];(!s||s===BF)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Yn(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=mD(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,gD(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Pre{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new xre(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let s=r;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,r,i){if(Ep(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ep(t))return;const s=t[Kn];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Yn(e,LF)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),al(e,LF))}removeNode(e,t,r,i){if(Ep(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i){this.collectedLeaveElements.push(t),t[Kn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,i,s){return Ep(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,up,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,TD,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return as(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Kn];if(t&&t.setForRemoval){if(e[Kn]=BF,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,VF)&&this.markElementAsDisabled(e,!1),this.driver.query(e,VF,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Yn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?as(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new yp,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(x=>{u.add(x);const V=this.driver.query(x,".ng-animate-queued",!0);for(let q=0;q<V.length;q++)u.add(V[q])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=$F(h,this.collectedEnterElements),p=new Map;let _=0;f.forEach((x,V)=>{const q=ID+_++;p.set(V,q),x.forEach(_e=>Yn(_e,q))});const g=[],y=new Set,m=new Set;for(let x=0;x<this.collectedLeaveElements.length;x++){const V=this.collectedLeaveElements[x],q=V[Kn];q&&q.setForRemoval&&(g.push(V),y.add(V),q.hasAnimation?this.driver.query(V,".ng-star-inserted",!0).forEach(_e=>y.add(_e)):m.add(V))}const C=new Map,I=$F(h,Array.from(y));I.forEach((x,V)=>{const q=lp+_++;C.set(V,q),x.forEach(_e=>Yn(_e,q))}),e.push(()=>{f.forEach((x,V)=>{const q=p.get(V);x.forEach(_e=>al(_e,q))}),I.forEach((x,V)=>{const q=C.get(V);x.forEach(_e=>al(_e,q))}),g.forEach(x=>{this.processLeaveNode(x)})});const U=[],ge=[];for(let x=this._namespaceList.length-1;x>=0;x--)this._namespaceList[x].drainQueuedTransitions(t).forEach(q=>{const _e=q.player,St=q.element;if(U.push(_e),this.collectedEnterElements.length){const Zr=St[Kn];if(Zr&&Zr.setForMove)return void _e.destroy()}const Qr=!d||!this.driver.containsElement(d,St),Sn=C.get(St),ds=p.get(St),Ze=this._buildInstruction(q,r,ds,Sn,Qr);if(Ze.errors&&Ze.errors.length)ge.push(Ze);else{if(Qr)return _e.onStart(()=>go(St,Ze.fromStyles)),_e.onDestroy(()=>qr(St,Ze.toStyles)),void i.push(_e);if(q.isFallbackTransition)return _e.onStart(()=>go(St,Ze.fromStyles)),_e.onDestroy(()=>qr(St,Ze.toStyles)),void i.push(_e);Ze.timelines.forEach(Zr=>Zr.stretchStartingKeyframe=!0),r.append(St,Ze.timelines),o.push({instruction:Ze,player:_e,element:St}),Ze.queriedElements.forEach(Zr=>In(a,Zr,[]).push(_e)),Ze.preStyleProps.forEach((Zr,Ou)=>{const Wp=Object.keys(Zr);if(Wp.length){let wo=l.get(Ou);wo||l.set(Ou,wo=new Set),Wp.forEach(wI=>wo.add(wI))}}),Ze.postStyleProps.forEach((Zr,Ou)=>{const Wp=Object.keys(Zr);let wo=c.get(Ou);wo||c.set(Ou,wo=new Set),Wp.forEach(wI=>wo.add(wI))})}});if(ge.length){const x=[];ge.forEach(V=>{x.push(`@${V.triggerName} has failed due to:\n`),V.errors.forEach(q=>x.push(`- ${q}\n`))}),U.forEach(V=>V.destroy()),this.reportError(x)}const Ee=new Map,xt=new Map;o.forEach(x=>{const V=x.element;r.has(V)&&(xt.set(V,V),this._beforeAnimationBuild(x.player.namespaceId,x.instruction,Ee))}),i.forEach(x=>{const V=x.element;this._getPreviousPlayers(V,!1,x.namespaceId,x.triggerName,null).forEach(_e=>{In(Ee,V,[]).push(_e),_e.destroy()})});const lt=g.filter(x=>WF(x,l,c)),Tt=new Map;jF(Tt,this.driver,m,c,Di).forEach(x=>{WF(x,l,c)&&lt.push(x)});const Ai=new Map;f.forEach((x,V)=>{jF(Ai,this.driver,new Set(x),l,"!")}),lt.forEach(x=>{const V=Tt.get(x),q=Ai.get(x);Tt.set(x,Object.assign(Object.assign({},V),q))});const Cr=[],fl=[],pl={};o.forEach(x=>{const{element:V,player:q,instruction:_e}=x;if(r.has(V)){if(u.has(V))return q.onDestroy(()=>qr(V,_e.toStyles)),q.disabled=!0,q.overrideTotalTime(_e.totalTime),void i.push(q);let St=pl;if(xt.size>1){let Sn=V;const ds=[];for(;Sn=Sn.parentNode;){const Ze=xt.get(Sn);if(Ze){St=Ze;break}ds.push(Sn)}ds.forEach(Ze=>xt.set(Ze,St))}const Qr=this._buildAnimation(q.namespaceId,_e,Ee,s,Ai,Tt);if(q.setRealPlayer(Qr),St===pl)Cr.push(q);else{const Sn=this.playersByElement.get(St);Sn&&Sn.length&&(q.parentPlayer=as(Sn)),i.push(q)}}else go(V,_e.fromStyles),q.onDestroy(()=>qr(V,_e.toStyles)),fl.push(q),u.has(V)&&i.push(q)}),fl.forEach(x=>{const V=s.get(x.element);if(V&&V.length){const q=as(V);x.setRealPlayer(q)}}),i.forEach(x=>{x.parentPlayer?x.syncPlayerEvents(x.parentPlayer):x.destroy()});for(let x=0;x<g.length;x++){const V=g[x],q=V[Kn];if(al(V,lp),q&&q.hasAnimation)continue;let _e=[];if(a.size){let Qr=a.get(V);Qr&&Qr.length&&_e.push(...Qr);let Sn=this.driver.query(V,TD,!0);for(let ds=0;ds<Sn.length;ds++){let Ze=a.get(Sn[ds]);Ze&&Ze.length&&_e.push(...Ze)}}const St=_e.filter(Qr=>!Qr.destroyed);St.length?Lre(this,V,St):this.processLeaveNode(V)}return g.length=0,Cr.forEach(x=>{this.players.push(x),x.onDone(()=>{x.destroy();const V=this.players.indexOf(x);this.players.splice(V,1)}),x.play()}),Cr}elementContainsData(e,t){let r=!1;const i=t[Kn];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Eu;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=In(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}go(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const _=p.element;u.add(_);const g=_[Kn];if(g&&g.removedBeforeQueried)return new sl(p.duration,p.delay);const y=_!==l,m=function(n){const e=[];return HF(n,e),e}((r.get(_)||Mre).map(Ee=>Ee.getRealPlayer())).filter(Ee=>!!Ee.element&&Ee.element===_),C=s.get(_),I=o.get(_),U=pF(0,this._normalizer,0,p.keyframes,C,I),ge=this._buildPlayer(p,U,m);if(p.subTimeline&&i&&d.add(_),y){const Ee=new UD(e,a,_);Ee.setRealPlayer(ge),c.push(Ee)}return ge});c.forEach(p=>{In(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Yn(p,CF));const f=as(h);return f.onDestroy(()=>{u.forEach(p=>al(p,CF)),qr(l,t.toStyles)}),d.forEach(p=>{In(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new sl(e.duration,e.delay)}}class UD{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new sl,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>gD(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){In(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ep(n){return n&&1===n.nodeType}function UF(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function jF(n,e,t,r,i){const s=[];t.forEach(l=>s.push(UF(l)));const o=[];r.forEach((l,c)=>{const u={};l.forEach(d=>{const h=u[d]=e.computeStyle(c,d,i);(!h||0==h.length)&&(c[Kn]=kre,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>UF(l,s[a++])),o}function $F(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}const Cp="$$classes";function Yn(n,e){if(n.classList)n.classList.add(e);else{let t=n[Cp];t||(t=n[Cp]={}),t[e]=!0}}function al(n,e){if(n.classList)n.classList.remove(e);else{let t=n[Cp];t&&delete t[e]}}function Lre(n,e,t){as(t).onDone(()=>n.processLeaveNode(e))}function HF(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof hF?HF(r.players,e):e.push(r)}}function WF(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class wp{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Pre(e,t,r),this._timelineEngine=new Tre(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],c=kD(this._driver,s,l);if(l.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(n,e,t){return new wre(n,e,t)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=gF(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=gF(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function zF(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=jD(e[0]),e.length>1&&(r=jD(e[e.length-1]))):e&&(t=jD(e)),t||r?new Ure(n,t,r):null}let Ure=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&qr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qr(this._element,this._initialStyles),this._endStyles&&(qr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(go(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(go(this._element,this._endStyles),this._endStyles=null),qr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function jD(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];jre(i)&&(e=e||{},e[i]=n[i])}return e}function jre(n){return"display"===n||"position"===n}const GF="animation",qF="animationend";class Wre{constructor(e,t,r,i,s,o,a){this._element=e,this._name=t,this._duration=r,this._delay=i,this._easing=s,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,e){const t=HD(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),Dp(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),QF(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){KF(this._element,this._name,"paused")}resume(){KF(this._element,this._name,"running")}setPosition(e){const t=YF(this._element,this._name);this._position=e*this._duration,Dp(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),QF(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=HD(n,"").split(","),i=$D(r,e);i>=0&&(r.splice(i,1),Dp(n,"",r.join(",")))}(this._element,this._name))}}function KF(n,e,t){Dp(n,"PlayState",t,YF(n,e))}function YF(n,e){const t=HD(n,"");return t.indexOf(",")>0?$D(t.split(","),e):$D([t],e)}function $D(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function QF(n,e,t){t?n.removeEventListener(qF,e):n.addEventListener(qF,e)}function Dp(n,e,t,r){const i=GF+e;if(null!=r){const s=n.style[i];if(s.length){const o=s.split(",");o[r]=t,t=o.join(",")}}n.style[i]=t}function HD(n,e){return n.style[GF+e]||""}class ZF{constructor(e,t,r,i,s,o,a,l){this.element=e,this.keyframes=t,this.animationName=r,this._duration=i,this._delay=s,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Wre(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:MD(this.element,r))})}this.currentSnapshot=e}}class Qre extends sl{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=vF(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class JF{constructor(){this._count=0}validateStyleProperty(e){return bD(e)}matchesElement(e,t){return ED(e,t)}containsElement(e,t){return CD(e,t)}query(e,t,r){return wD(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(a=>vF(a));let i=`@keyframes ${t} {\n`,s="";r.forEach(a=>{s=" ";const l=parseFloat(a.offset);i+=`${s}${100*l}% {\n`,s+=" ",Object.keys(a).forEach(c=>{const u=a[c];switch(c){case"offset":return;case"easing":return void(u&&(i+=`${s}animation-timing-function: ${u};\n`));default:return void(i+=`${s}${c}: ${u};\n`)}}),i+=`${s}}\n`}),i+="}\n";const o=document.createElement("style");return o.textContent=i,o}animate(e,t,r,i,s,o=[],a){const l=o.filter(g=>g instanceof ZF),c={};SF(r,i)&&l.forEach(g=>{let y=g.currentSnapshot;Object.keys(y).forEach(m=>c[m]=y[m])});const u=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(e[i]=r[i])})}),e}(t=AF(e,t,c));if(0==r)return new Qre(e,u);const d="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,d,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(h);const p=zF(e,t),_=new ZF(e,t,d,r,i,s,u,p);return _.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(h)),_}}class tL{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:MD(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class tie{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(nL().toString()),this._cssKeyframesDriver=new JF}validateStyleProperty(e){return bD(e)}matchesElement(e,t){return ED(e,t)}containsElement(e,t){return CD(e,t)}query(e,t,r){return wD(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,i,s,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,i,s,o);const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const d={},h=o.filter(p=>p instanceof tL);SF(r,i)&&h.forEach(p=>{let _=p.currentSnapshot;Object.keys(_).forEach(g=>d[g]=_[g])});const f=zF(e,t=AF(e,t=t.map(p=>ls(p,!1)),d));return new tL(e,t,u,f)}}function nL(){return fF()&&Element.prototype.animate||{}}let rie=(()=>{class n extends lF{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:tt.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?uF(t):t;return rL(this._renderer,null,r,"register",[i]),new iie(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(v(As),v(le))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class iie extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new sie(this._id,e,t||{},this._renderer)}}class sie{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return rL(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function rL(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const iL="@.disabled";let oie=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{o&&o.parentNode(s)&&o.removeChild(s.parentNode,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new sL("",s,this.engine),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new aie(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(v(As),v(wp),v(he))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class sL{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==iL?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class aie extends sL{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==iL?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let uie=(()=>{class n extends wp{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(v(le),v(DD),v(FD))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const WD=new N("AnimationModuleType"),oL=[{provide:lF,useClass:rie},{provide:FD,useFactory:function(){return new mre}},{provide:wp,useClass:uie},{provide:As,useFactory:function(n,e,t){return new oie(n,e,t)},deps:[Rh,wp,he]}],aL=[{provide:DD,useFactory:function(){return"function"==typeof nL()?new tie:new JF}},{provide:WD,useValue:"BrowserAnimations"},...oL],lL=[{provide:DD,useClass:bF},{provide:WD,useValue:"NoopAnimations"},...oL];let cL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?lL:aL}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ge({providers:aL,imports:[my]}),n})();const uL_firebase={apiKey:"AIzaSyCJpemfOFilAcnfkDP86tIOqJFdseDA6bk",authDomain:"atc-planner.firebaseapp.com",databaseURL:"https://atc-planner-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"atc-planner",storageBucket:"atc-planner.appspot.com",messagingSenderId:"581358845260",appId:"1:581358845260:web:5c403ff16ecbb66c3fa3e9"};class Qn extends Ve{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new To;return this._value}next(e){super.next(this._value=e)}}class pie extends ye{notifyNext(e,t,r,i,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class gie extends ye{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function _ie(n,e,t,r,i=new gie(n,t,r)){if(!i.closed)return e instanceof K?e.subscribe(i):qp(e)(i)}const dL={};class yie{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new vie(e,this.resultSelector))}}class vie extends pie{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(dL),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(_ie(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const i=this.values,o=this.toRespond?i[r]===dL?--this.toRespond:this.toRespond:0;i[r]=t,0===o&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const Tp=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function zD(...n){return vl(1)(W(...n))}function GD(n){return new K(e=>{let t;try{t=n()}catch(i){return void e.error(i)}return(t?Ut(t):Nh()).subscribe(e)})}function cs(n,e){return"function"==typeof e?t=>t.pipe(cs((r,i)=>Ut(n(r,i)).pipe(Se((s,o)=>e(r,s,i,o))))):t=>t.lift(new Eie(n))}class Eie{constructor(e){this.project=e}call(e,t){return t.subscribe(new Cie(e,this.project))}}class Cie extends ml{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new _l(this),i=this.destination;i.add(r),this.innerSubscription=yl(e,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}function hL(...n){const e=n[n.length-1];return So(e)?(n.pop(),t=>zD(n,t,e)):t=>zD(n,t)}function fL(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new wie(n,e,t))}}class wie{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new Die(e,this.accumulator,this.seed,this.hasSeed))}}class Die extends ye{constructor(e,t,r,i){super(e),this.accumulator=t,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function mo(n){return function(t){const r=new Iie(n),i=t.lift(r);return r.caught=i}}class Iie{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Tie(e,this.selector,this.caught))}}class Tie extends ml{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const r=new _l(this);this.add(r);const i=yl(t,r);i!==r&&this.add(i)}}}function Cu(n,e){return At(n,e,1)}function qD(n){return function(t){return 0===n?Nh():t.lift(new Sie(n))}}class Sie{constructor(e){if(this.total=e,this.total<0)throw new ox}call(e,t){return t.subscribe(new Aie(e,this.total))}}class Aie extends ye{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,i=this.count++;t.length<r?t.push(e):t[i%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let s=0;s<r;s++){const o=t++%r;e.next(i[o])}}e.complete()}}function pL(n=kie){return e=>e.lift(new Rie(n))}class Rie{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Mie(e,this.errorFactory))}}class Mie extends ye{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function kie(){return new Tp}function gL(n=null){return e=>e.lift(new xie(n))}class xie{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Pie(e,this.defaultValue))}}class Pie extends ye{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function yo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hn((i,s)=>n(i,s,r)):ue,qi(1),t?gL(e):pL(()=>new Tp))}class Fie{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Lie(e,this.callback))}}class Lie extends ye{constructor(e,t){super(e),this.add(new me(t))}}class Ii{constructor(e,t){this.id=e,this.url=t}}class KD extends Ii{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wu extends Ii{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _L extends Ii{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vie extends Ii{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Bie extends Ii{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uie extends Ii{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jie extends Ii{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $ie extends Ii{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hie extends Ii{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mL{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yL{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Wie{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zie{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gie{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qie{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vL{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const oe="primary";class Kie{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ll(n){return new Kie(n)}const bL="ngNavigationCancelingError";function YD(n){const e=Error("NavigationCancelingError: "+n);return e[bL]=!0,e}function Qie(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Kr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!EL(n[i],e[i]))return!1;return!0}function EL(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function CL(n){return Array.prototype.concat.apply([],n)}function wL(n){return n.length>0?n[n.length-1]:null}function kt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Yr(n){return N_(n)?n:Rd(n)?Ut(Promise.resolve(n)):W(n)}const Jie={exact:function TL(n,e,t){if(!bo(n.segments,e.segments)||!Sp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!TL(n.children[r],e.children[r],t))return!1;return!0},subset:SL},DL={exact:function(n,e){return Kr(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>EL(n[t],e[t]))},ignored:()=>!0};function IL(n,e,t){return Jie[t.paths](n.root,e.root,t.matrixParams)&&DL[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function SL(n,e,t){return AL(n,e,e.segments,t)}function AL(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!bo(i,t)||e.hasChildren()||!Sp(i,t,r))}if(n.segments.length===t.length){if(!bo(n.segments,t)||!Sp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!SL(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(bo(n.segments,i)&&Sp(n.segments,i,r)&&n.children[oe])&&AL(n.children[oe],e,s,r)}}function Sp(n,e,t){return e.every((r,i)=>DL[t](n[i].parameters,r.parameters))}class vo{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ll(this.queryParams)),this._queryParamMap}toString(){return ise.serialize(this)}}class ce{constructor(e,t){this.segments=e,this.children=t,this.parent=null,kt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ap(this)}}class Du{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ll(this.parameters)),this._parameterMap}toString(){return xL(this)}}function bo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class QD{}class RL{parse(e){const t=new fse(e);return new vo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${`/${Iu(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Rp(t)}=${Rp(i)}`).join("&"):`${Rp(t)}=${Rp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ise=new RL;function Ap(n){return n.segments.map(e=>xL(e)).join("/")}function Iu(n,e){if(!n.hasChildren())return Ap(n);if(e){const t=n.children[oe]?Iu(n.children[oe],!1):"",r=[];return kt(n.children,(i,s)=>{s!==oe&&r.push(`${s}:${Iu(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return kt(n.children,(r,i)=>{i===oe&&(t=t.concat(e(r,i)))}),kt(n.children,(r,i)=>{i!==oe&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===oe?[Iu(n.children[oe],!1)]:[`${i}:${Iu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[oe]?`${Ap(n)}/${t[0]}`:`${Ap(n)}/(${t.join("//")})`}}function ML(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rp(n){return ML(n).replace(/%3B/gi,";")}function ZD(n){return ML(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mp(n){return decodeURIComponent(n)}function kL(n){return Mp(n.replace(/\+/g,"%20"))}function xL(n){return`${ZD(n.path)}${function(n){return Object.keys(n).map(e=>`;${ZD(e)}=${ZD(n[e])}`).join("")}(n.parameters)}`}const lse=/^[^\/()?;=#]+/;function kp(n){const e=n.match(lse);return e?e[0]:""}const cse=/^[^=?&#]+/,dse=/^[^?&#]+/;class fse{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[oe]=new ce(e,t)),r}parseSegment(){const e=kp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Du(Mp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=kp(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=kp(this.remaining);i&&(r=i,this.capture(r))}e[Mp(t)]=Mp(r)}parseQueryParam(e){const t=function(n){const e=n.match(cse);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function(n){const e=n.match(dse);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=kL(t),s=kL(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=kp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=oe);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[oe]:new ce([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class PL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=XD(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=XD(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=JD(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return JD(e,this._root).map(t=>t.value)}}function XD(n,e){if(n===e.value)return e;for(const t of e.children){const r=XD(n,t);if(r)return r}return null}function JD(n,e){if(n===e.value)return[e];for(const t of e.children){const r=JD(n,t);if(r.length)return r.unshift(e),r}return[]}class Ti{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Tu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class OL extends PL{constructor(e,t){super(e),this.snapshot=t,eI(this,e)}toString(){return this.snapshot.toString()}}function NL(n,e){const t=function(n,e){const o=new xp([],{},{},"",{},oe,e,null,n.root,-1,{});return new LL("",new Ti(o,[]))}(n,e),r=new Qn([new Du("",{})]),i=new Qn({}),s=new Qn({}),o=new Qn({}),a=new Qn(""),l=new cl(r,i,o,a,s,oe,e,t.root);return l.snapshot=t.root,new OL(new Ti(l,[]),t)}class cl{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Se(e=>ll(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Se(e=>ll(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function FL(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class xp{constructor(e,t,r,i,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ll(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ll(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class LL extends PL{constructor(e,t){super(t),this.url=e,eI(this,t)}toString(){return VL(this._root)}}function eI(n,e){e.value._routerState=n,e.children.forEach(t=>eI(n,t))}function VL(n){const e=n.children.length>0?` { ${n.children.map(VL).join(", ")} } `:"";return`${n.value}${e}`}function tI(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Kr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Kr(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Kr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Kr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function nI(n,e){return Kr(n.params,e.params)&&function(n,e){return bo(n,e)&&n.every((t,r)=>Kr(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||nI(n.parent,e.parent))}function Pp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Pp(n,r,i);return Pp(n,r)})}(n,e,t);return new Ti(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return BL(e,o),o}}const r=function(n){return new cl(new Qn(n.url),new Qn(n.params),new Qn(n.queryParams),new Qn(n.fragment),new Qn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Pp(n,s));return new Ti(r,i)}}function BL(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)BL(n.children[t],e.children[t])}function Op(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Su(n){return"object"==typeof n&&null!=n&&n.outlets}function rI(n,e,t,r,i){let s={};return r&&kt(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new vo(t.root===n?e:UL(t.root,n,e),s,i)}function UL(n,e,t){const r={};return kt(n.children,(i,s)=>{r[s]=i===e?t:UL(i,e,t)}),new ce(n.segments,r)}class jL{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Op(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Su);if(i&&i!==wL(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class iI{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function $L(n,e,t){if(n||(n=new ce([],{})),0===n.segments.length&&n.hasChildren())return Np(n,e,t);const r=function(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Su(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!WL(l,c,o))return s;r+=2}else{if(!WL(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ce(n.segments.slice(0,r.pathIndex),{});return s.children[oe]=new ce(n.segments.slice(r.pathIndex),n.children),Np(s,0,i)}return r.match&&0===i.length?new ce(n.segments,{}):r.match&&!n.hasChildren()?sI(n,e,t):r.match?Np(n,0,i):sI(n,e,t)}function Np(n,e,t){if(0===t.length)return new ce(n.segments,{});{const r=function(n){return Su(n[0])?n[0].outlets:{[oe]:n}}(t),i={};return kt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=$L(n.children[o],e,s))}),kt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ce(n.segments,i)}}function sI(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Su(s)){const l=Ise(s.outlets);return new ce(r,l)}if(0===i&&Op(t[0])){r.push(new Du(n.segments[e].path,HL(t[0]))),i++;continue}const o=Su(s)?s.outlets[oe]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Op(a)?(r.push(new Du(o,HL(a))),i+=2):(r.push(new Du(o,{})),i++)}return new ce(r,{})}function Ise(n){const e={};return kt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=sI(new ce([],{}),0,t))}),e}function HL(n){const e={};return kt(n,(t,r)=>e[r]=`${t}`),e}function WL(n,e,t){return n==t.path&&Kr(e,t.parameters)}class Sse{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),tI(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Tu(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),kt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const i=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Tu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Tu(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new qie(s.value.snapshot))}),e.children.length&&this.forwardEvent(new zie(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(tI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),zL(a.route)}else{const a=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}function zL(n){tI(n.value),n.children.forEach(zL)}class oI{constructor(e,t){this.routes=e,this.module=t}}function us(n){return"function"==typeof n}function Eo(n){return n instanceof vo}const Au=Symbol("INITIAL_VALUE");function Ru(){return cs(n=>function(...n){let e,t;return So(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&Mi(n[0])&&(n=n[0]),Yp(n,t).lift(new yie(e))}(n.map(e=>e.pipe(qi(1),hL(Au)))).pipe(fL((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==Au?i:(s===Au&&(r=!0),r||!1!==s&&o!==t.length-1&&!Eo(s)?i:s),e)},Au),Hn(e=>e!==Au),Se(e=>Eo(e)?e:!0===e),qi(1)))}let GL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=gn({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&nn(0,"router-outlet")},directives:function(){return[cV]},encapsulation:2}),n})();function qL(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Ose(r,Nse(e,r))}}function Ose(n,e){n.children&&qL(n.children,e)}function Nse(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function aI(n){const e=n.children&&n.children.map(aI),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==oe&&(t.component=GL),t}function Zn(n){return n.outlet||oe}function KL(n,e){const t=n.filter(r=>Zn(r)===e);return t.push(...n.filter(r=>Zn(r)!==e)),t}const YL={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Fp(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},YL):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||Qie)(t,n,e);if(!s)return Object.assign({},YL);const o={};kt(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Lp(n,e,t,r,i="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Vp(n,e,r)&&Zn(r)!==oe)}(n,t,r)){const o=new ce(e,function(n,e,t,r){const i={};i[oe]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Zn(s)!==oe){const o=new ce([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Zn(s)]=o}return i}(n,e,r,new ce(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Vp(n,e,r))}(n,t,r)){const o=new ce(n.segments,function(n,e,t,r,i,s){const o={};for(const a of r)if(Vp(n,t,a)&&!i[Zn(a)]){const l=new ce([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Zn(a)]=l}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new ce(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Vp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function QL(n,e,t,r){return!!(Zn(n)===r||r!==oe&&Vp(e,t,n))&&("**"===n.path||Fp(e,n,t).matched)}function ZL(n,e,t){return 0===e.length&&!n.children[t]}class Mu{constructor(e){this.segmentGroup=e||null}}class XL{constructor(e){this.urlTree=e}}function Bp(n){return new K(e=>e.error(new Mu(n)))}function JL(n){return new K(e=>e.error(new XL(n)))}function Use(n){return new K(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Hse{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Lr)}apply(){const e=Lp(this.urlTree.root,[],[],this.config).segmentGroup,t=new ce(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,oe).pipe(Se(s=>this.createUrlTree(lI(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(mo(s=>{if(s instanceof XL)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Mu?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,oe).pipe(Se(i=>this.createUrlTree(lI(i),e.queryParams,e.fragment))).pipe(mo(i=>{throw i instanceof Mu?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new ce([],{[oe]:e}):e;return new vo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Se(s=>new ce([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ut(i).pipe(Cu(s=>{const o=r.children[s],a=KL(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(Se(l=>({segment:l,outlet:s})))}),fL((s,o)=>(s[o.outlet]=o.segment,s),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hn((i,s)=>n(i,s,r)):ue,qD(1),t?gL(e):pL(()=>new Tp))}())}expandSegment(e,t,r,i,s,o){return Ut(r).pipe(Cu(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(mo(c=>{if(c instanceof Mu)return W(null);throw c}))),yo(a=>!!a),mo((a,l)=>{if(a instanceof Tp||"EmptyError"===a.name){if(ZL(t,i,s))return W(new ce([],{}));throw new Mu(t)}throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return QL(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Bp(t):Bp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?JL(s):this.lineralizeSegments(r,s).pipe(At(o=>{const a=new ce(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,lastChild:c,positionalParamSegments:u}=Fp(t,i,s);if(!a)return Bp(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?JL(d):this.lineralizeSegments(i,d).pipe(At(h=>this.expandSegment(e,t,r,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?W(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(Se(h=>(r._loadedConfig=h,new ce(i,{})))):W(new ce(i,{}));const{matched:o,consumedSegments:a,lastChild:l}=Fp(t,r,i);if(!o)return Bp(t);const c=i.slice(l);return this.getChildConfig(e,r,i).pipe(At(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:_}=Lp(t,a,c,f),g=new ce(p.segments,p.children);if(0===_.length&&g.hasChildren())return this.expandChildren(h,f,g).pipe(Se(I=>new ce(a,I)));if(0===f.length&&0===_.length)return W(new ce(a,{}));const y=Zn(r)===s;return this.expandSegment(h,g,f,_,y?oe:s,!0).pipe(Se(C=>new ce(a.concat(C.segments),C.children)))}))}getChildConfig(e,t,r){return t.children?W(new oI(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?W(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(At(i=>i?this.configLoader.load(e.injector,t).pipe(Se(s=>(t._loadedConfig=s,s))):function(n){return new K(e=>e.error(YD(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):W(new oI([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?W(i.map(o=>{const a=e.get(o);let l;if(function(n){return n&&us(n.canLoad)}(a))l=a.canLoad(t,r);else{if(!us(a))throw new Error("Invalid CanLoad guard");l=a(t,r)}return Yr(l)})).pipe(Ru(),on(o=>{if(!Eo(o))return;const a=YD(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Se(o=>!0===o)):W(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return W(r);if(i.numberOfChildren>1||!i.children[oe])return Use(e.redirectTo);i=i.children[oe]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new vo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return kt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return kt(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new ce(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function lI(n){const e={};for(const r of Object.keys(n.children)){const s=lI(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(n){if(1===n.numberOfChildren&&n.children[oe]){const e=n.children[oe];return new ce(n.segments.concat(e.segments),e.children)}return n}(new ce(n.segments,e))}class eV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Up{constructor(e,t){this.component=e,this.route=t}}function Gse(n,e,t){const r=n._root;return ku(r,e?e._root:null,t,[r.value])}function jp(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function ku(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Tu(e);return n.children.forEach(o=>{(function(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!bo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!bo(n.url,e.url)||!Kr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nI(n,e)||!Kr(n.queryParams,e.queryParams);case"paramsChange":default:return!nI(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new eV(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ku(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Up(a.outlet.component,o))}else o&&xu(e,a,i),i.canActivateChecks.push(new eV(r)),ku(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),kt(s,(o,a)=>xu(o,t.getContext(a),i)),i}function xu(n,e,t){const r=Tu(n),i=n.value;kt(r,(s,o)=>{xu(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Up(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class soe{}function tV(n){return new K(e=>e.error(n))}class aoe{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Lp(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,oe);if(null===t)return null;const r=new xp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},oe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ti(r,t),s=new LL(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=FL(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=KL(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;r.push(...l)}const i=nV(r);return function(n){n.sort((e,t)=>e.value.outlet===oe?-1:t.value.outlet===oe?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return ZL(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!QL(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?wL(r).parameters:{};s=new xp(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sV(e),Zn(e),e.component,e,rV(t),iV(t)+r.length,oV(e))}else{const f=Fp(t,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new xp(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sV(e),Zn(e),e.component,e,rV(t),iV(t)+o.length,oV(e))}const l=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:u}=Lp(t,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const f=this.processChildren(l,c);return null===f?null:[new Ti(s,f)]}if(0===l.length&&0===u.length)return[new Ti(s,[])];const d=Zn(e)===i,h=this.processSegment(l,c,u,d?oe:i);return null===h?null:[new Ti(s,h)]}}function uoe(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function nV(n){const e=[],t=new Set;for(const r of n){if(!uoe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=nV(r.children);e.push(new Ti(r.value,i))}return e.filter(r=>!t.has(r))}function rV(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function iV(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function sV(n){return n.data||{}}function oV(n){return n.resolve||{}}function cI(n){return cs(e=>{const t=n(e);return t?Ut(t).pipe(Se(()=>e)):W(e)})}class yoe extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const uI=new N("ROUTES");class aV{constructor(e,t,r,i){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(Se(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new oI(CL(o.injector.get(uI,void 0,L.Self|L.Optional)).map(aI),o)}),mo(s=>{throw t._loader$=void 0,s}));return t._loader$=new MI(i,()=>new Ve).pipe(Qp()),t._loader$}loadModuleFactory(e){return"string"==typeof e?Ut(this.loader.load(e)):Yr(e()).pipe(At(t=>t instanceof ER?W(t):Ut(this.compiler.compileModuleAsync(t))))}}class voe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ul,this.attachRef=null}}class ul{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new voe,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Eoe{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Coe(n){throw n}function woe(n,e,t){return e.parse("/")}function lV(n,e){return W(null)}const Doe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ioe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let dn=(()=>{class n{constructor(t,r,i,s,o,a,l,c){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ve,this.errorHandler=Coe,this.malformedUriErrorHandler=woe,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:lV,afterPreactivation:lV},this.urlHandlingStrategy=new Eoe,this.routeReuseStrategy=new yoe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Lr),this.console=o.get(th);const h=o.get(he);this.isNgZoneEnabled=h instanceof he&&he.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new vo(new ce([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new aV(a,l,f=>this.triggerEvent(new mL(f)),f=>this.triggerEvent(new yL(f))),this.routerState=NL(this.currentUrlTree,this.rootComponentType),this.transitions=new Qn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Hn(i=>0!==i.id),Se(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),cs(i=>{let s=!1,o=!1;return W(i).pipe(on(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),cs(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return $p(a.source)&&(this.browserUrlTree=a.extractedUrl),W(a).pipe(cs(d=>{const h=this.transitions.getValue();return r.next(new KD(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?xa:Promise.resolve(d)}),function(n,e,t,r){return cs(i=>function(n,e,t,r,i){return new Hse(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Se(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),on(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(n,e,t,r,i){return At(s=>function(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new aoe(n,e,t,r,i,s).recognize();return null===o?tV(new soe):W(o)}catch(o){return tV(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(Se(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),on(d=>{"eager"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(d.urlAfterRedirects,d),this.browserUrlTree=d.urlAfterRedirects);const h=new Bie(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:_,extras:g}=a,y=new KD(h,this.serializeUrl(f),p,_);r.next(y);const m=NL(f,this.rootComponentType).snapshot;return W(Object.assign(Object.assign({},a),{targetSnapshot:m,urlAfterRedirects:f,extras:Object.assign(Object.assign({},g),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,this.browserUrlTree=a.urlAfterRedirects,a.resolve(null),xa}),cI(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),on(a=>{const l=new Uie(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Se(a=>Object.assign(Object.assign({},a),{guards:Gse(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(n,e){return At(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?W(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return Ut(n).pipe(At(i=>function(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?W(s.map(a=>{const l=jp(a,e,i);let c;if(function(n){return n&&us(n.canDeactivate)}(l))c=Yr(l.canDeactivate(n,e,t,r));else{if(!us(l))throw new Error("Invalid CanDeactivate guard");c=Yr(l(n,e,t,r))}return c.pipe(yo())})).pipe(Ru()):W(!0)}(i.component,i.route,t,e,r)),yo(i=>!0!==i,!0))}(o,r,i,n).pipe(At(a=>a&&function(n){return"boolean"==typeof n}(a)?function(n,e,t,r){return Ut(e).pipe(Cu(i=>zD(function(n,e){return null!==n&&e&&e(new Wie(n)),W(!0)}(i.route.parent,r),function(n,e){return null!==n&&e&&e(new Gie(n)),W(!0)}(i.route,r),function(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>GD(()=>W(o.guards.map(l=>{const c=jp(l,o.node,t);let u;if(function(n){return n&&us(n.canActivateChild)}(c))u=Yr(c.canActivateChild(r,n));else{if(!us(c))throw new Error("Invalid CanActivateChild guard");u=Yr(c(r,n))}return u.pipe(yo())})).pipe(Ru())));return W(s).pipe(Ru())}(n,i.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?W(r.map(s=>GD(()=>{const o=jp(s,e,t);let a;if(function(n){return n&&us(n.canActivate)}(o))a=Yr(o.canActivate(e,n));else{if(!us(o))throw new Error("Invalid CanActivate guard");a=Yr(o(e,n))}return a.pipe(yo())}))).pipe(Ru()):W(!0)}(n,i.route,t))),yo(i=>!0!==i,!0))}(r,s,n,e):W(a)),Se(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),on(a=>{if(Eo(a.guardsResult)){const c=YD(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new jie(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Hn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),cI(a=>{if(a.guards.canActivateChecks.length)return W(a).pipe(on(l=>{const c=new $ie(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),cs(l=>{let c=!1;return W(l).pipe(function(n,e){return At(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let s=0;return Ut(i).pipe(Cu(o=>function(n,e,t,r){return function(n,e,t,r){const i=Object.keys(n);if(0===i.length)return W({});const s={};return Ut(i).pipe(At(o=>function(n,e,t,r){const i=jp(n,e,r);return Yr(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(on(a=>{s[o]=a}))),qD(1),At(()=>Object.keys(s).length===i.length?W(s):xa))}(n._resolve,n,e,r).pipe(Se(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),FL(n,t).resolve),null)))}(o.route,r,n,e)),on(()=>s++),qD(1),At(o=>s===i.length?W(t):xa))})}(this.paramsInheritanceStrategy,this.ngModule.injector),on({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),on(l=>{const c=new Hie(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),cI(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Se(a=>{const l=function(n,e,t){const r=Pp(n,e._root,t?t._root:void 0);return new OL(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),on(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Se(r=>(new Sse(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),on({next(){s=!0},complete(){s=!0}}),function(n){return e=>e.lift(new Fie(n))}(()=>{var a;if(!s&&!o){const l=`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(i),this.cancelNavigationTransition(i,l)):this.cancelNavigationTransition(i,l)}(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),mo(a=>{if(o=!0,function(n){return n&&n[bL]}(a)){const l=Eo(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const c=new _L(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$p(i.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new Vie(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return xa}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:i,state:s,urlTree:o}=r,a={replaceUrl:!0};if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(a.state=l)}this.scheduleNavigation(o,i,s,a)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const i=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!i||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){qL(t),this.config=t.map(aI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(n,e,t,r,i){if(0===t.length)return rI(e.root,e.root,e,r,i);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new jL(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return kt(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new jL(t,e,r)}(t);if(s.toRoot())return rI(e.root,new ce([],{}),e,r,i);const o=function(n,e,t){if(n.isAbsolute)return new iI(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new iI(s,s===e.root,0)}const r=Op(n.commands[0])?0:1;return function(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new iI(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?Np(o.segmentGroup,o.index,s.commands):$L(o.segmentGroup,o.index,s.commands);return rI(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,d,null!=u?u:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Eo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Doe):!1===r?Object.assign({},Ioe):r,Eo(t))return IL(this.currentUrlTree,t,i);const s=this.parseUrl(t);return IL(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new wu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,l;if(this.disposed)return Promise.resolve(!1);const c=this.getTransition(),u=$p(r)&&c&&!$p(c.source),f=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===t.toString();if(u&&f)return Promise.resolve(!0);let p,_,g;o?(p=o.resolve,_=o.reject,g=o.promise):g=new Promise((C,I)=>{p=C,_=I});const y=++this.navigationId;let m;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),m=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):m=0,this.setTransition({id:y,targetPageId:m,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:p,reject:_,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(C=>Promise.reject(C))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new _L(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(v(sd),v(QD),v(ul),v(Ma),v(pe),v(rh),v(xs),v(void 0))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();function $p(n){return"imperative"!==n}let cV=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new pt,this.deactivateEvents=new pt,this.name=s||oe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new Roe(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(T(ul),T(Vn),T(oi),function(n){return function(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(lT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(ct(),n)}("name"),T(Wd))},n.\u0275dir=rt({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Roe{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===cl?this.route:e===ul?this.childContexts:this.parent.get(e,t)}}class uV{}class dV{preload(e,t){return W(null)}}let hV=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=s,this.preloadingStrategy=o,this.loader=new aV(r,i,c=>t.triggerEvent(new mL(c)),c=>t.triggerEvent(new yL(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(Hn(t=>t instanceof wu),Cu(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Lr);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return Ut(i).pipe(vl(),Se(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?W(r._loadedConfig):this.loader.load(t.injector,r)).pipe(At(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(v(dn),v(rh),v(xs),v(pe),v(uV))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),fI=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof KD?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof wu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vL&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new vL(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(v(dn),v(Mk),v(void 0))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const Co=new N("ROUTER_CONFIGURATION"),fV=new N("ROUTER_FORROOT_GUARD"),koe=[Ma,{provide:QD,useClass:RL},{provide:dn,useFactory:function(n,e,t,r,i,s,o,a={},l,c){const u=new dn(null,n,e,t,r,i,s,CL(o));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(d=>{var h,f;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${d.constructor.name}`),console.log(d.toString()),console.log(d),null===(f=console.groupEnd)||void 0===f||f.call(console)}),u},deps:[QD,ul,Ma,pe,rh,xs,uI,Co,[class{},new Ue],[class{},new Ue]]},ul,{provide:cl,useFactory:function(n){return n.routerState.root},deps:[dn]},{provide:rh,useClass:KG},hV,dV,class{preload(e,t){return t().pipe(mo(()=>W(null)))}},{provide:Co,useValue:{enableTracing:!1}}];function xoe(){return new Mm("Router",dn)}let pV=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[koe,gV(t),{provide:fV,useFactory:Noe,deps:[[dn,new Ue,new Bi]]},{provide:Co,useValue:r||{}},{provide:Ra,useFactory:Ooe,deps:[Fs,[new zo(qm),new Ue],Co]},{provide:fI,useFactory:Poe,deps:[dn,Mk,Co]},{provide:uV,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:dV},{provide:Mm,multi:!0,useFactory:xoe},[pI,{provide:yc,multi:!0,useFactory:Boe,deps:[pI]},{provide:_V,useFactory:Uoe,deps:[pI]},{provide:IM,multi:!0,useExisting:_V}]]}}static forChild(t){return{ngModule:n,providers:[gV(t)]}}}return n.\u0275fac=function(t){return new(t||n)(v(fV,8),v(dn,8))},n.\u0275mod=nt({type:n}),n.\u0275inj=Ge({}),n})();function Poe(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new fI(n,e,t)}function Ooe(n,e,t={}){return t.useHash?new p8(n,e):new gk(n,e)}function Noe(n){return"guarded"}function gV(n){return[{provide:m2,multi:!0,useValue:n},{provide:uI,multi:!0,useValue:n}]}let pI=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ve}appInitializer(){return this.injector.get(d8,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(dn),o=this.injector.get(Co);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?W(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Co),i=this.injector.get(hV),s=this.injector.get(fI),o=this.injector.get(dn),a=this.injector.get(Ps);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(v(pe))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();function Boe(n){return n.appInitializer.bind(n)}function Uoe(n){return n.bootstrapListener.bind(n)}const _V=new N("Router Initializer"),$oe=[];let Hoe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ge({imports:[[pV.forRoot($oe)],pV]}),n})();class Xoe{constructor(e){this.total=e}call(e,t){return t.subscribe(new Joe(e,this.total))}}class Joe extends ye{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}class tae{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new nae(e,this.compare,this.keySelector))}}class nae extends ye{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:i}=this;t=i?i(e):e}catch(i){return this.destination.error(i)}let r=!1;if(this.hasKey)try{const{compare:i}=this;r=i(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}let bV=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function(n){try{return n.frameElement}catch(e){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===CV(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=CV(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||EV(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(v(di))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function EV(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function CV(n){if(!EV(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class gae{constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(qi(1)).subscribe(e)}}let _ae=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new gae(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(v(bV),v(he),v(le))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vae=new N("cdk-input-modality-detector-options"),bae={ignoreKeys:[18,17,224,91,16]},hl=wy({passive:!0,capture:!0});let Eae=(()=>{class n{constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Qn(null),this._lastTouchMs=0,this._onKeydown=o=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===o.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Vs(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(o)?"keyboard":"mouse"),this._mostRecentTarget=Vs(o))},this._onTouchstart=o=>{!function(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(o)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Vs(o)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},bae),s),this.modalityDetected=this._modality.pipe(e=>e.lift(new Xoe(1))),this.modalityChanged=this.modalityDetected.pipe(t=>t.lift(new tae(void 0,void 0))),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,hl),i.addEventListener("mousedown",this._onMousedown,hl),i.addEventListener("touchstart",this._onTouchstart,hl)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,hl),document.removeEventListener("mousedown",this._onMousedown,hl),document.removeEventListener("touchstart",this._onTouchstart,hl))}}return n.\u0275fac=function(t){return new(t||n)(v(di),v(he),v(le),v(vae,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wae=new N("cdk-focus-monitor-default-options"),Hp=wy({passive:!0,capture:!0});let Dae=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ve,this._rootNodeFocusAndBlurListener=a=>{const l=Vs(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=s,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(t,r=!1){const i=Mh(t);if(!this._platform.isBrowser||1!==i.nodeType)return W(null);const s=function(n){if(function(){if(null==Dy){const n="undefined"!=typeof document?document.head:null;Dy=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Dy}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new Ve,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=Mh(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=Mh(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=Vs(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Hp),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Hp)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ax(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Hp),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Hp),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(v(he),v(di),v(Eae),v(le,8),v(wae,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const DV="cdk-high-contrast-black-on-white",IV="cdk-high-contrast-white-on-black",gI="cdk-high-contrast-active";let Iae=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(gI),t.remove(DV),t.remove(IV),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(gI),t.add(DV)):2===r&&(t.add(gI),t.add(IV))}}}return n.\u0275fac=function(t){return new(t||n)(v(di),v(le))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sae=new N("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let SV=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Ty()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(v(Iae),v(Sae,8),v(le))},n.\u0275mod=nt({type:n}),n.\u0275inj=Ge({imports:[[Mc],Mc]}),n})();function Pae(n,e){}class mI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const Oae={dialogContainer:cF("dialogContainer",[ap("void, exit",os({opacity:0,transform:"scale(0.7)"})),ap("enter",os({transform:"none"})),hD("* => enter",dD("150ms cubic-bezier(0, 0, 0.2, 1)",os({transform:"none",opacity:1}))),hD("* => void, * => exit",dD("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",os({opacity:0})))])};let Nae=(()=>{class n extends Ry{constructor(t,r,i,s,o,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=o,this._interactivityChecker=a,this._ngZone=l,this._focusMonitor=c,this._animationStateChanged=new pt,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(u)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=Iy(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Iy())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=Iy();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(T(ft),T(_ae),T(Wd),T(le,8),T(mI),T(bV),T(he),T(Dae))},n.\u0275dir=rt({type:n,viewQuery:function(t,r){if(1&t&&nM(ix,7),2&t){let i;Zd(i=function(n,e){return n[19].queries[e].queryList}(E(),tT()))&&(r._portalOutlet=i.first)}},features:[Kl]}),n})(),Fae=(()=>{class n extends Nae{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=function(n){return Pi(()=>{const e=n.prototype.constructor,t=e[ei]||Tg(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[ei]||Tg(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(n)))(r||n)}}(),n.\u0275cmp=gn({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&F_("@dialogContainer.start",function(s){return r._onAnimationStart(s)})("@dialogContainer.done",function(s){return r._onAnimationDone(s)}),2&t&&(Nd("id",r._id),Sd("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),U_("@dialogContainer",r._state))},features:[Kl],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&Ln(0,Pae,0,0,"ng-template",0)},directives:[ix],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Oae.dialogContainer]}}),n})(),Lae=0;class yI{constructor(e,t,r="mat-dialog-"+Lae++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Ve,this._afterClosed=new Ve,this._beforeClosed=new Ve,this._state=0,t._id=r,t._animationStateChanged.pipe(Hn(i=>"opened"===i.state),qi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Hn(i=>"closed"===i.state),qi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Hn(i=>27===i.keyCode&&!this.disableClose&&!function(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(i))).subscribe(i=>{i.preventDefault(),kV(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():kV(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Hn(t=>"closing"===t.state),qi(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function kV(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const vI=new N("MatDialogData"),Vae=new N("mat-dialog-default-options"),xV=new N("mat-dialog-scroll-strategy"),Uae={provide:xV,deps:[kc],useFactory:function(n){return()=>n.scrollStrategies.block()}};let jae=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._animationMode=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ve,this._afterOpenedAtThisLevel=new Ve,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=GD(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(hL(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){if((r=function(n,e){return Object.assign(Object.assign({},e),n)}(r,this._defaultOptions||new mI)).id&&this.getDialogById(r.id),this._dialogAnimatingOpen)return this._lastDialogRef;const i=this._createOverlay(r),s=this._attachDialogContainer(i,r);if("NoopAnimations"!==this._animationMode){const a=s._animationStateChanged.subscribe(l=>{"opening"===l.state&&(this._dialogAnimatingOpen=!0),"opened"===l.state&&(this._dialogAnimatingOpen=!1,a.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new me),this._animationStateSubscriptions.add(a)}const o=this._attachDialogContent(t,s,i,r);return this._lastDialogRef=o,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),s._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new dx({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const s=pe.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:mI,useValue:r}]}),o=new Oh(this._dialogContainerType,r.viewContainerRef,s,r.componentFactoryResolver);return t.attach(o).instance}_attachDialogContent(t,r,i,s){const o=new this._dialogRefConstructor(i,r,s.id);if(t instanceof Fr)r.attachTemplatePortal(new rx(t,null,{$implicit:s.data,dialogRef:o}));else{const a=this._createInjector(s,o,r),l=r.attachComponentPortal(new Oh(t,s.viewContainerRef,a,s.componentFactoryResolver));o.componentInstance=l.instance}return o.updateSize(s.width,s.height).updatePosition(s.position),o}_createInjector(t,r,i){const s=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!s||!s.get(Sy,null,L.Optional))&&o.push({provide:Sy,useValue:{value:t.direction,change:W()}}),pe.create({parent:s||this._injector,providers:o})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,s)=>{i?s.setAttribute("aria-hidden",i):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let s=r[i];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){!function(){throw new Error("invalid")}()},n.\u0275dir=rt({type:n}),n})(),PV=(()=>{class n extends jae{constructor(t,r,i,s,o,a,l,c){super(t,r,s,a,l,o,yI,Fae,vI,c)}}return n.\u0275fac=function(t){return new(t||n)(v(kc),v(pe),v(Ma,8),v(Vae,8),v(xV),v(n,12),v(ky),v(WD,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),Hae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ge({providers:[PV,Uae],imports:[[yx,sx,SV],SV]}),n})();const Wae=[[["","appInput",""]]],zae=["[appInput]"];let Gae=(()=>{class n{constructor(){this.label=""}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=gn({type:n,selectors:[["app-form-field"]],hostAttrs:[1,"app-form-field"],inputs:{label:"label"},ngContentSelectors:zae,decls:3,vars:1,consts:[[1,"app-form-field-label"]],template:function(t,r){1&t&&(Md(Wae),kd(0),M(1,"span",0),we(2),k()),2&t&&(je(2),$i(r.label))},styles:[".app-form-field{position:relative;display:block}.app-form-field-label{position:absolute;left:8px;top:20px;transition:.3s ease;transform-origin:left;pointer-events:none;font-size:13px;line-height:16px}.app-form-field input.app-input.is-focus+.app-form-field-label,.app-form-field input.app-input.has-value+.app-form-field-label,.app-form-field textarea.app-input.is-focus+.app-form-field-label,.app-form-field textarea.app-input.has-value+.app-form-field-label{color:var(--color-dark);transform:scale(.8) translateY(-20px)}\n"],encapsulation:2}),n})();const qae=["appInput",""],Kae=["*"];let OV=(()=>{class n{constructor(t){this.elementRef=t,this.isFocused=!1,this.hasValue=!1,this.value="",this.valueChange=new pt}onFocus(){this.isFocused=!0}onBlur(){this.isFocused=!1}onChange(t){this.checkForValue(t.target)}ngAfterViewInit(){this.checkForValue(this.elementRef.nativeElement)}checkForValue(t){this.value=t.value,this.valueChange.emit(this.value),this.hasValue=""!==this.value}}return n.\u0275fac=function(t){return new(t||n)(T(ft))},n.\u0275cmp=gn({type:n,selectors:[["","appInput",""]],hostAttrs:[1,"app-input"],hostVars:4,hostBindings:function(t,r){1&t&&Le("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()})("change",function(s){return r.onChange(s)}),2&t&&Xl("is-focus",r.isFocused)("has-value",r.hasValue)},outputs:{valueChange:"valueChange"},attrs:qae,ngContentSelectors:Kae,decls:1,vars:0,template:function(t,r){1&t&&(Md(),kd(0))},styles:[".app-input{border:0;box-shadow:inset 0 -1px 0 var(--color-dark);transition:all .3s ease;padding:16px 8px 0;line-height:32px;width:100%}.app-input.is-focus,.app-input.has-value{outline:none;box-shadow:inset 0 -2px 0 var(--color-dark)}\n"],encapsulation:2}),n})();const Yae=["appButton",""],Qae=["*"];let bI=(()=>{class n{constructor(){this.appearance="default"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=gn({type:n,selectors:[["button","appButton",""]],hostVars:2,hostBindings:function(t,r){2&t&&xd(r.appearance)},inputs:{appearance:"appearance"},attrs:Yae,ngContentSelectors:Qae,decls:1,vars:0,template:function(t,r){1&t&&(Md(),kd(0))},styles:["[_nghost-%COMP%]{display:flex;border:2px solid var(--color-dark);border-radius:4px;background:transparent;padding:4px 16px;align-items:center;justify-content:center}.warn[_nghost-%COMP%]{border:none;background-color:var(--color-warn);color:var(--color-white)}"]}),n})(),Zae=(()=>{class n{constructor(t,r){this.dialogRef=t,this.data=r}ngOnInit(){}save(t,r,i,s){this.dialogRef.close({name:t,members:r,time:i,note:s})}}return n.\u0275fac=function(t){return new(t||n)(T(yI),T(vI))},n.\u0275cmp=gn({type:n,selectors:[["app-create-event-dialog"]],hostAttrs:[1,"app-create-event-dialog"],decls:23,vars:2,consts:[[1,"mb-4","text-center"],["name","type","id","type"],["type",""],["value","Prob"],["value","Synth"],["value","Vocals"],["value","Recording"],["label","Wer"],["appInput",""],["members",""],["label","Zeit"],["time",""],["label","Notiz"],["appInput","",2,"height","200px"],["note",""],["appButton","",1,"mt-4","w-full",3,"click"]],template:function(t,r){if(1&t){const i=Zl();M(0,"h1",0),we(1),k(),M(2,"select",1,2),M(4,"option",3),we(5,"Prob"),k(),M(6,"option",4),we(7,"Synth"),k(),M(8,"option",5),we(9,"Vocals"),k(),M(10,"option",6),we(11,"Recording"),k(),k(),M(12,"app-form-field",7),nn(13,"input",8,9),k(),M(15,"app-form-field",10),nn(16,"input",8,11),k(),M(18,"app-form-field",12),nn(19,"textarea",13,14),k(),M(21,"button",15),Le("click",function(){Oo(i);const o=ha(3),a=ha(14),l=ha(17),c=ha(20);return r.save(o.value,a.value,l.value,c.value)}),we(22,"Speichern"),k()}2&t&&(je(1),ec("",r.data.day,". ",r.data.month,""))},directives:[Gae,OV,bI],styles:[".app-create-event-dialog select{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:8px 16px;border:0;border-bottom:2px solid #1f1f1f;width:100%}\n"],encapsulation:2}),n})();function EI(n){return new Date(2e3,n+1,0).toLocaleDateString("de-DE",{month:"long"})}let CI=(()=>{class n{constructor(){this.name=""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=gn({type:n,selectors:[["app-icon"]],inputs:{name:"name"},decls:2,vars:1,consts:[[1,"material-icons"]],template:function(t,r){1&t&&(M(0,"span",0),we(1),k()),2&t&&(je(1),$i(r.name))},styles:["[_nghost-%COMP%]{display:flex}"]}),n})(),ele=(()=>{class n{constructor(t,r){this.dialogRef=t,this.data=r,this.getNameOfMonth=EI,this.note="",this.members="",this.time=""}ngOnInit(){var t,r;this.note=this.data.event.note,this.members=null!==(t=this.data.event.members)&&void 0!==t?t:"",this.time=null!==(r=this.data.event.time)&&void 0!==r?r:""}close(t=!1){this.dialogRef.close({delete:t,note:this.note,members:this.members,time:this.time})}}return n.\u0275fac=function(t){return new(t||n)(T(yI),T(vI))},n.\u0275cmp=gn({type:n,selectors:[["app-event-details-dialog"]],decls:16,vars:6,consts:[[1,"text-center"],[1,"mb-4","text-center"],[1,"content-grid"],["name","schedule"],["appInput","","type","text",3,"value","valueChange"],["name","person"],["name","note"],[1,"buttons"],["appButton","","appearance","warn"],["name","delete",3,"click"],["appButton","",1,"w-full",3,"click"]],template:function(t,r){if(1&t&&(M(0,"h1",0),we(1),k(),M(2,"h2",1),we(3),k(),M(4,"div",2),nn(5,"app-icon",3),M(6,"input",4),Le("valueChange",function(s){return r.time=s}),k(),nn(7,"app-icon",5),M(8,"input",4),Le("valueChange",function(s){return r.members=s}),k(),nn(9,"app-icon",6),M(10,"textarea",4),Le("valueChange",function(s){return r.note=s}),k(),k(),M(11,"div",7),M(12,"button",8),M(13,"app-icon",9),Le("click",function(){return r.close(!0)}),k(),k(),M(14,"button",10),Le("click",function(){return r.close()}),we(15,"Schliessen"),k(),k()),2&t){let i;je(1),ec("",r.data.event.date.day,". ",r.getNameOfMonth(null!==(i=r.data.event.date.month)&&void 0!==i?i:0),""),je(2),$i(r.data.event.name),je(3),dt("value",r.time),je(2),dt("value",r.members),je(2),dt("value",r.note)}},directives:[CI,OV,bI],styles:["[_nghost-%COMP%]   pre[_ngcontent-%COMP%]{font:var(--font-primary);overflow:scroll}[_nghost-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;margin-top:16px;grid-gap:8px;gap:8px}[_nghost-%COMP%]   .content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;align-items:center;grid-gap:10px;gap:10px}"]}),n})();function tle(n){return"Ch\xf6bbi"===n?"Chobben":"F\xe4be"===n?"Fabe":n}function nle(n,e){1&n&&nn(0,"app-icon",4),2&n&&dt("name",ar().$implicit.icon)}function rle(n,e){if(1&n){const t=Zl();M(0,"div",2),Le("click",function(){const s=Oo(t).$implicit;return ar().onItemClick(s)}),Ln(1,nle,1,1,"app-icon",3),M(2,"p"),we(3),k(),k()}if(2&n){const t=e.$implicit;Xl("app-context-menu-item","item"===t.type)("app-context-menu-seperator","seperator"===t.type),je(1),dt("ngIf",t.icon),je(2),$i(t.display)}}let ile=(()=>{class n{constructor(){this.animationState="open",this.animationStateChanged=new pt,this.items=[],this.itemClick=new pt}startCloseAnimation(){this.animationState="void"}onItemClick(t){"item"===t.type&&this.itemClick.emit(t.key)}onAnimationStart(t){this.animationStateChanged.emit(t)}onAnimationDone(t){this.animationStateChanged.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=gn({type:n,selectors:[["app-context-menu"]],inputs:{items:"items"},outputs:{itemClick:"itemClick"},decls:2,vars:2,consts:[[1,"app-context-menu"],[3,"app-context-menu-item","app-context-menu-seperator","click",4,"ngFor","ngForOf"],[3,"click"],[3,"name",4,"ngIf"],[3,"name"]],template:function(t,r){1&t&&(M(0,"div",0),Le("@contextMenu.start",function(s){return r.onAnimationStart(s)})("@contextMenu.done",function(s){return r.onAnimationDone(s)}),Ln(1,rle,4,6,"div",1),k()),2&t&&(dt("@contextMenu",r.animationState),je(1),dt("ngForOf",r.items))},directives:[Dh,ny,CI],styles:[".app-context-menu{background-color:#fff;padding:4px 0;box-shadow:#0000001a 0 4px 12px;border-radius:4px}.app-context-menu-item{display:flex;align-items:center;grid-gap:8px;gap:8px;min-width:164px;padding:8px 16px;transition:.3s ease}.app-context-menu-item:hover{background-color:#f5f5f5}.app-context-menu-seperator{border-bottom:1px solid var(--color-dark)}\n"],encapsulation:2,data:{animation:[cF("contextMenu",[ap("open",os({transform:"scale(1)",opacity:1})),ap("void",os({transform:"scale(0.8)",opacity:0,transformOrigin:"top right"})),hD("* => *",dD(".2s ease"))])]}}),n})(),sle=(()=>{class n{constructor(t,r,i){this.overlayPositionBuilder=t,this.elementRef=r,this.overlay=i,this.items=[],this.onContextMenuItemClick=new pt,this.contextMenuDisabled=!1}onClick(t){t.stopPropagation(),this.contextMenuDisabled||this.handleOnClick()}ngOnInit(){const t=this.overlayPositionBuilder.flexibleConnectedTo(this.elementRef).withPositions([{originX:"start",originY:"center",overlayX:"end",overlayY:"top"}]);this.overlayRef=this.overlay.create({positionStrategy:t,hasBackdrop:!0,backdropClass:"cdk-overlay-transparent-backdrop"}),this.overlayRef.backdropClick().subscribe(()=>this.handleOnClick())}handleOnClick(){this.overlayRef.hasAttached()?this.hide():this.show()}show(){const t=new Oh(ile);this.contextMenuRef=this.overlayRef.attach(t),this.contextMenuRef.instance.items=this.items,this.contextMenuClickListener=this.contextMenuRef.instance.itemClick.subscribe(r=>{this.onContextMenuItemClick.emit(r),this.hide()}),this.contextMenuAfterClosed=this.contextMenuRef.instance.animationStateChanged.pipe(Hn(r=>"done"===r.phaseName&&"void"===r.toState),yo())}hide(){this.contextMenuClickListener.unsubscribe(),this.contextMenuAfterClosed.subscribe(t=>this.overlayRef.detach()),this.contextMenuRef.instance.startCloseAnimation()}}return n.\u0275fac=function(t){return new(t||n)(T(_x),T(ft),T(kc))},n.\u0275dir=rt({type:n,selectors:[["","appContextMenu",""]],hostBindings:function(t,r){1&t&&Le("click",function(s){return r.onClick(s)})},inputs:{items:["appContextMenu","items"],contextMenuDisabled:"contextMenuDisabled"},outputs:{onContextMenuItemClick:"contextMenuClick"}}),n})();function ole(n,e){1&n&&nn(0,"div",26)}function ale(n,e){if(1&n&&(M(0,"div",32),we(1),k()),2&n){const t=e.$implicit;xd(t.name),je(1),Od(" ",t.name," ")}}function lle(n,e){if(1&n&&nn(0,"div",33),2&n){const t=e.$implicit;xd(ar(4).getCleanBandMemberClassName(t))}}function cle(n,e){if(1&n&&(M(0,"div",27),M(1,"span"),we(2),k(),k(),M(3,"div",28),Ln(4,ale,2,3,"div",29),k(),M(5,"div",30),Ln(6,lle,1,2,"div",31),k()),2&n){const t=ar().$implicit,r=ar(2);je(2),$i(t.day),je(2),dt("ngForOf",r.getEventsOfDay(t.day)),je(2),dt("ngForOf",r.getAttendanceOfDay(t.day))}}function ule(n,e){if(1&n){const t=Zl();M(0,"div",23),Le("click",function(){const s=Oo(t).$implicit;return ar(2).handleCalendarDayClick(s)})("contextMenuClick",function(i){const o=Oo(t).$implicit;return ar(2).handleContextMenuClick(o,i)}),Ln(1,ole,1,0,"div",24),Ln(2,cle,7,3,"ng-template",null,25,oM),k()}if(2&n){const t=e.$implicit,r=ha(3),i=ar(2);Xl("is-today",i.isCurrentDay(t.day))("is-highlighted",i.isHighlighted(t)),dt("appContextMenu",i.getContextMenuForDay(t.day))("contextMenuDisabled",i.isEditing||0===t.day),je(1),dt("ngIf",0===t.day)("ngIfElse",r)}}function dle(n,e){if(1&n&&(M(0,"div",21),Ln(1,ule,4,8,"div",22),k()),2&n){const t=e.$implicit;je(1),dt("ngForOf",t.dates)}}function hle(n,e){if(1&n){const t=Zl();M(0,"button",34),Le("click",function(){return Oo(t),ar().saveEditChanges()}),nn(1,"app-icon",35),k()}}let fle=(()=>{class n{constructor(t,r){this.dialog=t,this.db=r,this.selectedMonth=0,this.selectedYear=0,this.weeks=[],this.isEditing=!1,this._attendances=[],this._events=[],this.filter=[],this.getCleanBandMemberClassName=tle}ngOnInit(){this.attendanceRef=aF(this.db,"attendance"),this.eventsRef=aF(this.db,"events"),this.attendances$=oF(this.attendanceRef).pipe(Se(this.mapToArray)),this.events$=oF(this.eventsRef).pipe(Se(this.mapToArray)),this.attendances$.subscribe(t=>this._attendances=t),this.events$.subscribe(t=>this._events=t),this.selectedMonth=(new Date).getMonth(),this.selectedYear=(new Date).getFullYear(),this.weeks=this.getWeeksOfCurrentMonth()}getContextMenuForDay(t){const r=this.getAttendanceOfDay(t);let i=[];r.length>0&&(i=[{type:"seperator"},...r.map(a=>({type:"item",display:a,key:a}))]);const s=this.getEventsOfDay(t);let o=[];return s.length>0&&(o=[...s.map(a=>({type:"item",display:a.name,key:`event-${a.name}`,icon:"search"})),{type:"seperator"}]),[...o,{type:"item",display:"Add Event",icon:"event",key:"add-event"},...i]}handleContextMenuClick(t,r){if(console.log(t),"add-event"===r&&this.dialog.open(Zae,{data:{day:t.day,month:EI(t.month)}}).afterClosed().subscribe(i=>{console.log(i),i&&(this._events.push({date:t,name:i.name,members:i.members,time:i.time,note:i.note}),op(this.eventsRef,this._events))}),r.startsWith("event")){const i=this.getEventsOfDay(t.day),s=r.substring("event-".length),o=i.findIndex(a=>a.name===s);this.dialog.open(ele,{data:{event:i[o]},width:"100vw",autoFocus:!1}).afterClosed().subscribe(a=>{const l=this._events.findIndex(c=>c.date.day===t.day&&c.date.month===this.selectedMonth&&c.date.year===this.selectedYear&&c.name===s);a.delete?(this._events.splice(l,1),op(this.eventsRef,this._events)):(this._events[l].time=a.time,this._events[l].note=a.note,this._events[l].members=a.members,op(this.eventsRef,this._events))})}}handleFilterChange(t){const i=t.target.id;if(t.target.checked)this.filter.push(i);else{const s=this.filter.findIndex(o=>o===i);this.filter.splice(s,1)}}getAttendanceOfDay(t){var r;const i=this._attendances.find(s=>s.date.day===t&&s.date.month===this.selectedMonth&&s.date.year===this.selectedYear);return null!==(r=null==i?void 0:i.people)&&void 0!==r?r:[]}getEventsOfDay(t){const r=this._events.filter(i=>i.date.day===t&&i.date.month===this.selectedMonth&&i.date.year===this.selectedYear);return null!=r?r:[]}changeMonth(t){let r=this.selectedMonth+t;r<0&&(r=11,this.selectedYear-=1),r>11&&(r=0,this.selectedYear+=1),this.selectedMonth=r,this.weeks=this.getWeeksOfCurrentMonth()}startEdit(){this.isEditing=!0}saveEditChanges(){this.isEditing=!1,op(this.attendanceRef,this._attendances)}handleCalendarDayClick(t){0!==t.day&&this.isEditing&&this.addAttendaceToDay(t)}addAttendaceToDay(t){const r=localStorage.getItem("atc-member");if(!r)return;const i=this._attendances.find(s=>s.date.day===t.day&&s.date.month===this.selectedMonth&&s.date.year===this.selectedYear);if(i&&i.people){const s=i.people.findIndex(o=>o===r);console.log(s),-1===s?i.people.push(r):i.people.splice(s,1)}else this._attendances.push({date:t,people:[r]})}getWeeksOfCurrentMonth(){const t=this.getDaysOfCurrentMonth(),r=[];let i=[];t.forEach((a,l)=>{i.push({day:a.day,month:this.selectedMonth,year:this.selectedYear}),("So"===this.nameOfDay(a.day)||l===t.length-1)&&(r.push({dates:i}),i=[])});const s=r[0].dates.length,o=r[r.length-1].dates.length;if(7!==s)for(let a=0;a<7-s;a++)r[0].dates.unshift({day:0});if(7!==o)for(let a=0;a<7-o;a++)r[r.length-1].dates.push({day:0});return console.log(r),r}getDaysOfCurrentMonth(){return new Array(function(n,e){return new Date(e,n+1,0).getDate()}(this.selectedMonth,this.selectedYear)).fill(0).map((t,r)=>({day:r+1,month:this.selectedMonth,year:this.selectedYear}))}nameOfDay(t){return function(n,e,t){return new Date(t,e,n).toLocaleDateString("de-DE",{weekday:"short"})}(t,this.selectedMonth,this.selectedYear)}nameOfMonth(){return EI(this.selectedMonth)}isCurrentDay(t){return(new Date).getDate()===t&&(new Date).getMonth()===this.selectedMonth}isHighlighted(t){if(0===this.filter.length)return!1;const r=this.getAttendanceOfDay(t.day);let i=!0;return this.filter.forEach(s=>{-1===r.indexOf(s)&&(i=!1)}),i}mapToArray(t){return null===t?[]:Object.keys(t).map(r=>t[r])}}return n.\u0275fac=function(t){return new(t||n)(T(PV),T(sp))},n.\u0275cmp=gn({type:n,selectors:[["app-calendar"]],decls:47,vars:5,consts:[[1,"calendar-header"],["name","chevron_left",3,"click"],[1,"calendar-title"],["name","chevron_right",3,"click"],[1,"calendar-options"],["appButton","",2,"height","40px",3,"disabled","click"],[1,"calendar-filter"],["type","checkbox","id","Thierry","name","Thierry",3,"input"],["for","Thierry"],["type","checkbox","id","Ch\xf6bbi","name","Ch\xf6bbi",3,"input"],["for","Ch\xf6bbi"],["type","checkbox","id","F\xe4be","name","F\xe4be",3,"input"],["for","F\xe4be"],["type","checkbox","id","Luggy","name","Luggy",3,"input"],["for","Luggy"],["type","checkbox","id","Dave","name","Dave",3,"input"],["for","Dave"],[1,"calendar-title-days"],[1,"calendar"],["class","calendar-week",4,"ngFor","ngForOf"],["class","calendar-editing-mode-done",3,"click",4,"ngIf"],[1,"calendar-week"],["class","calendar-day",3,"is-today","is-highlighted","appContextMenu","contextMenuDisabled","click","contextMenuClick",4,"ngFor","ngForOf"],[1,"calendar-day",3,"appContextMenu","contextMenuDisabled","click","contextMenuClick"],["class","calendar-day-empty",4,"ngIf","ngIfElse"],["calendarDayContent",""],[1,"calendar-day-empty"],[1,"calendar-day-header"],[1,"calendar-events"],["class","calendar-event",3,"class",4,"ngFor","ngForOf"],[1,"calendar-people"],["class","calendar-person",3,"class",4,"ngFor","ngForOf"],[1,"calendar-event"],[1,"calendar-person"],[1,"calendar-editing-mode-done",3,"click"],["name","done"]],template:function(t,r){1&t&&(M(0,"div",0),M(1,"app-icon",1),Le("click",function(){return r.changeMonth(-1)}),k(),M(2,"h2",2),we(3),k(),M(4,"app-icon",3),Le("click",function(){return r.changeMonth(1)}),k(),k(),M(5,"div",4),M(6,"button",5),Le("click",function(){return r.startEdit()}),we(7,"Edit"),k(),M(8,"div",6),M(9,"div"),M(10,"input",7),Le("input",function(s){return r.handleFilterChange(s)}),k(),M(11,"label",8),we(12,"Thierry"),k(),k(),M(13,"div"),M(14,"input",9),Le("input",function(s){return r.handleFilterChange(s)}),k(),M(15,"label",10),we(16,"Ch\xf6bbi"),k(),k(),M(17,"div"),M(18,"input",11),Le("input",function(s){return r.handleFilterChange(s)}),k(),M(19,"label",12),we(20,"F\xe4be"),k(),k(),M(21,"div"),M(22,"input",13),Le("input",function(s){return r.handleFilterChange(s)}),k(),M(23,"label",14),we(24,"Luggy"),k(),k(),M(25,"div"),M(26,"input",15),Le("input",function(s){return r.handleFilterChange(s)}),k(),M(27,"label",16),we(28,"Dave"),k(),k(),k(),k(),M(29,"div",17),M(30,"span"),we(31,"Mo"),k(),M(32,"span"),we(33,"Di"),k(),M(34,"span"),we(35,"Mi"),k(),M(36,"span"),we(37,"Do"),k(),M(38,"span"),we(39,"Fr"),k(),M(40,"span"),we(41,"Sa"),k(),M(42,"span"),we(43,"So"),k(),k(),M(44,"div",18),Ln(45,dle,2,1,"div",19),k(),Ln(46,hle,2,0,"button",20)),2&t&&(je(3),ec("",r.nameOfMonth()," ",r.selectedYear,""),je(3),dt("disabled",r.isEditing),je(39),dt("ngForOf",r.weeks),je(1),dt("ngIf",r.isEditing))},directives:[CI,bI,Dh,ny,sle],styles:["[_nghost-%COMP%]   .calendar[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:1px;gap:1px;background-color:var(--color-gray);border-top:1px solid var(--color-gray);border-bottom:1px solid var(--color-gray)}[_nghost-%COMP%]   .calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 8px;margin-bottom:8px}[_nghost-%COMP%]   .calendar-options[_ngcontent-%COMP%]{display:flex;padding:0 8px;margin-bottom:20px;grid-gap:16px;gap:16px}[_nghost-%COMP%]   .calendar-title[_ngcontent-%COMP%]{font-size:28px;text-align:center}[_nghost-%COMP%]   .calendar-title-days[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);grid-gap:1px;gap:1px}[_nghost-%COMP%]   .calendar-title-days[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-size:var(--font-small);text-align:center;margin-bottom:4px}[_nghost-%COMP%]   .calendar-week[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);grid-auto-rows:minmax(60px,90px);grid-gap:1px;gap:1px}[_nghost-%COMP%]   .calendar-day[_ngcontent-%COMP%]{background-color:#fff;padding:4px;display:flex;flex-direction:column;width:100%;flex-grow:0}[_nghost-%COMP%]   .calendar-day.is-highlighted[_ngcontent-%COMP%]{box-shadow:inset 0 0 5px var(--color-primary)}[_nghost-%COMP%]   .calendar-day.is-today[_ngcontent-%COMP%]   .calendar-day-header[_ngcontent-%COMP%]{border-color:var(--color-primary)}[_nghost-%COMP%]   .calendar-day-header[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:4px;gap:4px;font-weight:bold;border-bottom:2px solid var(--color-dark);font-size:12px;margin-bottom:4px}[_nghost-%COMP%]   .calendar-filter[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;grid-gap:8px;gap:8px}[_nghost-%COMP%]   .calendar-events[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .calendar-event[_ngcontent-%COMP%]{font-size:11px;word-break:break-all;padding:2px 4px;margin-bottom:2px;border-radius:4px;color:#fff}[_nghost-%COMP%]   .calendar-event.Prob[_ngcontent-%COMP%]{background-color:#b5cda3}[_nghost-%COMP%]   .calendar-event.Synth[_ngcontent-%COMP%]{background-color:#d57e7e}[_nghost-%COMP%]   .calendar-event.Vocals[_ngcontent-%COMP%]{background-color:#7c99ac}[_nghost-%COMP%]   .calendar-event.Recording[_ngcontent-%COMP%]{background-color:#ad8b73}[_nghost-%COMP%]   .calendar-people[_ngcontent-%COMP%]{flex-shrink:1;display:flex;grid-gap:4px;gap:4px;flex-wrap:wrap}[_nghost-%COMP%]   .calendar-person[_ngcontent-%COMP%]{height:5px;width:5px;border-radius:100%}[_nghost-%COMP%]   .calendar-person.Thierry[_ngcontent-%COMP%]{background-color:#6867ac}[_nghost-%COMP%]   .calendar-person.Dave[_ngcontent-%COMP%]{background-color:#d77fa1}[_nghost-%COMP%]   .calendar-person.Luggy[_ngcontent-%COMP%]{background-color:#94b49f}[_nghost-%COMP%]   .calendar-person.Fabe[_ngcontent-%COMP%]{background-color:#ad8b73}[_nghost-%COMP%]   .calendar-person.Chobben[_ngcontent-%COMP%]{background-color:#ff7171}[_nghost-%COMP%]   .calendar-editing-mode-done[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px;color:var(--color-success);border:2px solid var(--color-dark);background-color:#fff;border-radius:100%;position:fixed;bottom:16px;right:16px}"]}),n})();function ple(n,e){if(1&n&&(M(0,"option",7),we(1),k()),2&n){const t=e.$implicit;dt("selected",t===ar().currentMember),je(1),$i(t)}}let gle=(()=>{class n{constructor(){this.title="atc-planner",this.currentMember="Luggy",this.bandMembers=["Thierry","Ch\xf6bbi","F\xe4be","Dave","Luggy"]}ngOnInit(){let t=localStorage.getItem("atc-member");void 0===t&&(t="Luggy",localStorage.setItem("atc-member",t)),this.currentMember=t}handleDateClick(t){console.log(t)}onBandMemberSelect(t){localStorage.setItem("atc-member",t.target.value)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=gn({type:n,selectors:[["app-root"]],decls:7,vars:1,consts:[[1,"app-page"],[1,"navbar"],["src","assets/atc_logo.jpg"],["name","bandMember","id","bandMembers",3,"change"],[3,"selected",4,"ngFor","ngForOf"],[1,"content"],[1,"no-body-padding"],[3,"selected"]],template:function(t,r){1&t&&(M(0,"div",0),M(1,"div",1),nn(2,"img",2),M(3,"select",3),Le("change",function(s){return r.onBandMemberSelect(s)}),Ln(4,ple,2,2,"option",4),k(),k(),M(5,"div",5),nn(6,"app-calendar",6),k(),k()),2&t&&(je(4),dt("ngForOf",r.bandMembers))},directives:[Dh,fle],styles:[".app-page[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column}.app-page[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:var(--layout-spacing);height:calc(100% - 64px);flex-grow:1;flex-shrink:0}.no-body-padding[_ngcontent-%COMP%]{display:block;margin-right:calc(var(--layout-spacing) * -1);margin-left:calc(var(--layout-spacing) * -1)}.navbar[_ngcontent-%COMP%]{height:64px;display:flex;align-items:center;grid-gap:16px;gap:16px}.navbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.navbar[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:8px 16px;border:0;border-bottom:2px solid #1f1f1f}"]}),n})(),NV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ge({imports:[[ay,cL],Hae]}),n})(),_le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ge({imports:[[ay,NV]]}),n})(),mle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n,bootstrap:[gle]}),n.\u0275inj=Ge({providers:[],imports:[[my,cL,Hoe,NV,_le,yx,HQ(()=>WQ(uL_firebase)),$ne(()=>Hne())]]}),n})();(function(){if(xM)throw new Error("Cannot enable prod mode after platform setup.");kM=!1})(),Cq().bootstrapModule(mle).catch(n=>console.error(n))}},Do=>{Do(Do.s=645)}]);